// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/arrayUtils"],function(h,k,f){var g=function(){return function(c){this.ids=new Set;this.paused=!1;this.options=c}}();return function(){function c(a){this.highlights=[];this.collection=a.collection;this.forAllFeatures=a.forAllFeatures;this.forAllFeaturesOfNode=a.forAllFeaturesOfNode}c.prototype.destroy=function(){var a=this;this.highlights.forEach(function(d){return a.releaseSet(d)});this.highlights=null};c.prototype.acquireSet=function(a){var d=this,b=
new g(a);this.highlights.push(b);return{set:b,handle:{remove:function(){d.releaseSet(b);f.removeUnordered(d.highlights,b)},pause:function(){d.releaseSet(b);b.paused=!0},resume:function(){b.paused=!1;d.initializeSet(b)}}}};c.prototype.setFeatureIds=function(a,d){d.forEach(function(b){return a.ids.add(b)});this.initializeSet(a)};c.prototype.initializeSet=function(a){var d=this;this.forAllFeatures(function(b,c,e){a.ids.has(b)&&d.collection.addComponentHighlight(e.objectHandle,c);return 1})};c.prototype.releaseSet=
function(a){var d=this;this.forAllFeatures(function(b,c,e){a.ids.has(b)&&d.collection.removeComponentHighlight(e.objectHandle,c);return 1})};c.prototype.objectCreated=function(a){var d=this;this.highlights.forEach(function(b){b.paused||d.forAllFeaturesOfNode(a,function(c,e){b.ids.has(c)&&d.collection.addComponentHighlight(a.objectHandle,e);return 1})})};c.prototype.objectDeleted=function(a){this.collection.clearHighlights(a.objectHandle)};return c}()});