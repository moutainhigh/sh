// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../shaders/WaterSurface.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),function(l,h,k,f,g,m,n,e,p,q,r,a){Object.defineProperty(h,"__esModule",{value:!0});g=
function(d){function c(){return null!==d&&d.apply(this,arguments)||this}k(c,d);c.prototype.initializeProgram=function(b){var a=c.shader.get(),d=this.configuration,a=a.build({output:d.output,viewingMode:b.viewingMode,slicePlaneEnabled:d.slice,sliceHighlightDisabled:!1,receiveShadows:d.receiveShadows,usePBR:!1,usePBRforWater:!0,useCustomDTRExponentForWater:!0});return new r(b.rctx,a.generateSource("vertex"),a.generateSource("fragment"),p.Default3D)};c.prototype.initializePipeline=function(){var b=this.configuration;
return 2===b.output?a.makePipelineState({depthTest:{func:513},depthWrite:b.writeDepth&&a.defaultDepthWriteParams,colorWrite:a.defaultColorWriteParams}):a.makePipelineState({blending:b.transparent&&a.separateBlendingParams(770,1,771,771),depthTest:{func:513},depthWrite:b.writeDepth&&a.defaultDepthWriteParams,colorWrite:a.defaultColorWriteParams})};c.prototype.bindPipelineState=function(b){b.setPipelineState(this.pipeline)};c.shader=new m.ReloadableShaderModule(q,"../shaders/WaterSurface.glsl",l);return c}(n.ShaderTechnique);
h.WaterTechnique=g;g=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b.output=0;b.receiveShadows=!1;b.slice=!1;b.transparent=!1;b.writeDepth=!1;return b}k(c,a);f([e.parameter({count:6})],c.prototype,"output",void 0);f([e.parameter()],c.prototype,"receiveShadows",void 0);f([e.parameter()],c.prototype,"slice",void 0);f([e.parameter()],c.prototype,"transparent",void 0);f([e.parameter()],c.prototype,"writeDepth",void 0);return c}(e.ShaderTechniqueConfiguration);h.WaterTechniqueConfiguration=
g});