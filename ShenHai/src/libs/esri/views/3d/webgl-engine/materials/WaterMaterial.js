// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/assignHelper ../lib/AnimationTimer ../lib/Material ./WaterGLMaterial ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/waterMaterialUtils ./renderers/MergedRenderer".split(" "),function(b,c,f,g,k,l,d,e,h,m,n){Object.defineProperty(c,"__esModule",{value:!0});b=function(b){function a(p,a){a=b.call(this,a)||this;a.animation=new k.AnimationTimer;a.params=h.copyParameters(p,m.waterParameterDefaultsLocal);
return a}f(a,b);a.prototype.setParameterValues=function(a){this.params=g({},this.params,a);this.notifyDirty("matChanged")};a.prototype.getParameters=function(){return this.params};a.prototype.update=function(a){this.animation.enabled=Math.sqrt(this.params.waveTextureRepeat/this.params.waveStrength)*Math.min(a.camera.relativeElevation,a.camera.distance)<q;this.animation.advance(a.dt);return this.animation.enabled};a.prototype.intersect=function(a,b,d,c,e,f,g){h.intersectTriangleGeometry(a,b,c,e,f,
void 0,g)};a.prototype.getGLMaterials=function(){return{color:this.params.isDraped?d.WaterDrapedGLMaterial:d.WaterGLMaterial,depthShadowMap:void 0,normal:d.WaterNormalGLMaterial,depth:void 0,highlight:void 0}};a.prototype.createBufferWriter=function(){return new e.DefaultBufferWriter(e.PositionUVLayout)};a.prototype.createRenderer=function(a,b){return new n(a,b,this)};return a}(l.Material);c.WaterMaterial=b;var q=35E3});