// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./ColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),function(k,g,h,d,e,l,m,
n,p,b,q,r,t,f){Object.defineProperty(g,"__esModule",{value:!0});e=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}h(a,b);a.prototype.initializeProgram=function(c){var b=a.shader.get(),d=this.configuration,b=b.build({attributeColor:d.vertexColors,slicePlaneEnabled:d.slicePlaneEnabled,sliceHighlightDisabled:d.sliceHighlightDisabled});return new t(c.rctx,b.generateSource("vertex"),b.generateSource("fragment"),q.Default3D)};a.prototype.bindPass=function(c,a,b){this.program.setUniform4fv("eColor",
a.color)};a.prototype.bindDraw=function(c){m.Transform.bindUniforms(this.program,c);l.Slice.bindUniformsWithOrigin(this.program,this.configuration,c)};a.prototype.bindInstance=function(c){this.program.setUniformMatrix4fv("model",c.transformation)};a.prototype.initializePipeline=function(){var c=this.configuration,a=0===c.output?c.transparent&&f.separateBlendingParams(770,1,771,771):null;return f.makePipelineState({blending:a,polygonOffset:c.polygonOffset&&{factor:1,units:1},culling:function(a){return 0!==
a&&{face:1===a?1028:1029,mode:2305}}(c.cullFace),depthTest:{func:513},depthWrite:c.writeDepth&&f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams})};a.prototype.bindPipelineState=function(a){a.setPipelineState(this.pipeline)};a.shader=new n.ReloadableShaderModule(r,"./ColorMaterial.glsl",k);return a}(p.ShaderTechnique);g.ColorMaterialTechnique=e;e=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;a.output=0;a.cullFace=0;a.slicePlaneEnabled=!1;a.sliceHighlightDisabled=
!1;a.vertexColors=!1;a.transparent=!1;a.polygonOffset=!1;a.writeDepth=!0;return a}h(a,e);d([b.parameter({count:6})],a.prototype,"output",void 0);d([b.parameter({count:3})],a.prototype,"cullFace",void 0);d([b.parameter()],a.prototype,"slicePlaneEnabled",void 0);d([b.parameter()],a.prototype,"sliceHighlightDisabled",void 0);d([b.parameter()],a.prototype,"vertexColors",void 0);d([b.parameter()],a.prototype,"transparent",void 0);d([b.parameter()],a.prototype,"polygonOffset",void 0);d([b.parameter()],
a.prototype,"writeDepth",void 0);return a}(b.ShaderTechniqueConfiguration);g.ColorMaterialTechniqueConfiguration=e});