// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define(["require","exports","./depthRange","./Util"],function(g,h,k,l){Object.defineProperty(h,"__esModule",{value:!0});g=function(){function c(b){this.pluginContext=b;this.renderPlugins=[];this.slots=[];for(b=0;20>b;++b)this.slots[b]=[]}c.prototype.add=function(b,a){this.renderPlugins.push(a);for(var d=0;d<b.length;++d)this.slots[b[d]].push(a);a.initializeRenderContext(this.pluginContext);this.pluginContext.requestRender()};c.prototype.remove=function(b){var a=this.renderPlugins.length;this.renderPlugins=
this.renderPlugins.filter(function(a){return a!==b});l.assert(this.renderPlugins.length<a,"Removing non-added render plugin");for(a=0;a<this.slots.length;++a)this.slots[a]=this.slots[a].filter(function(a){return a!==b});b.uninitializeRenderContext();this.pluginContext.requestRender()};c.prototype.prepareRender=function(b){for(var a=0,d=this.renderPlugins;a<d.length;a++){var e=d[a];e.prepareRender&&e.prepareRender(b)}};c.prototype.render=function(b,a){a.slot=b;var d=!1,e=0;for(b=this.slots[b];e<b.length;e++){var c=
b[e];c.canRender&&c.render(a)&&(d=!0)}return d};c.prototype.queryDepthRange=function(b){var a=m;a.near=Infinity;a.far=-Infinity;for(var d=0,c=this.renderPlugins;d<c.length;d++){var f=c[d];f.queryDepthRange&&(f=f.queryDepthRange(b))&&k.union(a,f,a)}return a};c.prototype.needsHighlight=function(){return this.renderPlugins.some(function(b){return b.needsHighlight})};c.prototype.needsLinearDepth=function(){return this.renderPlugins.some(function(b){return b.needsLinearDepth})};return c}();h.RenderPluginManager=
g;var m={near:0,far:0}});