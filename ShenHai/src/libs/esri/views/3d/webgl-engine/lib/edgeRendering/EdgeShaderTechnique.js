// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/decorateHelper ../../../../webgl ../../core/shaderLibrary/attributes/VertexPosition.glsl ../../core/shaderTechnique/ReloadableShaderModule ../../core/shaderTechnique/ShaderTechnique ../../core/shaderTechnique/ShaderTechniqueConfiguration ../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl ../../../../webgl/renderState".split(" "),function(m,h,l,f,n,p,q,k,c,r,e){Object.defineProperty(h,"__esModule",
{value:!0});k=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}l(d,c);d.prototype.bindPass=function(b,a){b=this.program;var g=a.edgeRenderParameters;a=a.renderParameters;p.VertexPosition.bindViewProjTransform(b,g.viewProjectionTransform);b.setUniformMatrix3fv("uTransformNormal_ViewFromGlobal",g.transformNormal_ViewFromGlobal);b.setUniformMatrix4fv("uProj",a.proj);b.setUniform2f("uDepthBias",.5,-4E-4);b.setUniform2f("uPixelToNDC",2/a.viewport[2],2/a.viewport[3]);b.setUniform2f("uNDCToPixel",
a.viewport[2]/2,a.viewport[3]/2);b.setUniform1f("uDistanceFalloffFactor",g.distanceFalloffFactor);b.setUniform2f("uViewportDimInv",1/a.viewport[2],1/a.viewport[3]);b.setUniform1f("uPixelRatio",a.pixelRatio||1)};d.prototype.initializeProgram=function(b){var a=d.shader.get(),g=a.build(this.configuration);return new n.Program(b.rctx,g.generateSource("vertex"),g.generateSource("fragment"),a.attributeLocations)};d.prototype.initializePipeline=function(b){return(b=b.rctx.capabilities.blendMinMax)?e.makePipelineState({blending:e.separateBlendingParams(1,
1,0,1,32774,b.MAX),depthTest:{func:515},colorWrite:e.defaultColorWriteParams}):e.makePipelineState({depthTest:{func:515},depthWrite:e.defaultDepthWriteParams,colorWrite:e.defaultColorWriteParams})};d.shader=new q.ReloadableShaderModule(r,"../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl",m);return d}(k.ShaderTechnique);h.EdgeShaderTechnique=k;(function(e){var d=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.slicePlaneEnabled=!1;a.sliceHighlightDisabled=!1;a.silhouette=
!1;a.legacy=!1;a.antialiasing=!1;a.mode=0;a.doublePrecisionRequiresObfuscation=!1;return a}l(a,b);f([c.parameter()],a.prototype,"slicePlaneEnabled",void 0);f([c.parameter()],a.prototype,"sliceHighlightDisabled",void 0);f([c.parameter()],a.prototype,"silhouette",void 0);f([c.parameter()],a.prototype,"legacy",void 0);f([c.parameter()],a.prototype,"antialiasing",void 0);f([c.parameter({count:3})],a.prototype,"mode",void 0);f([c.parameter()],a.prototype,"doublePrecisionRequiresObfuscation",void 0);return a}(c.ShaderTechniqueConfiguration);
e.Configuration=d})(k=h.EdgeShaderTechnique||(h.EdgeShaderTechnique={}));h.EdgeShaderTechnique=k});