// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.14/esri/copyright.txt for details.
//>>built
require({cache:{"@dojo/framework/shim/Map":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),F)})(function(F,v){Object.defineProperty(v,"__esModule",{value:!0});var y=F("tslib"),r=F("./iterator"),x=F("./global"),d=F("./object"),n=F("../has/has");F("./Symbol");v.Map=x.default.Map;n.default("es6-map")||
(v.Map=(h=function(){function n(d){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(d)if(r.isArrayLike(d))for(var n=0;n<d.length;n++){var h=d[n];this.set(h[0],h[1])}else try{for(var n=y.__values(d),z=n.next();!z.done;z=n.next())h=z.value,this.set(h[0],h[1])}catch(g){E={error:g}}finally{try{z&&!z.done&&(l=n.return)&&l.call(n)}finally{if(E)throw E.error;}}var E,l}n.prototype._indexOfKey=function(n,h){for(var B=0,z=n.length;B<z;B++)if(d.is(n[B],h))return B;return-1};Object.defineProperty(n.prototype,
"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});n.prototype.clear=function(){this._keys.length=this._values.length=0};n.prototype.delete=function(d){d=this._indexOfKey(this._keys,d);if(0>d)return!1;this._keys.splice(d,1);this._values.splice(d,1);return!0};n.prototype.entries=function(){var d=this,n=this._keys.map(function(n,z){return[n,d._values[z]]});return new r.ShimIterator(n)};n.prototype.forEach=function(d,n){for(var h=this._keys,z=this._values,E=0,l=h.length;E<
l;E++)d.call(n,z[E],h[E],this)};n.prototype.get=function(d){d=this._indexOfKey(this._keys,d);return 0>d?void 0:this._values[d]};n.prototype.has=function(d){return-1<this._indexOfKey(this._keys,d)};n.prototype.keys=function(){return new r.ShimIterator(this._keys)};n.prototype.set=function(d,n){var h=this._indexOfKey(this._keys,d),h=0>h?this._keys.length:h;this._keys[h]=d;this._values[h]=n;return this};n.prototype.values=function(){return new r.ShimIterator(this._values)};n.prototype[Symbol.iterator]=
function(){return this.entries()};return n}(),h[Symbol.species]=h,h));v.default=v.Map;var h})},"@dojo/framework/shim/object":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],F)})(function(F,v){Object.defineProperty(v,"__esModule",{value:!0});var y=F("./global"),r=F("../has/has"),x=F("./Symbol");r.default("es6-object")?
(F=y.default.Object,v.assign=F.assign,v.getOwnPropertyDescriptor=F.getOwnPropertyDescriptor,v.getOwnPropertyNames=F.getOwnPropertyNames,v.getOwnPropertySymbols=F.getOwnPropertySymbols,v.is=F.is,v.keys=F.keys):(v.keys=function(d){return Object.keys(d).filter(function(d){return!d.match(/^@@.+/)})},v.assign=function(d){for(var n=[],h=1;h<arguments.length;h++)n[h-1]=arguments[h];if(null==d)throw new TypeError("Cannot convert undefined or null to object");var r=Object(d);n.forEach(function(d){d&&v.keys(d).forEach(function(n){r[n]=
d[n]})});return r},v.getOwnPropertyDescriptor=function(d,n){x.isSymbol(n);return Object.getOwnPropertyDescriptor(d,n)},v.getOwnPropertyNames=function(d){return Object.getOwnPropertyNames(d).filter(function(d){return!d.match(/^@@.+/)})},v.getOwnPropertySymbols=function(d){return Object.getOwnPropertyNames(d).filter(function(d){return!!d.match(/^@@.+/)}).map(function(d){return Symbol.for(d.substring(2))})},v.is=function(d,n){return d===n?0!==d||1/d===1/n:d!==d&&n!==n});r.default("es2017-object")?(F=
y.default.Object,v.getOwnPropertyDescriptors=F.getOwnPropertyDescriptors,v.entries=F.entries,v.values=F.values):(v.getOwnPropertyDescriptors=function(d){return v.getOwnPropertyNames(d).reduce(function(n,h){n[h]=v.getOwnPropertyDescriptor(d,h);return n},{})},v.entries=function(d){return v.keys(d).map(function(n){return[n,d[n]]})},v.values=function(d){return v.keys(d).map(function(n){return d[n]})})})},"esri/widgets/FeatureForm":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!./FeatureForm/nls/FeatureForm dojo/date/locale ../moment ../core/accessorSupport/decorators ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E){var l={datePattern:"M/d/y",timePattern:"h:mm:ss a"};return function(g){function q(p){p=g.call(this,p)||this;p._fieldFocusNeeded=!1;p._activeDateEdit=null;p._activeInputName=null;p.feature=null;p.fieldConfig=null;p.groupDisplay="all";p.label=d.widgetLabel;p.layer=null;p.strict=null;p.viewModel=new z;p._handleFormKeyDown=p._handleFormKeyDown.bind(p);p._handleInputBlur=p._handleInputBlur.bind(p);p._handleInputFocus=p._handleInputFocus.bind(p);p._handleNumberInputMouseDown=
p._handleNumberInputMouseDown.bind(p);p._handleInputKeyDown=p._handleInputKeyDown.bind(p);p._handleOptionChange=p._handleOptionChange.bind(p);p._handleGroupClick=p._handleGroupClick.bind(p);p._handleSubmit=p._handleSubmit.bind(p);p._afterScrollerCreateOrUpdate=p._afterScrollerCreateOrUpdate.bind(p);return p}r(q,g);q.prototype.postInitialize=function(){var p=this;this.own(this.watch("feature",function(){var q=p._getFocusableInput("forward");p._activeInputName=q&&q.name;p._fieldFocusNeeded=!0}),this.on("submit",
function(q){0<q.invalid.length&&(p._activeInputName=q.invalid[0],p._fieldFocusNeeded=!0,p.scheduleRender())}))};q.prototype.getValues=function(){return null};q.prototype.submit=function(){return null};q.prototype.render=function(){var p=this.viewModel.state;return E.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===p?this.renderForm():null)};q.prototype.renderForm=function(){return E.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,
onkeydown:this._handleFormKeyDown},this.renderFields())};q.prototype.renderFields=function(){var p=this;return this.viewModel.inputFields.map(function(q,g){return q&&q.inputFields?p.renderGroup(q,g):p.renderLabeledField(q)})};q.prototype.renderGroup=function(p,q){var g=this,l=p.description,J=p.label,t=p.inputFields,d=this.viewModel.findField(this._activeInputName),d=d&&d.group===p,n=this.id+"_group_"+q,h=this.id+"_group-label_"+q,z=this.id+"_group-description_"+q,B=l?E.tsx("p",{class:this.classes("esri-feature-form__group-description",
"esri-feature-form__description-text"),id:z},l):null,D="sequential"===this.groupDisplay,r=D?d?"true":"false":void 0;return E.tsx("fieldset",{class:this.classes("esri-feature-form__group",D?"esri-feature-form__group--sequential":null,!D||d?null:"esri-feature-form__group--collapsed",d?"esri-feature-form__group--active":null),"aria-expanded":r,"aria-labelledby":h,"aria-describedby":l?z:"","data-group":p,id:n,key:q,onclick:this._handleGroupClick},E.tsx("div",{class:"esri-feature-form__group-label",id:h},
J),B,t.map(function(p){return g.renderLabeledField(p)}))};q.prototype._getFocusableInput=function(p,q){var g=this.viewModel._allInputFields;p="forward"===p?g:g.slice().reverse();for(q=q?p.indexOf(q)+1:0;q<p.length;q++)if(g=p[q],g.visible&&g.editable)return g;return null};q.prototype.renderLabeledField=function(p){return E.tsx("label",{key:p.layer.id+"-"+p.name,class:"esri-feature-form__label"},[p.label,"unsupported"!==p.type?this.renderInputField(p):this.renderUnsupportedField(p),this.renderAuxiliaryText(p)])};
q.prototype.renderInputField=function(p){var q=p.domain,g=p.editable,l=p.type,d=this.viewModel.getValue(p.name),g=!g,t=this.getCommonInputProps(p);return q&&"coded-value"===q.type&&!g?this.renderSelectInputField(d,q.codedValues.map(function(p){return{value:p.code,name:p.name}}),t):"text"===l&&"text-area"===p.editorType||"rich-text"===p.editorType?E.tsx("textarea",y({},t)):"date"===l?this.renderDateInputField(d,t):E.tsx("input",y({type:"text"===l?"text":"number"},t))};q.prototype.renderDateInputField=
function(p,q){var g=this._formatDate(0),l=g.date,g=g.time,J=this.id+"-"+q.key,t=J+"-date",J=J+"-time",d=q["data-field"];return E.tsx("div",{key:q.key+"-date",class:"esri-feature-form__date-input-container"},E.tsx("div",{class:"esri-feature-form__date-input-part"},E.tsx("input",y({"aria-label":d.label,"aria-describedby":t,type:"text"},q,{"data-date-part":"date",class:this.classes(q.class,"esri-feature-form__input--date"),value:this._formatDate(p).date})),E.tsx("div",{class:"esri-feature-form__date-format-hint",
id:t},l)),E.tsx("div",{class:"esri-feature-form__date-input-part"},E.tsx("input",y({"aria-describedby":J,"aria-label":d.label,type:"text"},q,{"data-date-part":"time",class:this.classes(q.class,"esri-feature-form__input--time"),value:this._formatDate(p).time})),E.tsx("div",{class:"esri-feature-form__date-format-hint",id:J},g)))};q.prototype.renderUnsupportedField=function(p){p=this.viewModel.getValue(p.name);return E.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),
disabled:!0,type:"text",value:""+p})};q.prototype.renderSelectInputField=function(p,q,g){var l=!1;q=q.map(function(t){t.value===p&&(l=!0);return E.tsx("option",{value:""+t.value,key:t.name},t.name)});null==p||""===p||l||q.unshift(E.tsx("option",{value:""+p,key:"outlier-option"},p));var J=g["data-field"];J.required||null!=J.value||q.unshift(E.tsx("option",{value:"",key:"empty-option"}));return E.tsx("select",y({},g,{class:this.classes(g.class,"esri-select"),onchange:this._handleOptionChange}),q)};
q.prototype.renderAuxiliaryText=function(p){if(!p.valid)return E.tsx("div",{key:"error-message"},E.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid","esri-icon-notice-triangle")}),E.tsx("div",{class:"esri-feature-form__field-error-message"},p.errorMessage));if(p.valid&&p.description)return E.tsx("div",{key:"description",class:"esri-feature-form__description-text"},p.description)};q.prototype.getCommonInputProps=function(p){var q=p.editable,g=p.name,l=p.required,d=p.maxLength,
t=p.hint,n=p.type,h=p.valid,z=this.viewModel.getValue(g),q=!q;return y({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":h?"false":"true",class:this.classes("esri-input","esri-feature-form__input",q?"esri-feature-form__input--disabled":null,h?null:"esri-feature-form__input--invalid"),key:g,maxlength:-1<d?""+d:""},this._getNumberFieldConstraints(p),{disabled:q,value:null==z?"":""+z,"data-field":p,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,
onkeydown:this._handleInputKeyDown,onmousedown:"number"===n?this._handleNumberInputMouseDown:null,required:l,title:t})};q.prototype._handleNumberInputMouseDown=function(p){p=p.target;p.disabled||p.focus();this.scheduleRender()};q.prototype._getNumberFieldConstraints=function(p){return(p=I.getDomainRange(p.domain)||B.getFieldRange(p.field))&&p.max!==Number.MAX_VALUE&&p.min!==Number.MIN_VALUE?p:{min:null,max:null}};q.prototype._afterScrollerCreateOrUpdate=function(p){var q=p["data-field"],g=this.viewModel.findField(this._activeInputName);
q.editable&&this._fieldFocusNeeded&&g===q&&(this._fieldFocusNeeded=!1,p.focus())};q.prototype._handleInputFocus=function(p){this._activeInputName=p.target["data-field"].name};q.prototype._handleInputBlur=function(p){var q,g=p.target,l=g["data-field"],d=(p=p.relatedTarget)&&p["data-field"];if("date"===l.type){var t=g.getAttribute("data-date-part");this._activeDateEdit=y({},this._activeDateEdit,(q={},q[t]={value:g.value,input:g},q))}d&&"date"===l.type&&"date"===d.type&&l.field===d.field?""!==g.value&&
""===p.value&&(t=p.getAttribute("data-date-part"),p.value=this._formatDate(Date.now())[t]):(this._commitValue(g),this.scheduleRender())};q.prototype._commitValue=function(p){var q=p["data-field"];if(this._activeDateEdit){var g=this._activeDateEdit;p=g.date;var g=g.time,l=this._getDateEditValue(q,"date"),q=this._getDateEditValue(q,"time"),d=""===l||""===q;p&&(p=p.input,p.value=d?"":l,this._updateFieldValue(p));g&&(p=g.input,p.value=d?"":q,this._updateFieldValue(p));this._activeDateEdit=null}else this._updateFieldValue(p)};
q.prototype._getDateEditValue=function(p,q){var g=this._activeDateEdit[q];if(g)return""===g.value?"":(g=this._parseDate(g.value,q))?this._formatDate(g.getTime())[q]:this._formatDate(p.value)[q]};q.prototype._handleInputKeyDown=function(p){var q=p.key,g=p.altKey,l=p.ctrlKey,d=p.metaKey,t=p.shiftKey;if("Tab"===q){var n=p.target,h=n["data-field"],q=t?"backward":"forward",g=n.getAttribute("data-date-part");"backward"===q&&"time"===g||"forward"===q&&"date"===g||(this._commitValue(n),g=this.viewModel.findField(h.name),
this._activeInputName=(q=this._getFocusableInput(q,g))&&q.name,q?(p.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}else"Enter"!==q?(n=p.target,h=n["data-field"],h=h.field.type,n="single"===h||"double"===h,"integer"!==h&&"small-integer"!==h&&!n||g||l||d||1!==q.length||(g=Number(q),l=["-","+"],d=["e","."],l=n?l.concat(d):l,isNaN(g)&&-1===l.indexOf(q)&&p.preventDefault())):(this._updateFieldValue(p.target),this.scheduleRender())};q.prototype._updateFieldValue=function(p){this.viewModel.setValue(p["data-field"].name,
this._parseValue(p))};q.prototype._parseValue=function(p){var q=p["data-field"],g=p.value,l=q.type;if(!q.required&&""===g)return null;if("number"===l)return parseFloat(g);if("date"===l){if(!g)return null;p=p.getAttribute("data-date-part");l=Number(g);if(!isNaN(l))return l;g=this._parseDate(g,p);if(!g)return null;var g=h(g),d=q.domain,t=h(),l=t;d&&"range"===d.type&&(d=h(d.maxValue),t.isAfter(d)||(l=d));q=this.viewModel.getValue(q.name);q=h(null!=q?q:l);"date"===p?(g.hour(q.hour()),g.minutes(q.minutes()),
g.seconds(q.seconds())):(g.date(q.date()),g.month(q.month()),g.year(q.year()));return g.valueOf()}return g};q.prototype._handleOptionChange=function(p){this._updateFieldValue(p.target);this.scheduleRender()};q.prototype._handleGroupClick=function(p){p=p.currentTarget;"false"===p.getAttribute("aria-expanded")&&(this._activeInputName=p["data-group"].inputFields[0].name,this._fieldFocusNeeded=!0,this.scheduleRender())};q.prototype._handleSubmit=function(p){p.preventDefault()};q.prototype._handleFormKeyDown=
function(p){"Enter"===p.key&&this.viewModel.submit()};q.prototype._formatDate=function(p){if(null==p)return{date:"",time:""};p=new Date(p);return{date:n.format(p,y({selector:"date"},l)),time:n.format(p,y({selector:"time"},l))}};q.prototype._parseDate=function(p,q){return null==p||""===p?null:n.parse(p,y({selector:q},l))};x([H.aliasOf("viewModel.feature")],q.prototype,"feature",void 0);x([H.aliasOf("viewModel.fieldConfig")],q.prototype,"fieldConfig",void 0);x([H.property(),E.renderable()],q.prototype,
"groupDisplay",void 0);x([H.property()],q.prototype,"label",void 0);x([H.aliasOf("viewModel.layer")],q.prototype,"layer",void 0);x([H.aliasOf("viewModel.strict")],q.prototype,"strict",void 0);x([H.property(),E.renderable(["viewModel.inputFields","viewModel.state"]),E.vmEvent(["value-change","submit"])],q.prototype,"viewModel",void 0);x([H.aliasOf("viewModel.getValues")],q.prototype,"getValues",null);x([H.aliasOf("viewModel.submit")],q.prototype,"submit",null);return q=x([H.subclass("esri.widgets.FeatureForm")],
q)}(H.declared(D))})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(F,v,y,r,x,d,n,h,H){function I(q,p,g,l){return l.replace(/([a-z])\1*/ig,function(d){var J,t,h=d.charAt(0);d=d.length;var E=["abbr","wide","narrow"];switch(h){case "G":J=p[4>d?"eraAbbr":"eraNames"][0>q.getFullYear()?0:1];break;case "y":J=q.getFullYear();switch(d){case 1:break;case 2:if(!g.fullYear){J=
String(J);J=J.substr(J.length-2);break}default:t=!0}break;case "Q":case "q":J=Math.ceil((q.getMonth()+1)/3);t=!0;break;case "M":case "L":J=q.getMonth();3>d?(J+=1,t=!0):(h=["months","L"==h?"standAlone":"format",E[d-3]].join("-"),J=p[h][J]);break;case "w":J=z._getWeekOfYear(q,0);t=!0;break;case "d":J=q.getDate();t=!0;break;case "D":J=z._getDayOfYear(q);t=!0;break;case "e":case "c":if(J=q.getDay(),2>d){J=(J-r.getFirstDayOfWeek(g.locale)+8)%7;break}case "E":J=q.getDay();3>d?(J+=1,t=!0):(h=["days","c"==
h?"standAlone":"format",E[d-3]].join("-"),J=p[h][J]);break;case "a":h=12>q.getHours()?"am":"pm";J=g[h]||p["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":t=q.getHours();switch(h){case "h":J=t%12||12;break;case "H":J=t;break;case "K":J=t%12;break;case "k":J=t||24}t=!0;break;case "m":J=q.getMinutes();t=!0;break;case "s":J=q.getSeconds();t=!0;break;case "S":J=Math.round(q.getMilliseconds()*Math.pow(10,d-3));t=!0;break;case "v":case "z":if(J=z._getZone(q,!0,g))break;d=4;case "Z":h=
z._getZone(q,!1,g);h=[0>=h?"+":"-",n.pad(Math.floor(Math.abs(h)/60),2),n.pad(Math.abs(h)%60,2)];4==d&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));J=h.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+l);}t&&(J=n.pad(J,d));return J})}function B(q,p,g,l){var J=function(p){return p};p=p||J;g=g||J;l=l||J;var d=q.match(/(''|[^'])+/g),t="'"==q.charAt(0);v.forEach(d,function(q,l){q?(d[l]=(t?g:p)(q.replace(/''/g,"'")),t=!t):d[l]=""});return l(d.join(""))}function D(q,p,g,l){l=
d.escapeString(l);g.strict||(l=l.replace(" a"," ?a"));return l.replace(/([a-z])\1*/ig,function(l){var J;J=l.charAt(0);var t=l.length,d="",h="";g.strict?(1<t&&(d="0{"+(t-1)+"}"),2<t&&(h="0{"+(t-2)+"}")):(d="0?",h="0{0,2}");switch(J){case "y":J="\\d{2,4}";break;case "M":case "L":2<t?(J=p["months-"+("L"==J?"standAlone":"format")+"-"+E[t-3]].slice(0).join("|"),g.strict||(J=J.replace(/\./g,""),J="(?:"+J+")\\.?")):J="1[0-2]|"+d+"[1-9]";break;case "D":J="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+d+"[1-9][0-9]|"+
h+"[1-9]";break;case "d":J="3[01]|[12]\\d|"+d+"[1-9]";break;case "w":J="[1-4][0-9]|5[0-3]|"+d+"[1-9]";break;case "E":case "e":case "c":J=".+?";break;case "h":J="1[0-2]|"+d+"[1-9]";break;case "k":J="1[01]|"+d+"\\d";break;case "H":J="1\\d|2[0-3]|"+d+"\\d";break;case "K":J="1\\d|2[0-4]|"+d+"[1-9]";break;case "m":case "s":J="[0-5]\\d";break;case "S":J="\\d{"+t+"}";break;case "a":t=g.am||p["dayPeriods-format-wide-am"];d=g.pm||p["dayPeriods-format-wide-pm"];J=t+"|"+d;g.strict||(t!=t.toLowerCase()&&(J+=
"|"+t.toLowerCase()),d!=d.toLowerCase()&&(J+="|"+d.toLowerCase()),-1!=J.indexOf(".")&&(J+="|"+J.replace(/\./g,"")));J=J.replace(/\./g,"\\.");break;default:J=".*"}q&&q.push(l);return"("+J+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var z={};F.setObject(H.id.replace(/\//g,"."),z);z._getZone=function(q,p,g){return p?y.getTimezoneName(q):q.getTimezoneOffset()};z.format=function(q,p){p=p||{};var g=x.normalizeLocale(p.locale),l=p.formatLength||"short",g=z._getGregorianBundle(g),d=[];q=F.hitch(this,I,q,g,p);
if("year"==p.selector)return B(g["dateFormatItem-yyyy"]||"yyyy",q);var h;"date"!=p.selector&&(h=p.timePattern||g["timeFormat-"+l])&&d.push(B(h,q));"time"!=p.selector&&(h=p.datePattern||g["dateFormat-"+l])&&d.push(B(h,q));return 1==d.length?d[0]:g["dateTimeFormat-"+l].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(p,g){return d[g]})};z.regexp=function(g){return z._parseInfo(g).regexp};z._parseInfo=function(g){g=g||{};var p=x.normalizeLocale(g.locale),p=z._getGregorianBundle(p),q=g.formatLength||"short",
l=g.datePattern||p["dateFormat-"+q],d=g.timePattern||p["timeFormat-"+q],q="date"==g.selector?l:"time"==g.selector?d:p["dateTimeFormat-"+q].replace(/\{(\d+)\}/g,function(p,g){return[d,l][g]}),h=[];return{regexp:B(q,F.hitch(this,D,h,p,g)),tokens:h,bundle:p}};z.parse=function(g,p){var q=/[\u200E\u200F\u202A\u202E]/g,l=z._parseInfo(p),d=l.tokens,h=l.bundle;g=(new RegExp("^"+l.regexp.replace(q,"")+"$",l.strict?"":"i")).exec(g&&g.replace(q,""));if(!g)return null;var t=["abbr","wide","narrow"],n=[1970,0,
1,0,0,0,0],E="";g=v.every(g,function(g,q){if(!q)return!0;var l=d[q-1];q=l.length;l=l.charAt(0);switch(l){case "y":if(2!=q&&p.strict)n[0]=g;else if(100>g)g=Number(g),l=""+(new Date).getFullYear(),q=100*l.substring(0,2),l=Math.min(Number(l.substring(2,4))+20,99),n[0]=g<l?q+g:q-100+g;else{if(p.strict)return!1;n[0]=g}break;case "M":case "L":if(2<q){if(q=h["months-"+("L"==l?"standAlone":"format")+"-"+t[q-3]].concat(),p.strict||(g=g.replace(".","").toLowerCase(),q=v.map(q,function(g){return g.replace(".",
"").toLowerCase()})),g=v.indexOf(q,g),-1==g)return!1}else g--;n[1]=g;break;case "E":case "e":case "c":q=h["days-"+("c"==l?"standAlone":"format")+"-"+t[q-3]].concat();p.strict||(g=g.toLowerCase(),q=v.map(q,function(g){return g.toLowerCase()}));g=v.indexOf(q,g);if(-1==g)return!1;break;case "D":n[1]=0;case "d":n[2]=g;break;case "a":q=p.am||h["dayPeriods-format-wide-am"];l=p.pm||h["dayPeriods-format-wide-pm"];if(!p.strict){var J=/\./g;g=g.replace(J,"").toLowerCase();q=q.replace(J,"").toLowerCase();l=
l.replace(J,"").toLowerCase()}if(p.strict&&g!=q&&g!=l)return!1;E=g==l?"p":g==q?"a":"";break;case "K":24==g&&(g=0);case "h":case "H":case "k":if(23<g)return!1;n[3]=g;break;case "m":n[4]=g;break;case "s":n[5]=g;break;case "S":n[6]=g}return!0});q=+n[3];"p"===E&&12>q?n[3]=q+12:"a"===E&&12==q&&(n[3]=0);q=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);p.strict&&q.setFullYear(n[0]);var B=d.join(""),l=-1!=B.indexOf("d"),B=-1!=B.indexOf("M");if(!g||B&&q.getMonth()>n[1]||l&&q.getDate()>n[2])return null;if(B&&
q.getMonth()<n[1]||l&&q.getDate()<n[2])q=y.add(q,"hour",1);return q};var E=["abbr","wide","narrow"],l=[],g={};z.addCustomFormats=function(q,p){l.push({pkg:q,name:p});g={}};z._getGregorianBundle=function(q){if(g[q])return g[q];var p={};v.forEach(l,function(g){g=x.getLocalization(g.pkg,g.name,q);p=F.mixin(p,g)},this);return g[q]=p};z.addCustomFormats(H.id.replace(/\/date\/locale$/,".cldr"),"gregorian");z.getNames=function(g,p,l,d){var q;d=z._getGregorianBundle(d);g=[g,l,p];"standAlone"==l&&(l=g.join("-"),
q=d[l],1==q[0]&&(q=void 0));g[1]="format";return(q||d[g.join("-")]).concat()};z.isWeekend=function(g,p){p=r.getWeekend(p);g=(g||new Date).getDay();p.end<p.start&&(p.end+=7,g<p.start&&(g+=7));return g>=p.start&&g<=p.end};z._getDayOfYear=function(g){return y.difference(new Date(g.getFullYear(),0,1,g.getHours()),g)+1};z._getWeekOfYear=function(g,p){1==arguments.length&&(p=0);var q=(new Date(g.getFullYear(),0,1)).getDay(),l=(q-p+7)%7,l=Math.floor((z._getDayOfYear(g)+l-1)/7);q==p&&l++;return l};return z})},
"dojo/date":function(){define(["./has","./_base/lang"],function(F,v){var y={getDaysInMonth:function(r){var x=r.getMonth();return 1==x&&y.isLeapYear(r)?29:[31,28,31,30,31,30,31,31,30,31,30,31][x]},isLeapYear:function(r){r=r.getFullYear();return!(r%400)||!(r%4)&&!!(r%100)},getTimezoneName:function(r){var x=r.toString(),d="",n=x.indexOf("(");if(-1<n)d=x.substring(++n,x.indexOf(")"));else if(n=/([A-Z\/]+) \d{4}$/,x=x.match(n))d=x[1];else if(x=r.toLocaleString(),n=/ ([A-Z\/]+)$/,x=x.match(n))d=x[1];return"AM"==
d||"PM"==d?"":d},compare:function(r,x,d){r=new Date(+r);x=new Date(+(x||new Date));"date"==d?(r.setHours(0,0,0,0),x.setHours(0,0,0,0)):"time"==d&&(r.setFullYear(0,0,0),x.setFullYear(0,0,0));return r>x?1:r<x?-1:0},add:function(r,x,d){var n=new Date(+r),h=!1,H="Date";switch(x){case "day":break;case "weekday":var I;(x=d%5)?I=parseInt(d/5):(x=0<d?5:-5,I=0<d?(d-5)/5:(d+5)/5);var B=r.getDay(),D=0;6==B&&0<d?D=1:0==B&&0>d&&(D=-1);B+=x;if(0==B||6==B)D=0<d?2:-2;d=7*I+x+D;break;case "year":H="FullYear";h=!0;
break;case "week":d*=7;break;case "quarter":d*=3;case "month":h=!0;H="Month";break;default:H="UTC"+x.charAt(0).toUpperCase()+x.substring(1)+"s"}if(H)n["set"+H](n["get"+H]()+d);h&&n.getDate()<r.getDate()&&n.setDate(0);return n},difference:function(r,x,d){x=x||new Date;d=d||"day";var n=x.getFullYear()-r.getFullYear(),h=1;switch(d){case "quarter":r=r.getMonth();x=x.getMonth();h=Math.floor(x/3)+1+4*n-(Math.floor(r/3)+1);break;case "weekday":n=Math.round(y.difference(r,x,"day"));d=parseInt(y.difference(r,
x,"week"));if(0==n%7)n=5*d;else{var h=0,H=r.getDay(),I=x.getDay();d=parseInt(n/7);x=n%7;r=new Date(r);r.setDate(r.getDate()+7*d);r=r.getDay();if(0<n)switch(!0){case 6==H:h=-1;break;case 0==H:h=0;break;case 6==I:h=-1;break;case 0==I:h=-2;break;case 5<r+x:h=-2}else if(0>n)switch(!0){case 6==H:h=0;break;case 0==H:h=1;break;case 6==I:h=2;break;case 0==I:h=1;break;case 0>r+x:h=2}n=n+h-2*d}h=n;break;case "year":h=n;break;case "month":h=x.getMonth()-r.getMonth()+12*n;break;case "week":h=parseInt(y.difference(r,
x,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=x.getTime()-r.getTime()}return Math.round(h)}};v.mixin(v.getObject("dojo.date",!0),y);return y})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(F,v){var y={};F.setObject("dojo.cldr.supplemental",y);y.getFirstDayOfWeek=function(r){r={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,
br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[y._region(r)];return void 0===r?1:r};y._region=function(r){r=v.normalizeLocale(r);r=r.split("-");var x=r[1];x?4==x.length&&(x=r[2]):x={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",
bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",
sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",
bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",
hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",
ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[r[0]];return x};y.getWeekend=
function(r){var x=y._region(r);r={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[x];x={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[x];void 0===r&&(r=6);void 0===x&&(x=0);return{start:r,end:x}};return y})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(F,v){var y={};v.setObject("dojo.regexp",y);y.escapeString=function(r,x){return r.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(d){return x&&-1!=x.indexOf(d)?d:"\\"+d})};y.buildGroupRE=function(r,x,d){if(!(r instanceof Array))return x(r);for(var n=[],h=0;h<r.length;h++)n.push(x(r[h]));return y.group(n.join("|"),d)};y.group=function(r,x){return"("+(x?"?:":"")+r+")"};return y})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(F,v){var y=/[&<>'"\/]/g,r={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},x={};v.setObject("dojo.string",x);x.escape=
function(d){return d?d.replace(y,function(d){return r[d]}):""};x.rep=function(d,n){if(0>=n||!d)return"";for(var h=[];;){n&1&&h.push(d);if(!(n>>=1))break;d+=d}return h.join("")};x.pad=function(d,n,h,r){h||(h="0");d=String(d);n=x.rep(h,Math.ceil((n-d.length)/h.length));return r?d+n:n+d};x.substitute=function(d,n,h,r){r=r||F.global;h=h?v.hitch(r,h):function(d){return d};return d.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(d,B,D){if(""==B)return"$";d=v.getObject(B,!1,n);D&&(d=v.getObject(D,
!1,r).call(r,d,B));D=h(d,B);if("undefined"===typeof D)throw Error('string.substitute could not find key "'+B+'" in template');return D.toString()})};x.trim=String.prototype.trim?v.trim:function(d){d=d.replace(/^\s+/,"");for(var n=d.length-1;0<=n;n--)if(/\S/.test(d.charAt(n))){d=d.substring(0,n+1);break}return d};return x})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(F,v,y){return y})},"esri/plugins/moment":function(){define(["require","exports","../intl/moment"],
function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.load=function(r,x,d){y.loadMoment().then(function(n){d(n)})}})},"esri/intl/moment":function(){define("require exports ../core/tsSupport/awaiterHelper ../core/tsSupport/generatorHelper ../core/iteratorUtils ./locale @dojo/framework/shim/Promise".split(" "),function(F,v,y,r,x,d){Object.defineProperty(v,"__esModule",{value:!0});var n=x.createSetFromValues("ar ar-dz ar-kw ar-ly ar-ma ar-sa ar-tn bs ca cs da de de-at de-ch el en-au en-ca en-gb en-ie en-il en-nz es es-do es-us et fi fr fr-ca fr-ch he hr hu id it it-ch ja ko lt lv nb nl nl-be pl pt pt-br ro ru sl sr sr-cyrl sv th tr uk vi zh-cn zh-hk zh-tw".split(" "));
v.loadMoment=function(h){void 0===h&&(h=d.getLocale());return y(this,void 0,void 0,function(){var d,x,B;return r(this,function(r){switch(r.label){case 0:return[4,new Promise(function(d,h){F(["moment/moment"],d,h)})];case 1:return d=r.sent(),x=n.has(h),x||(B=h.split("-"),1<B.length&&n.has(B[0])&&(h=B[0],x=!0)),x?[4,new Promise(function(d,n){F(["moment/locale/"+h],d,n)})]:[3,3];case 2:return r.sent(),[3,4];case 3:h="en",r.label=4;case 4:return h!==d.locale()&&d.locale(h),[2,d]}})})}})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/ReentrantObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../support/arcadeOnDemand ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E,l,g,q,p,J){function P(g){return!!g.fieldConfig}return function(h){function K(g){g=h.call(this,g)||this;g._arcade=null;g._fieldPool=new B.ReentrantObjectPool(p);g._fieldGroupPool=new B.ReentrantObjectPool(J);g._featureClone=null;g._needsArcade=!1;g.fieldConfig=null;g.strict=!1;return g}y(K,h);K.prototype.initialize=function(){var g=this,p=D.init(this,"fieldConfig",function(q){return d(g,void 0,void 0,function(){var g,t,d,J,h;return x(this,function(n){switch(n.label){case 0:return g=
[],q&&q.forEach(function(p){p.visibilityExpression&&g.push(p.visibilityExpression);p.fieldConfig&&p.fieldConfig.forEach(function(p){(p=p.visibilityExpression)&&g.push(p)})}),(t=0<g.length)?[4,l.loadArcade()]:[3,4];case 1:return d=n.sent(),J=d.arcadeUtils,(h=g.some(function(g){return J.hasGeometryOperations(g)}))?[4,J.enableGeometryOperations()]:[3,3];case 2:n.sent(),p.remove(),n.label=3;case 3:this._arcade=d,this.notifyChange("inputFields"),n.label=4;case 4:return this._needsArcade=t,[2]}})})});this.handles.add(p)};
K.prototype.destroy=function(){this.layer=this.feature=this.fieldConfig=null;this._fieldPool.destroy();this._fieldGroupPool.destroy()};Object.defineProperty(K.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(g,p){return p.inputFields?g.concat(p.inputFields):g.concat([p])},[])},enumerable:!0,configurable:!0});Object.defineProperty(K.prototype,"_inputFieldCache",{get:function(){var g=this,p=this._get("_inputFieldCache")||new Map;p.forEach(function(p){return g._disposeInputOrGroup(p)});
p.clear();(this.get("layer.fields")||[]).forEach(function(q){return p.set(q,g._fieldPool.acquire())});return p},enumerable:!0,configurable:!0});Object.defineProperty(K.prototype,"_inputFieldGroupCache",{get:function(){var g=this,p=this._get("_inputFieldGroupCache")||new Map;p.forEach(function(p){return g._disposeInputOrGroup(p)});p.clear();(this.fieldConfig||[]).filter(P).forEach(function(q){return p.set(q,g._fieldGroupPool.acquire())});return p},enumerable:!0,configurable:!0});Object.defineProperty(K.prototype,
"feature",{get:function(){return this._get("feature")},set:function(g){this._featureClone=g?g.clone():null;this._set("feature",g)},enumerable:!0,configurable:!0});K.prototype.castFieldConfig=function(p){return p?p.map(function(p){return p instanceof g||p instanceof q?p:p.fieldConfig?new q(p):new g(p)}):null};Object.defineProperty(K.prototype,"inputFields",{get:function(){var g=this,p=this._arcade,q=this._inputFieldCache,l=this._inputFieldGroupCache,d=this._featureClone,J=this._needsArcade,h=this.layer,
z=this.state,E=d&&d.clone();if("ready"!==z||J&&!p)return[];var B=this.get("layer.fields")||[],d=this.fieldConfig||[];return(0!==d.length?d.map(function(t){if(t.fieldConfig){var d=l.get(t),J=t.fieldConfig.map(function(e){var w=n.find(B,function(a){return a.name===e.name}),b=q.get(w);b.set({arcade:p,field:w,config:e,feature:E,group:d,layer:h,value:g.getValue(w.name)});return b}).filter(function(e){return e.visible});d.set({arcade:p,config:t,feature:E,inputFields:J});return d}var J=n.find(B,function(e){return e.name===
t.name}),e=q.get(J);e.set({arcade:p,field:J,config:t,feature:E,group:null,layer:h,value:g.getValue(J.name)});return e}):B.map(function(t){var l=q.get(t);l.set({arcade:p,config:null,field:t,feature:E,group:null,layer:h,value:g.getValue(t.name)});return l})).filter(function(g){return g.visible})},enumerable:!0,configurable:!0});Object.defineProperty(K.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(g){g?this._override("layer",g):this._clearOverride("layer")},enumerable:!0,
configurable:!0});Object.defineProperty(K.prototype,"state",{get:function(){return this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(K.prototype,"valid",{get:function(){var g=this._allInputFields;return 0<g.length&&g.every(function(g){return g.valid})},enumerable:!0,configurable:!0});K.prototype.findField=function(g){return n.find(this._allInputFields,function(p){return p.name===g})};K.prototype.getValue=function(g){var p=this._featureClone;
return p&&p.get("attributes."+g)};K.prototype.setValue=function(g,p){var q=this,t=this._featureClone,l=this.strict;if(t&&t.attributes){var d=this.findField(g);if(d&&t.attributes[g]!==p){d.value=p;if(this.get("layer.typeIdField")===d.name){var J=new Set;this.layer.types.forEach(function(g){return Object.keys(g.domains).forEach(function(g){return J.add(g)})});J.forEach(function(g){(g=q.findField(g))&&g.notifyChange("domain")})}if(!l||d.valid)t.attributes[g]=p,this.notifyChange("inputFields"),this._emitChangeEvent(d)}}};
K.prototype.getValues=function(){var g=this._featureClone;return g&&I.clone(g.attributes)||null};K.prototype.submit=function(){var g=this._allInputFields,p=g.filter(function(g){return g.valid}).map(function(g){return g.name}),g=g.filter(function(g){return!g.valid}).map(function(g){return g.name}),q=this.getValues();this.emit("submit",{valid:p,invalid:g,values:q})};K.prototype._disposeInputOrGroup=function(g){g.inputFields?this._disposeGroup(g):this._disposeInput(g)};K.prototype._disposeGroup=function(g){var p=
this;g.inputFields.forEach(function(g){return p._disposeInput(g)});this._fieldGroupPool.release(g)};K.prototype._disposeInput=function(g){this._fieldPool.release(g)};K.prototype._emitChangeEvent=function(g){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:g.name,value:g.value,valid:g.valid})};r([z.property({readOnly:!0,dependsOn:["inputFields"]})],K.prototype,"_allInputFields",null);r([z.property({dependsOn:["layer.fields"],readOnly:!0})],K.prototype,"_inputFieldCache",null);
r([z.property({dependsOn:["fieldConfig"],readOnly:!0})],K.prototype,"_inputFieldGroupCache",null);r([z.property()],K.prototype,"feature",null);r([z.property()],K.prototype,"fieldConfig",void 0);r([E.cast("fieldConfig")],K.prototype,"castFieldConfig",null);r([z.property({readOnly:!0,dependsOn:["feature","fieldConfig","layer.fields","layer.loaded"]})],K.prototype,"inputFields",null);r([z.property({dependsOn:["feature.layer"]})],K.prototype,"layer",null);r([z.property({dependsOn:["layer.loaded","feature"]})],
K.prototype,"state",null);r([z.property()],K.prototype,"strict",void 0);r([z.property({dependsOn:["_allInputFields"]})],K.prototype,"valid",null);r([z.property()],K.prototype,"getValues",null);r([z.property()],K.prototype,"submit",null);return K=r([z.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],K)}(z.declared(H.HandleOwnerMixin(h.EventedAccessor)))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),
function(F,v,y,r,x,d,n){return function(h){function H(d){d=h.call(this,d)||this;d.description=null;d.domain=null;d.editable=!0;d.editorType=null;d.format=null;d.hint=null;d.label=null;d.maxLength=-1;d.name=null;d.required=!1;d.visibilityExpression=null;return d}y(H,h);r([d.property()],H.prototype,"description",void 0);r([d.property()],H.prototype,"domain",void 0);r([d.property()],H.prototype,"editable",void 0);r([d.property()],H.prototype,"editorType",void 0);r([d.property({type:n})],H.prototype,
"format",void 0);r([d.property()],H.prototype,"hint",void 0);r([d.property()],H.prototype,"label",void 0);r([d.property()],H.prototype,"maxLength",void 0);r([d.property()],H.prototype,"name",void 0);r([d.property()],H.prototype,"required",void 0);r([d.property()],H.prototype,"visibilityExpression",void 0);return H=r([d.subclass("esri.widgets.FeatureForm.FieldConfig")],H)}(d.declared(x))})},"esri/widgets/FeatureForm/Format":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(F,v,y,r,x,d,n){return function(d){function h(h){h=d.call(this,h)||this;h.digitSeparator=!1;h.format=null;h.places=null;return h}y(h,d);r([n.property()],h.prototype,"digitSeparator",void 0);r([n.property({json:{read:{source:"dateFormat",reader:x.fromJSON}}})],h.prototype,"format",void 0);r([n.property()],h.prototype,"places",void 0);return h=r([n.subclass("esri.widgets.FeatureForm.Format")],h)}(n.declared(d.JSONSupport))})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),
function(F,v,y,r,x,d,n,h){return function(H){function x(d){d=H.call(this,d)||this;d.description=null;d.fieldConfig=null;d.label=null;d.visibilityExpression=null;return d}y(x,H);x.prototype.castFieldConfig=function(d){return d?d.map(function(d){return d.declaredClass?d:new h(d)}):null};r([d.property()],x.prototype,"description",void 0);r([d.property()],x.prototype,"fieldConfig",void 0);r([n.cast("fieldConfig")],x.prototype,"castFieldConfig",null);r([d.property()],x.prototype,"label",void 0);r([d.property()],
x.prototype,"visibilityExpression",void 0);return x=r([d.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],x)}(d.declared(x))})},"esri/widgets/FeatureForm/InputField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./nls/FeatureForm ../../intl ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils".split(" "),function(F,
v,y,r,x,d,n,h,H,I,B){var D={type:"number"},z={type:"date",intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}};return function(n){function l(g){g=n.call(this,g)||this;g.arcade=null;g.config=null;g.feature=null;g.field=null;g.layer=null;g.description=null;g.editorType=null;g.error=null;g.format=null;g.group=null;g.hint=null;g.name=null;return g}y(l,n);Object.defineProperty(l.prototype,"compiledFunc",{get:function(){var g=this.arcade;return g&&
g.arcadeUtils.createFunction(this.get("config.visibilityExpression"))},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"evaluatedVisibility",{get:function(){var g=this.compiledFunc;if(g){var q=this.arcade;return q.arcadeUtils.executeFunction(g,q.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"domain",{get:function(){var g=this.layer.typeIdField,q=g===this.name,p=this.get("field.domain");if(q&&!p)return new H({name:"__internal-type-based-coded-value-domain__",
codedValues:this.layer.types.map(function(g){return{code:g.id,name:g.name}})});q=this.feature;g=g&&this.layer.getFieldDomain(this.name,{feature:q})||p;p=this.get("config.domain");return this._isDomainCompatible(p)?p:g},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"editable",{get:function(){return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==this.get("config.editable")},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"errorMessage",
{get:function(){return this._toErrorMessage()},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"label",{get:function(){return this.get("config.label")||this.field.alias||this.field.name},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"maxLength",{get:function(){if("date"===this.type)return-1;var g=this.get("field.length"),q=this.get("config.maxLength");return!isNaN(q)&&-1<=q&&(-1===g||q<=g)?q:g},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,
"required",{get:function(){var g=this.get("field.nullable"),q=this.get("config.required");return this.editable&&(!g||!0===q)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"type",{get:function(){var g=this.field;return B.isNumericField(g)?"number":B.isStringField(g)?"text":B.isDateField(g)?"date":"unsupported"},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"valid",{get:function(){var g=this.editable?this._validate():null;this._set("error",g);return null===g},
enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"value",{get:function(){return this._get("value")},set:function(g){this.notifyChange("evaluatedVisibility");this._set("value",g)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"visible",{get:function(){return this._isEditorField()?!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!0,configurable:!0});l.prototype._isDomainCompatible=function(g){var q=
this.field;if(g&&"coded-value"===g.type){var p=typeof g.codedValues[0].code;if("string"===p&&B.isStringField(q)||"number"===p&&B.isNumericField(q))return!0}return g&&"range"===g.type&&B.isNumericField(q)?!0:!1};l.prototype._validate=function(){var g=this.domain,q=this.field,p=this.value;return g?null!==p||this.required?I.validateDomainValue(g,p):null:B.validateFieldValue(q,p)};l.prototype._shownByDefault=function(){var g=this.get("field.type");return"oid"!==g&&"global-id"!==g&&!this._isGeometryField()};
l.prototype._isEditorField=function(){return-1<B.getFeatureEditFields(this.layer).indexOf(this.name)};l.prototype._isGeometryField=function(){return-1<B.getFeatureGeometryFields(this.layer).indexOf(this.name)};l.prototype._toErrorMessage=function(){var g=this.domain,q=this.field,p=this.value,l=this.type,h=this.error;return this.required&&null===p?x.validationErrors.cannotBeNull:h===I.DomainValidationError.VALUE_OUT_OF_RANGE||h===B.NumericRangeValidationError.OUT_OF_RANGE?(g=I.getDomainRange(g)||B.getFieldRange(q),
d.substitute(x.validationErrors.outsideRange,{min:g.min,max:g.max},{format:{max:"date"===l?z:D,min:"date"===l?z:D}})):h===I.DomainValidationError.INVALID_CODED_VALUE?x.validationErrors.invalidCodedValue:h===B.TypeValidationError.INVALID_TYPE?x.validationErrors.invalidType:null};r([h.property()],l.prototype,"arcade",void 0);r([h.property({dependsOn:["arcade","config.visibilityExpression"]})],l.prototype,"compiledFunc",null);r([h.property({dependsOn:["compiledFunc","feature"]})],l.prototype,"evaluatedVisibility",
null);r([h.property()],l.prototype,"config",void 0);r([h.property()],l.prototype,"feature",void 0);r([h.property()],l.prototype,"field",void 0);r([h.property()],l.prototype,"layer",void 0);r([h.property({aliasOf:"config.description"})],l.prototype,"description",void 0);r([h.property({dependsOn:["config","feature","field","layer"]})],l.prototype,"domain",null);r([h.property({dependsOn:["config","field","layer"]})],l.prototype,"editable",null);r([h.property({aliasOf:"config.editorType"})],l.prototype,
"editorType",void 0);r([h.property({readOnly:!0})],l.prototype,"error",void 0);r([h.property({dependsOn:["error","value"]})],l.prototype,"errorMessage",null);r([h.property({aliasOf:"config.format"})],l.prototype,"format",void 0);r([h.property()],l.prototype,"group",void 0);r([h.property({aliasOf:"config.hint"})],l.prototype,"hint",void 0);r([h.property({dependsOn:["field","config"]})],l.prototype,"label",null);r([h.property({dependsOn:["field.length","config"]})],l.prototype,"maxLength",null);r([h.property({aliasOf:"field.name"})],
l.prototype,"name",void 0);r([h.property({dependsOn:["field","config"]})],l.prototype,"required",null);r([h.property({dependsOn:["field"]})],l.prototype,"type",null);r([h.property({dependsOn:["config","domain","field","layer","value"]})],l.prototype,"valid",null);r([h.property({value:null})],l.prototype,"value",null);r([h.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],l.prototype,"visible",null);return l=r([h.subclass("esri.widgets.FeatureForm.InputField")],l)}(h.declared(n))})},
"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),function(F,v,y,r,x,d,n){return function(d){function h(h){h=d.call(this,h)||this;h.arcade=null;h.config=null;h.description=null;h.feature=null;h.label=null;h.visibilityExpression=null;return h}y(h,d);Object.defineProperty(h.prototype,"compiledFunc",{get:function(){var d=
this.arcade;return d&&d.arcadeUtils.createFunction(this.visibilityExpression)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"evaluatedVisibility",{get:function(){var d=this.compiledFunc;if(d){var h=this.arcade;return h.arcadeUtils.executeFunction(d,h.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(d){var h=this;this.handles.removeAll();d&&
this.handles.add(d.map(function(d){return d.watch("visible",h._dirtyEvaluatedVisibility)}));this._set("inputFields",d)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"visible",{get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(d){return d.visible})},enumerable:!0,configurable:!0});h.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};r([n.property()],h.prototype,"arcade",
void 0);r([n.property({dependsOn:["arcade","visibilityExpression"]})],h.prototype,"compiledFunc",null);r([n.property()],h.prototype,"config",void 0);r([n.property({dependsOn:["compiledFunc","feature"]})],h.prototype,"evaluatedVisibility",null);r([n.property({aliasOf:"config.description"})],h.prototype,"description",void 0);r([n.property()],h.prototype,"feature",void 0);r([n.property()],h.prototype,"inputFields",null);r([n.property({aliasOf:"config.label"})],h.prototype,"label",void 0);r([n.property({aliasOf:"config.visibilityExpression"})],
h.prototype,"visibilityExpression",void 0);r([n.property({dependsOn:["evaluatedVisibility","inputFields"]})],h.prototype,"visible",null);return h=r([n.subclass("esri.widgets.FeatureForm.InputFieldGroup")],h)}(n.declared(d.HandleOwnerMixin(x)))})},"esri/widgets/FeatureTemplates":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper @dojo/framework/shim/IntersectionObserver dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E){function l(g){return g.items?g.uid:g.layer.id}return function(g){function q(p){p=g.call(this,p)||this;p._iconIntersectionObserver=new d.default(function(g,p){g.forEach(function(g){if(g.isIntersecting){var q=g.target;if(!q["data-has-icon"]){q["data-has-icon"]=!0;var l=q["data-item"];l.fetchThumbnail().then(function(){l.thumbnail&&q.appendChild(l.thumbnail)})}p.unobserve(q)}})});p.filterEnabled=!0;p.filterFunction=null;p.filterText="";p.groupBy=null;p.label=n.widgetLabel;
p.layers=null;p.viewModel=new D;p.renderItemIcon=p.renderItemIcon.bind(p);p._afterItemCreateOrUpdate=p._afterItemCreateOrUpdate.bind(p);p._afterItemRemoved=p._afterItemRemoved.bind(p);return p}r(q,g);q.prototype.postInitialize=function(){var g=this,q=function(p){p=p.label;return!g.filterText||-1<p.toLowerCase().indexOf(g.filterText.toLowerCase())};this.own(H.init(this,"viewModel",function(p,l){p&&!p.filterFunction&&(g.filterFunction=q);l&&l!==p&&l.filterFunction===q&&(l.filterFunction=null)}))};q.prototype.destroy=
function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};q.prototype.render=function(){var g=this,q=this.filterText,d=this.filterEnabled,h=this.viewModel,B=h.items,h=h.state;return E.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":n.widgetLabel},"loading"===h?this.renderLoader():"ready"===h?z.ItemList({id:this.id,identify:l,filterText:q,items:B,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,
noMatches:n.noMatches},filterEnabled:d,onItemSelect:function(p){g.viewModel.select(p)},onFilterChange:function(p){g.filterText=p;g.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)};q.prototype.renderItemIcon=function(g){return E.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":g.item,"data-has-icon":!1})};q.prototype.renderLoader=function(){return E.tsx("div",
{class:"esri-feature-templates__loader",key:"loader"})};q.prototype._afterItemCreateOrUpdate=function(g){this._iconIntersectionObserver.observe(g)};q.prototype._afterItemRemoved=function(g){this._iconIntersectionObserver.unobserve(g)};x([I.property(),E.renderable()],q.prototype,"filterEnabled",void 0);x([I.aliasOf("viewModel.filterFunction")],q.prototype,"filterFunction",void 0);x([I.property(),E.renderable()],q.prototype,"filterText",void 0);x([I.aliasOf("viewModel.groupBy")],q.prototype,"groupBy",
void 0);x([I.property()],q.prototype,"label",void 0);x([I.aliasOf("viewModel.layers")],q.prototype,"layers",void 0);x([I.property(),E.renderable(["viewModel.items","viewModel.state"]),E.vmEvent("select")],q.prototype,"viewModel",void 0);return q=x([I.subclass("esri.widgets.FeatureTemplates")],q)}(I.declared(h.HandleOwnerMixin(B)))})},"@dojo/framework/shim/IntersectionObserver":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=
F)):"function"===typeof define&&define.amd&&define(["require","exports","./global","intersection-observer"],F)})(function(F,v){Object.defineProperty(v,"__esModule",{value:!0});var y=F("./global");"!has('build-elide')";F("intersection-observer");v.default=y.default.IntersectionObserver})},"intersection-observer/intersection-observer":function(){define(["dojo","dijit","dojox"],function(F,v,y){(function(r,x){function d(g){this.time=g.time;this.target=g.target;this.rootBounds=g.rootBounds;this.boundingClientRect=
g.boundingClientRect;this.intersectionRect=g.intersectionRect||D();this.isIntersecting=!!g.intersectionRect;g=this.boundingClientRect;g=g.width*g.height;var q=this.intersectionRect,q=q.width*q.height;this.intersectionRatio=g?Number((q/g).toFixed(4)):this.isIntersecting?1:0}function n(g,q){q=q||{};if("function"!=typeof g)throw Error("callback must be a function");if(q.root&&1!=q.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=h(this._checkForIntersections.bind(this),
this.THROTTLE_TIMEOUT);this._callback=g;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(q.rootMargin);this.thresholds=this._initThresholds(q.threshold);this.root=q.root||null;this.rootMargin=this._rootMarginValues.map(function(g){return g.value+g.unit}).join(" ")}function h(g,q){var p=null;return function(){p||(p=setTimeout(function(){g();p=null},q))}}function H(g,q,p,l){"function"==typeof g.addEventListener?g.addEventListener(q,p,l||!1):"function"==
typeof g.attachEvent&&g.attachEvent("on"+q,p)}function y(g,q,p,l){"function"==typeof g.removeEventListener?g.removeEventListener(q,p,l||!1):"function"==typeof g.detatchEvent&&g.detatchEvent("on"+q,p)}function B(g){var q;try{q=g.getBoundingClientRect()}catch(p){}if(!q)return D();q.width&&q.height||(q={top:q.top,right:q.right,bottom:q.bottom,left:q.left,width:q.right-q.left,height:q.bottom-q.top});return q}function D(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function z(g,q){for(;q;){if(q==
g)return!0;q=E(q)}return!1}function E(g){return(g=g.parentNode)&&11==g.nodeType&&g.host?g.host:g}if("IntersectionObserver"in r&&"IntersectionObserverEntry"in r&&"intersectionRatio"in r.IntersectionObserverEntry.prototype)"isIntersecting"in r.IntersectionObserverEntry.prototype||Object.defineProperty(r.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var l=[];n.prototype.THROTTLE_TIMEOUT=100;n.prototype.POLL_INTERVAL=null;n.prototype.USE_MUTATION_OBSERVER=
!0;n.prototype.observe=function(g){if(!this._observationTargets.some(function(q){return q.element==g})){if(!g||1!=g.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:g,entry:null});this._monitorIntersections();this._checkForIntersections()}};n.prototype.unobserve=function(g){this._observationTargets=this._observationTargets.filter(function(q){return q.element!=g});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())};
n.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance()};n.prototype.takeRecords=function(){var g=this._queuedEntries.slice();this._queuedEntries=[];return g};n.prototype._initThresholds=function(g){g=g||[0];Array.isArray(g)||(g=[g]);return g.sort().filter(function(g,p,l){if("number"!=typeof g||isNaN(g)||0>g||1<g)throw Error("threshold must be a number between 0 and 1 inclusively");return g!==l[p-1]})};n.prototype._parseRootMargin=function(g){g=
(g||"0px").split(/\s+/).map(function(g){g=/^(-?\d*\.?\d+)(px|%)$/.exec(g);if(!g)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(g[1]),unit:g[2]}});g[1]=g[1]||g[0];g[2]=g[2]||g[0];g[3]=g[3]||g[1];return g};n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(H(r,"resize",this._checkForIntersections,
!0),H(x,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in r&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(x,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,y(r,"resize",this._checkForIntersections,!0),y(x,"scroll",this._checkForIntersections,
!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};n.prototype._checkForIntersections=function(){var g=this._rootIsInDom(),q=g?this._getRootRect():D();this._observationTargets.forEach(function(p){var l=p.element,h=B(l),n=this._rootContainsTarget(l),z=p.entry,t=g&&n&&this._computeTargetAndRootIntersection(l,q);p=p.entry=new d({time:r.performance&&performance.now&&performance.now(),target:l,boundingClientRect:h,rootBounds:q,intersectionRect:t});z?g&&n?this._hasCrossedThreshold(z,
p)&&this._queuedEntries.push(p):z&&z.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)};n.prototype._computeTargetAndRootIntersection=function(g,q){if("none"!=r.getComputedStyle(g).display){var p=B(g);g=E(g);for(var l=!1;!l;){var d=null,h=1==g.nodeType?r.getComputedStyle(g):{};if("none"==h.display)return;g==this.root||g==x?(l=!0,d=q):g!=x.body&&g!=x.documentElement&&"visible"!=h.overflow&&(d=B(g));if(d){var h=
Math.max(d.top,p.top),n=Math.min(d.bottom,p.bottom),t=Math.max(d.left,p.left),p=Math.min(d.right,p.right),d=p-t,z=n-h,p=0<=d&&0<=z&&{top:h,bottom:n,left:t,right:p,width:d,height:z};if(!p)break}g=E(g)}return p}};n.prototype._getRootRect=function(){var g;if(this.root)g=B(this.root);else{g=x.documentElement;var q=x.body;g={top:0,left:0,right:g.clientWidth||q.clientWidth,width:g.clientWidth||q.clientWidth,bottom:g.clientHeight||q.clientHeight,height:g.clientHeight||q.clientHeight}}return this._expandRectByRootMargin(g)};
n.prototype._expandRectByRootMargin=function(g){var q=this._rootMarginValues.map(function(p,q){return"px"==p.unit?p.value:p.value*(q%2?g.width:g.height)/100}),q={top:g.top-q[0],right:g.right+q[1],bottom:g.bottom+q[2],left:g.left-q[3]};q.width=q.right-q.left;q.height=q.bottom-q.top;return q};n.prototype._hasCrossedThreshold=function(g,q){g=g&&g.isIntersecting?g.intersectionRatio||0:-1;q=q.isIntersecting?q.intersectionRatio||0:-1;if(g!==q)for(var p=0;p<this.thresholds.length;p++){var l=this.thresholds[p];
if(l==g||l==q||l<g!==l<q)return!0}};n.prototype._rootIsInDom=function(){return!this.root||z(x,this.root)};n.prototype._rootContainsTarget=function(g){return z(this.root||x,g)};n.prototype._registerInstance=function(){0>l.indexOf(this)&&l.push(this)};n.prototype._unregisterInstance=function(){var g=l.indexOf(this);-1!=g&&l.splice(g,1)};r.IntersectionObserver=n;r.IntersectionObserverEntry=d}})(window,document)})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./has!host-browser?./_base/browser require".split(" "),
function(F,v,y,r,x,d,n,h){n.isDebug&&y(["./_firebug/firebug"]);return F})},"dijit/main":function(){define(["dojo/_base/kernel"],function(F){return F.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(F){return F.dojox})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B){var D=function(d){d=d.layer;return{key:d,label:d.title}},z=function(d){return d.layer.geometryType};return function(d){function l(g){g=d.call(this,g)||this;g._templateToLayer=new Map;g._itemPool=new n(I);g._groupPool=new n(B);g.filterFunction=null;g.groupBy="layer";return g}y(l,d);l.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(l.prototype,"layers",{get:function(){return this._get("layers")},set:function(g){var q=
this;this.handles.removeAll();if(g){var p=function(){return q.notifyChange("state")};this.handles.add(g.map(function(g){return h.when(g,"loadStatus",p)}))}this._set("layers",g)},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"state",{get:function(){var g=this.layers;return g&&0!==g.length?g.some(function(g){return"loading"===g.loadStatus||"not-loaded"===g.loadStatus})?"loading":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"items",{get:function(){var g=
this,q=this.layers;this._destroyItems(this._get("items"));if(!q||0===q.length)return[];this._templateToLayer.clear();var q=q.filter(function(g){var p=g.capabilities;return g.loaded&&p.operations.supportsEditing&&p.operations.supportsAdd}).map(function(p){var q=g._getTemplatesForLayer(p);if(0<q.length)return q.forEach(function(q){return g._templateToLayer.set(q,p)}),q}).filter(function(g){return null!=g}),p=this.groupBy;if("none"===p)return q.map(function(p){return p.filter(function(p){p=p.name;return!g.filterFunction||
g.filterFunction({label:p})})}).map(function(p){return p.map(function(p){return g._createItem(p)})}).reduce(function(g,p){return g.concat(p)},[]);q=q.reduce(function(q,l){l.forEach(function(l){var t=("layer"===p?D:"geometry"===p?z:p)({template:l,layer:g._templateToLayer.get(l)});if(t){var d="string"===typeof t?t:t.key,t="string"===typeof t?t:t.label;q.has(d)||q.set(d,{label:t,templates:[]});q.get(d).templates.push(l)}});return q},new Map);if(0===q.size)return[];var l=[],d=this.filterFunction;q.forEach(function(p){var q=
p.label,t=p.templates;!d||g.filterFunction(p)?l.push(g._createGroup(q,t.map(function(p){return g._createItem(p)}))):(p=t.filter(function(p){return g.filterFunction({label:p.name})}).map(function(p){return g._createItem(p)}),0<p.length&&l.push(g._createGroup(q,p)))});return l},enumerable:!0,configurable:!0});l.prototype.refresh=function(){this.notifyChange("items")};l.prototype.select=function(g){g=g.clone();this.emit("select",{item:g,template:g.template})};l.prototype._getTemplatesForLayer=function(g){var q=
g.templates||[];g=(g.types||[]).map(function(g){return g.templates}).reduce(function(g,q){return g.concat(q)},[]);return q.concat(g)};l.prototype._createItem=function(g){var q=this._itemPool.acquire();q.set({template:g,layer:this._templateToLayer.get(g)});return q};l.prototype._createGroup=function(g,q){var p=this._groupPool.acquire();p.set("label",g);p.items=q;return p};l.prototype._destroyItems=function(g){var q=this;g&&(g[0]instanceof I?g.forEach(function(g){return q._destroyItem(g)}):g.forEach(function(g){return q._destroyGroup(g)}))};
l.prototype._destroyGroup=function(g){var q=this;g.items.forEach(function(g){return q._itemPool.release(g)});g.items.length=0;this._groupPool.release(g)};l.prototype._destroyItem=function(g){this._itemPool.release(g)};r([H.property()],l.prototype,"filterFunction",void 0);r([H.property()],l.prototype,"groupBy",void 0);r([H.property()],l.prototype,"layers",null);r([H.property({dependsOn:["layers"]})],l.prototype,"state",null);r([H.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],
l.prototype,"items",null);return l=r([H.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],l)}(H.declared(d.HandleOwnerMixin(x.EventedAccessor)))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z){return function(h){function l(g){g=h.call(this,g)||this;g.description=null;g.label=null;g.layer=null;g.template=null;g.thumbnail=null;return g}y(l,h);g=l;l.prototype.initialize=function(){var g=this;this.handles.add(B.init(this,["layer.renderer","template"],function(){return g._set("thumbnail",null)}))};l.prototype.clone=function(){var q=this.thumbnail?this.thumbnail.cloneNode(!0):null,p=new g({layer:this.layer,template:this.template});p._set("thumbnail",q);return p};
l.prototype.fetchThumbnail=function(){return d(this,void 0,void 0,function(){var g,p;return x(this,function(q){switch(q.label){case 0:return this._get("thumbnail")?[2,I.resolve()]:[4,this._getPreviewSymbol()];case 1:return g=q.sent(),[4,z.renderPreviewHTML(g,{maxSize:36})];case 2:return p=q.sent(),this._set("thumbnail",p),[2]}})})};l.prototype._getPreviewSymbol=function(){return d(this,void 0,void 0,function(){var g,p,l,d,h,z;return x(this,function(q){switch(q.label){case 0:g=this;p=g.layer;l=g.template;
d=g.layer.renderer;if(!d)return[3,2];h=new n({attributes:l.prototype.attributes});return[4,d.getSymbolAsync(h)];case 1:if(z=q.sent())return[2,z];q.label=2;case 2:return[2,this._getFallbackSymbolFromGeometry(p)]}})})};l.prototype._getFallbackSymbolFromGeometry=function(g){g=g.geometryType;if("point"===g||"multipoint"===g)return I.create(function(g){return F(["../../symbols/SimpleMarkerSymbol"],g)}).then(function(g){return new g});if("polyline"===g)return I.create(function(g){return F(["../../symbols/SimpleLineSymbol"],
g)}).then(function(g){return new g});if("polygon"===g||"mesh"===g||"multipatch"===g)return I.create(function(g){return F(["../../symbols/SimpleFillSymbol"],g)}).then(function(g){return new g})};var g;r([D.property({aliasOf:"template.description"})],l.prototype,"description",void 0);r([D.property({aliasOf:"template.name"})],l.prototype,"label",void 0);r([D.property()],l.prototype,"layer",void 0);r([D.property()],l.prototype,"template",void 0);r([D.property({readOnly:!0})],l.prototype,"thumbnail",void 0);
return l=g=r([D.subclass("esri.widgets.FeatureTemplates.TemplateItem")],l)}(D.declared(H.HandleOwnerMixin(h)))})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ../../support/arcadeOnDemand ./previewCIMSymbol ./previewSymbol2D ./previewSymbol3D ./previewWebStyleSymbol ./utils".split(" "),function(F,v,y,r,
x,d,n,h,H,I,B,D,z,E){function l(g,q){switch(g.type){case "web-style":return z.previewWebStyleSymbol(g,l,q);case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return D.previewSymbol3D(g,q);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":return B.previewSymbol2D(g,q);case "cim":return I.previewCIMSymbol(g,q);default:d.neverReached(g)}}function g(p){return p&&"opacity"in p?p.opacity*g(p.parent):1}Object.defineProperty(v,
"__esModule",{value:!0});var q=null;v.renderDotDensityPreviewHTML=function(g,l,d){var p=g.backgroundColor,h=g.outline;g=g.dotSize;var t=d&&d.swatchSize||22,n=Math.round(t*t/Math.pow(g,2)*.8),J=window.devicePixelRatio;d=document.createElement("canvas");var z=t*J;d.width=z;d.height=z;d.style.width=d.width/J+"px";d.style.height=d.height/J+"px";var E=d.getContext("2d");p&&(E.fillStyle=p.toCss(!0),E.fillRect(0,0,z,z),E.fill());E.fillStyle=l.toCss(!0);if(q&&q.length/2===n)for(l=0;l<2*n;l+=2){var p=q[l],
B=q[l+1];E.fillRect(p,B,g*J,g*J);E.fill()}else for(q=[],l=0;l<2*n;l+=2)p=Math.floor(Math.random()*(z-0+1)+0),B=Math.floor(Math.random()*(z-0+1)+0),q.push(p,B),E.fillRect(p,B,g*J,g*J),E.fill();h&&(h.color&&(E.strokeStyle=h.color.toCss(!0)),E.lineWidth=h.width,E.strokeRect(0,0,z,z));h=new Image(t,t);h.src=d.toDataURL();return h};v.renderColorRampPreviewHTML=function(g,q){void 0===q&&(q={});var p="horizontal"===q.align,l=q.width,l=void 0===l?p?75:24:l,d=q.height,d=void 0===d?p?24:75:d;q=q.gradient;var t=
void 0===q?!0:q;q=window.devicePixelRatio;var h=l*q,n=d*q;q=document.createElement("canvas");q.width=h;q.height=n;q.style.width=l+"px";q.style.height=d+"px";var J=q.getContext("2d"),z=p?h:0,E=p?0:n;if(t){var B=J.createLinearGradient(0,0,z,E),r=1/(g.length-1);g.forEach(function(g,p){return B.addColorStop(p*r,g.toString())});J.fillStyle=B;J.fillRect(0,0,h,n)}else for(t=p?h/g.length:h,h=p?n:n/g.length,E=z=n=0;E<g.length;E++)J.fillStyle=g[E].toString(),J.fillRect(n,z,t,h),n=p?n+t:0,z=p?0:z+h;g=document.createElement("div");
g.style.width=l+"px";g.style.height=d+"px";g.appendChild(q);return g};v.renderPreviewHTML=l;v.getDisplayedSymbol=function(p,q){return r(this,void 0,void 0,function(){var l,d,J,t,z,B,r,D,I,v,Z,T,aa,S,ba,X,e,G;return y(this,function(w){switch(w.label){case 0:if(!p)return[2,void 0];l=g(p.layer||p.sourceLayer);if(n.isSome(p.symbol))return d=p.symbol.clone(),E.applyColorToSymbol(d,null,l),[2,d];J=p.get("layer.renderer")||p.get("sourceLayer.renderer");return[4,J.getSymbolAsync(p)];case 1:t=w.sent();if(!t)return[2,
void 0];t=t.clone();if(!("visualVariables"in J)||"visualVariables"in J&&!J.visualVariables||"visualVariables"in J&&J.visualVariables&&!J.visualVariables.length)return[2,t];if(!J.arcadeRequiredForVisualVariables||!n.isNone(q)&&!n.isNone(q.arcade))return[3,3];B=z=x({},n.unwrap(q));return[4,H.loadArcade()];case 2:B.arcade=w.sent(),q=z,w.label=3;case 3:return[4,h.create(function(b){return F(["../../renderers/visualVariables/support/visualVariableUtils"],b)})];case 4:r=w.sent();D=[];I=[];v=[];Z=[];T=0;
for(aa=J.visualVariables;T<aa.length;T++)switch(S=aa[T],S.type){case "color":D.push(S);break;case "opacity":I.push(S);break;case "rotation":Z.push(S);break;case "size":v.push(S)}X=(ba=!!D.length&&D[D.length-1])?r.getColor(ba,p,q):null;G=(e=!!I.length&&I[I.length-1])?r.getOpacity(e,p,q):null;null!=l&&(G=null!=G?G*l:l);E.applyColorToSymbol(t,X,G);v.forEach(function(b){return E.applySizeToSymbol(t,r.getSize(b,p,q),b.axis)});Z.forEach(function(b){return E.applyRotationToSymbol(t,r.getRotationAngle(b,
p,q),b.axis)});return[2,t]}})})}})},"esri/symbols/support/previewCIMSymbol":function(){define(["require","exports","../../core/tsSupport/generatorHelper","../../core/tsSupport/awaiterHelper","../cim/CIMSymbolRasterizer"],function(F,v,y,r,x){Object.defineProperty(v,"__esModule",{value:!0});var d=new x(null,!0);v.previewCIMSymbol=function(n,h){return r(this,void 0,void 0,function(){var r,x,B,D,z,E,l,g;return y(this,function(q){switch(q.label){case 0:return r=h&&h.size?h.size:null,x=h&&h.maxSize?h.maxSize:
null,B=Math.min(r||22,x||120),D=3,[4,d.rasterizeCIMSymbolAsync(n,null,null,{targetSize:B*D})];case 1:return z=q.sent(),E=document.createElement("canvas"),E.width=z.imageData.width,E.height=z.imageData.height,l=E.getContext("2d"),l.putImageData(z.imageData,0,0),g=new Image(E.width/D,E.height/D),g.src=E.toDataURL(),[2,g]}})})}})},"esri/symbols/cim/CIMSymbolRasterizer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../request ../../core/promiseUtils ../../core/screenUtils ../../geometry/support/jsonUtils ./cimAnalyzer ./Rasterizer ./TextRasterizer ./utils ../support/cimSymbolUtils ../support/Symbol3DAnchorPosition2D".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E){function l(g,q,p){var l=(g?Object.keys(g):[]).map(function(p){return{name:p,alias:p,type:"string"===typeof g[p]?"esriFieldTypeString":"esriFieldTypeDouble"}});return{geometryType:q,spatialReference:p,fields:l}}return function(){function g(g,p){this._spatialReference=g;this._avoidSDF=p;this._resourceCache=new Map;this._rasterizer=new I.default;this._textRasterizer=new B.default;this._pictureMarkerCache=new Map}g.prototype.rasterizeCIMSymbolAsync=function(g,p,n,
E,B,D){return r(this,void 0,void 0,function(){var q,J,r,K,x,P,v,I,N,F;return y(this,function(t){switch(t.label){case 0:return[4,z.expandSymbol(g)];case 1:return q=t.sent(),J=[],p?(K=null!==p.centroid?"esriGeometryPolygon":h.getJsonType(p.geometry),r=l(p.attributes,K,this._spatialReference)):(q=q.clone(),q.data.primitiveOverrides=[],r=null),x=[],x.push(H.analyzeCIMSymbol(q.data,n,r,J,this._avoidSDF)),[4,d.all(x)];case 2:t.sent(),P=[],v=0,I=J,t.label=3;case 3:if(!(v<I.length))return[3,7];N=I[v];return"CIMPictureMarker"!==
N.cim.type?[3,5]:[4,this.fetchPictureMarkerResource(N)];case 4:t.sent(),t.label=5;case 5:F=this._getRasterizedResource(N,p,E,B,D),null!=F&&P.push({cimLayer:N,rasterizedResource:F}),t.label=6;case 6:return v++,[3,3];case 7:return[2,this.getSymbolImage(P,p,E,B,D)]}})})};g.prototype.analyzeCIMSymbol=function(g,p,h,n,E){return r(this,void 0,void 0,function(){var q,t,J,B,r,D;return y(this,function(x){switch(x.label){case 0:return[4,z.expandSymbol(g,E)];case 1:return q=x.sent(),t=[],p?J=l(p,n,this._spatialReference):
(q=q.clone(),q.data.primitiveOverrides=[],J=null),B=[],B.push(H.analyzeCIMSymbol(q.data,h,J,t,this._avoidSDF)),[4,d.all(B)];case 2:x.sent(),d.throwIfAborted(E),r=0,x.label=3;case 3:if(!(r<t.length))return[3,6];D=t[r];return"CIMPictureMarker"!==D.cim.type?[3,5]:[4,this.fetchPictureMarkerResource(D,E)];case 4:x.sent(),x.label=5;case 5:return r++,[3,3];case 6:return[2,t]}})})};g.prototype.fetchPictureMarkerResource=function(g,p){return r(this,void 0,void 0,function(){var q,l,d;return y(this,function(h){switch(h.label){case 0:return q=
g.materialHash,this._pictureMarkerCache.get(q)?[3,2]:[4,x(g.cim.url,{responseType:"image",signal:p.signal})];case 1:l=h.sent(),d=l.data,this._pictureMarkerCache.set(q,d),h.label=2;case 2:return[2]}})})};g.prototype.rasterizeCIMSymbol=function(g,p,l,d,h){for(var q=[],t=0;t<g.length;t++){var n=g[t];!l||"function"!==typeof l.scaleFactor||"marker"!==n.type&&"text"!==n.type||(l.scaleFactor=l.scaleFactor(p,d,h));var J=this._getRasterizedResource(n,p,l,d,h);null!=J&&q.push({cimLayer:n,rasterizedResource:J})}return this.getSymbolImage(q,
p,l,d,h)};g.prototype.getSymbolImage=function(g,p,l,d,h){for(var q=document.createElement("canvas"),t=q.getContext("2d"),J=0,z=0,B=0,r=0,x=[],K=0;K<g.length;K++){var H=g[K],P=H.rasterizedResource;if(P){var y=H.cimLayer;if("line"!==y.type&&"fill"!==y.type){var v=l.targetSize?l.targetSize/y.referenceSize:l.scaleFactor?l.scaleFactor:1,I=P.size,F=D.evaluateValueOrFunction(y.offsetX,p,d,h)*v,v=D.evaluateValueOrFunction(y.offsetY,p,d,h)*v,F=F?F:0,v=v?v:0,e=H.rasterizedResource.anchorX,H=H.rasterizedResource.anchorY,
G=!1,w=y.type,b=void 0;"marker"===y.type&&(b=D.evaluateValueOrFunction(y.rotation,p,d,h),G=y.rotateClockwise?y.rotateClockwise:!1);if("text"===y.type){b=D.evaluateValueOrFunction(y.angle,p,d,h);if(void 0!==y.horizontalAlignment)switch(y.horizontalAlignment){case "left":e=-.5;break;case "right":e=.5;break;default:e=0}if(void 0!==y.verticalAlignment)switch(y.verticalAlignment){case "top":H=.5;break;case "bottom":H=-.5;break;case "baseline":H=-.25;break;default:H=0}}var y=n.pt2px(F)-I[0]*(.5+e),a=n.pt2px(v)-
I[1]*(.5+H),c=y+I[0],f=a+I[1];if(b){G&&(b=-b);var k=Math.sin(b*Math.PI/180),m=Math.cos(b*Math.PI/180),I=y*m-a*k,u=y*k+a*m,C=y*m-f*k,A=y*k+f*m,L=c*m-f*k,f=c*k+f*m,U=c*m-a*k,k=c*k+a*m,y=Math.min(I,C,L,U),a=Math.min(u,A,f,k),c=Math.max(I,C,L,U),f=Math.max(u,A,f,k)}J=y<J?y:J;z=a<z?a:z;B=c>B?c:B;r=f>r?f:r;y=t.createImageData(P.size[0],P.size[1]);y.data.set(new Uint8ClampedArray(P.image.buffer));P={offsetX:F,offsetY:v,rotateClockwise:G,type:w,angle:b,rasterizedImage:y,anchorX:e,anchorY:H};x.push(P)}}}q.width=
B-J;q.height=r-z;g=-J;for(K=0;K<x.length;K++)P=x[K],p=this._imageDataToCanvas(P.rasterizedImage),l=g-P.rasterizedImage.width*(.5+P.anchorX),d=r-P.rasterizedImage.height*(.5-P.anchorY),P.angle?(h=(360-P.angle)*Math.PI/180,t.save(),t.translate(n.pt2px(P.offsetX),-n.pt2px(P.offsetY)),t.translate(g,r),t.rotate(h),t.translate(-g,-r),t.drawImage(p,l,d),t.restore()):t.drawImage(p,l+n.pt2px(P.offsetX),d-n.pt2px(P.offsetY));x=new E.default({x:g/q.width-.5,y:r/q.height-.5});return{imageData:t.getImageData(0,
0,q.width,q.height),anchorPosition:x}};g.prototype._imageDataToCanvas=function(g){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));var p=this._imageDataCanvas,q=p.getContext("2d");p.width=g.width;p.height=g.height;q.putImageData(g,0,0);return p};g.prototype._imageTo32Array=function(g,p,l){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));var q=this._imageDataCanvas,d=q.getContext("2d");q.width=p;q.height=l;d.drawImage(g,0,0,p,l);return new Uint32Array(d.getImageData(0,
0,p,l).data.buffer)};g.prototype._getRasterizedResource=function(g,p,l,d,h){var q;if("text"===g.type)q=g.cim,g=this._rasterizeTextResource(g,p,l,d,h);else{var t=this._resourceCache,z=void 0;"function"===typeof g.materialHash?(z=g.materialHash,z=z(p,d,h),q=H.analyzeCIMResource(g.cim,g.materialOverrides)):(z=g.materialHash,l&&(z+=JSON.stringify(l)),q=g.cim);if(t.has(z))return t.get(z);l=l.targetSize?l.targetSize/g.referenceSize:l.scaleFactor?l.scaleFactor:1;q.size*=l;if("CIMPictureMarker"===g.cim.type){h=
D.evaluateValueOrFunction(g.cim.size,p,d,h)*l;p=this._pictureMarkerCache.get(g.materialHash);if(!p)return null;l=p.height/p.width;d=1<l?n.pt2px(h):n.pt2px(h)/l;h=1<l?n.pt2px(h)*l:n.pt2px(h);g={image:this._imageTo32Array(p,d,h),size:[d,h],sdf:!1,simplePattern:!1,anchorX:g.anchorPoint?g.anchorPoint.x:0,anchorY:g.anchorPoint?g.anchorPoint.y:0}}else g=this._rasterizer.rasterizeJSONResource(q,this._avoidSDF);t.set(z,g)}return g};g.prototype._rasterizeTextResource=function(g,p,l,d,h){var q=l.targetSize?
l.targetSize/g.referenceSize:l.scaleFactor?l.scaleFactor:1;l=D.evaluateValueOrFunction(g.text,p,d,h);if(!l||0===l.length)return null;var t=D.evaluateValueOrFunction(g.fontName,p,d,h),n=D.evaluateValueOrFunction(g.style,p,d,h),z=D.evaluateValueOrFunction(g.weight,p,d,h),J=D.evaluateValueOrFunction(g.decoration,p,d,h),q=D.evaluateValueOrFunction(g.size,p,d,h)*q,E=D.evaluateValueOrFunction(g.horizontalAlignment,p,d,h),B=D.evaluateValueOrFunction(g.verticalAlignment,p,d,h),r=D.colorToArray(D.evaluateValueOrFunction(g.color,
p,d,h)),x=D.colorToArray(D.evaluateValueOrFunction(g.outlineColor,p,d,h));g=D.evaluateValueOrFunction(g.outlineSize,p,d,h);return this._textRasterizer.rasterizeText(l,{color:r,size:q,horizontalAlignment:E,verticalAlignment:B,font:{family:t,style:n,weight:z,decoration:J},halo:{size:g||0,color:x,style:n},pixelRatio:1,premultiplyColors:!this._avoidSDF})};return g}()})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Color ../../core/Logger ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./enums ./SDFHelper ../../views/2d/arcade/utils".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E){function l(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function g(a){switch(a){case "Butt":return D.CapType.BUTT;case "Square":return D.CapType.SQUARE;default:return D.CapType.ROUND}}function q(a){switch(a){case "Bevel":return D.JoinType.BEVEL;case "Miter":return D.JoinType.MITER;default:return D.JoinType.ROUND}}function p(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}
function J(a){switch(a){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function P(a){var c="normal",b="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?c="italic":-1!==a.indexOf("oblique")&&(c="oblique"),-1!==a.indexOf("bold")?b="bold":-1!==a.indexOf("light")&&(b="lighter"));return{style:c,weight:b}}function K(c,f,b,m,u,e){return r(this,void 0,void 0,function(){var k,C,w,W,g,p,l;return y(this,function(A){switch(A.label){case 0:if(!c)return[2];
k=c.symbolLayers;if(!k)return[2];w=B.CIMSymbolHelper.getSize(c);"CIMPointSymbol"===c.type&&"Map"===c.angleAlignment&&(C=D.Alignment.MAP);W=k.length;A.label=1;case 1:if(!W--)return[3,23];g=k[W];if(!g||!1===g.enable)return[3,1];p=[];B.OverrideHelper.findApplicableOverrides(g,f,p);l=g.type;switch(l){case "CIMSolidFill":return[3,2];case "CIMPictureFill":return[3,4];case "CIMHatchFill":return[3,6];case "CIMGradientFill":return[3,8];case "CIMSolidStroke":return[3,10];case "CIMPictureStroke":return[3,12];
case "CIMGradientStroke":return[3,14];case "CIMCharacterMarker":return[3,16];case "CIMPictureMarker":return[3,17];case "CIMVectorMarker":return[3,19]}return[3,21];case 2:return[4,N(g,p,m,u)];case 3:return A.sent(),[3,22];case 4:return[4,t(g,p,m,u)];case 5:return A.sent(),[3,22];case 6:return[4,M(g,p,m,u)];case 7:return A.sent(),[3,22];case 8:return[4,Q(g,p,m,u)];case 9:return A.sent(),[3,22];case 10:return[4,R(g,p,m,u,"CIMPolygonSymbol"===c.type,w)];case 11:return A.sent(),[3,22];case 12:return[4,
Y(g,p,m,u,"CIMPolygonSymbol"===c.type,w)];case 13:return A.sent(),[3,22];case 14:return[4,V(g,p,m,u,"CIMPolygonSymbol"===c.type,w)];case 15:return A.sent(),[3,22];case 16:return[3,22];case 17:return[4,O(g,p,m,u,C,w)];case 18:return A.sent(),[3,22];case 19:return[4,Z(g,p,b,m,u,C,w,e)];case 20:return A.sent(),[3,22];case 21:a.error("Cannot analyze CIM layer",g.type),A.label=22;case 22:return[3,1];case 23:return[2]}})})}function N(a,f,b,m){return r(this,void 0,void 0,function(){var c,k,A,L,w,W;return y(this,
function(u){switch(u.label){case 0:return c=a.primitiveName,k=l(a.color),A=H.numericHash(JSON.stringify(a)).toString(),w=(L=m).push,W={type:"fill",templateHash:A,materialHash:0===f.length?A:function(){return A},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,e(c,"Color",f,b,k,X)];case 1:return w.apply(L,[(W.color=u.sent(),W.height=0,W.angle=0,W.offsetX=0,W.offsetY=0,W.scaleX=1,W)]),[2]}})})}function t(a,f,b,m){return r(this,void 0,void 0,function(){var c,k,A,L,w,W,g;return y(this,function(u){switch(u.label){case 0:return c=
a.primitiveName,k=l(a.tintColor),A=H.numericHash(JSON.stringify(a)).toString(),L=H.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),W=(w=m).push,g={type:"fill",templateHash:A,materialHash:0===f.length?L:function(){return L},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,e(c,"TintColor",f,b,k,X)];case 1:return g.color=u.sent(),[4,e(c,"Height",f,b,a.height)];case 2:return g.height=u.sent(),[4,e(c,"ScaleX",f,b,a.scaleX)];case 3:return g.scaleX=u.sent(),[4,e(c,"Rotation",
f,b,a.rotation)];case 4:return g.angle=u.sent(),[4,e(c,"OffsetX",f,b,a.offsetX)];case 5:return g.offsetX=u.sent(),[4,e(c,"OffsetY",f,b,a.offsetY)];case 6:return W.apply(w,[(g.offsetY=u.sent(),g)]),[2]}})})}function M(a,f,k,m){return r(this,void 0,void 0,function(){var c,C,A,L,w,W,g,p;return y(this,function(u){switch(u.label){case 0:c=["Rotation","OffsetX","OffsetY"];C=f.filter(function(f){return f.primitiveName!==a.primitiveName&&-1===c.indexOf(f.propertyName)});A=a.primitiveName;L=H.numericHash(JSON.stringify(a)).toString();
W=(w=m).push;g={type:"fill",templateHash:L};if(0!==f.length)return[3,1];p=L;return[3,3];case 1:return[4,b(L,C,k)];case 2:p=u.sent(),u.label=3;case 3:return g.materialHash=p,g.cim=a,g.materialOverrides=C,g.colorLocked=a.colorLocked,g.color={r:128,g:128,b:128,a:1},g.height=0,g.scaleX=1,[4,e(A,"Rotation",f,k,a.rotation)];case 4:return g.angle=u.sent(),[4,e(A,"OffsetX",f,k,a.offsetX)];case 5:return g.offsetX=u.sent(),[4,e(A,"OffsetY",f,k,a.offsetY)];case 6:return W.apply(w,[(g.offsetY=u.sent(),g)]),[2]}})})}
function Q(a,f,k,m){return r(this,void 0,void 0,function(){var c,e,A,L,w;return y(this,function(u){switch(u.label){case 0:c=H.numericHash(JSON.stringify(a)).toString();A=(e=m).push;L={type:"fill",templateHash:c};if(0!==f.length)return[3,1];w=c;return[3,3];case 1:return[4,b(c,f,k)];case 2:w=u.sent(),u.label=3;case 3:return A.apply(e,[(L.materialHash=w,L.cim=a,L.materialOverrides=null,L.colorLocked=a.colorLocked,L.color={r:128,g:128,b:128,a:1},L.height=0,L.angle=0,L.offsetX=0,L.offsetY=0,L.scaleX=1,
L)]),[2]}})})}function R(a,f,b,m,u,C){return r(this,void 0,void 0,function(){var c,k,w,W,da,p,t,d,h,G;return y(this,function(A){switch(A.label){case 0:return c=H.numericHash(JSON.stringify(a)).toString(),k=a.primitiveName,w=l(a.color),W=void 0!==a.width?a.width:4,da=g(a.capStyle),p=q(a.joinStyle),t=a.miterLimit,h=(d=m).push,G={type:"line",templateHash:c,materialHash:0===f.length?c:function(){return c},cim:a,materialOverrides:null,isOutline:u,colorLocked:a.colorLocked},[4,e(k,"Color",f,b,w,X)];case 1:return G.color=
A.sent(),[4,e(k,"Width",f,b,W)];case 2:return G.width=A.sent(),[4,e(k,"CapStyle",f,b,da)];case 3:return G.cap=A.sent(),[4,e(k,"JoinStyle",f,b,p)];case 4:return G.join=A.sent(),[4,e(k,"MiterLimit",f,b,t)];case 5:return h.apply(d,[(G.miterLimit=A.sent(),G.referenceWidth=C,G.zOrder=ba(a.name),G.isDashed=!1,G)]),[2]}})})}function Y(a,f,b,m,u,C){return r(this,void 0,void 0,function(){var c,k,w,W,da,p,t,d,h,G,n;return y(this,function(A){switch(A.label){case 0:return c=H.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
k=a.primitiveName,w=l(a.tintColor),W=void 0!==a.width?a.width:4,da=g(a.capStyle),p=q(a.joinStyle),t=a.miterLimit,d=H.numericHash(JSON.stringify(a)).toString(),G=(h=m).push,n={type:"line",templateHash:d,materialHash:0===f.length?c:function(){return c},cim:a,materialOverrides:null,isOutline:u,colorLocked:a.colorLocked},[4,e(k,"TintColor",f,b,w,X)];case 1:return n.color=A.sent(),[4,e(k,"Width",f,b,W)];case 2:return n.width=A.sent(),[4,e(k,"CapStyle",f,b,da)];case 3:return n.cap=A.sent(),[4,e(k,"JoinStyle",
f,b,p)];case 4:return n.join=A.sent(),[4,e(k,"MiterLimit",f,b,t)];case 5:return G.apply(h,[(n.miterLimit=A.sent(),n.referenceWidth=C,n.zOrder=ba(a.name),n.isDashed=!1,n)]),[2]}})})}function V(a,f,k,m,u,C){return r(this,void 0,void 0,function(){var c,L,w,W,da,p,l,t,d,h;return y(this,function(A){switch(A.label){case 0:c=a.primitiveName;L=void 0!==a.width?a.width:4;w=g(a.capStyle);W=q(a.joinStyle);da=a.miterLimit;p=H.numericHash(JSON.stringify(a)).toString();t=(l=m).push;d={type:"line",templateHash:p};
if(0!==f.length)return[3,1];h=p;return[3,3];case 1:return[4,b(p,f,k)];case 2:h=A.sent(),A.label=3;case 3:return d.materialHash=h,d.cim=a,d.materialOverrides=null,d.isOutline=u,d.colorLocked=a.colorLocked,d.color={r:128,g:128,b:128,a:1},[4,e(c,"Width",f,k,L)];case 4:return d.width=A.sent(),[4,e(c,"CapStyle",f,k,w)];case 5:return d.cap=A.sent(),[4,e(c,"JoinStyle",f,k,W)];case 6:return d.join=A.sent(),[4,e(c,"MiterLimit",f,k,da)];case 7:return t.apply(l,[(d.miterLimit=A.sent(),d.referenceWidth=C,d.zOrder=
ba(a.name),d.isDashed=!1,d)]),[2]}})})}function O(a,f,b,m,u,C){return r(this,void 0,void 0,function(){var c,k,w,W,g,p,q,t,d,h,G,n,z,J,E,B;return y(this,function(A){switch(A.label){case 0:c=a.primitiveName;k=a.size;w=a.scaleX;W=a.rotation;g=a.offsetX;p=a.offsetY;q=l(a.tintColor);t=H.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();d=!1;h="";G=0;for(n=f;G<n.length;G++)z=n[G],z.primitiveName===c&&(void 0!==z.value?h+="|"+z.primitiveName+"|"+z.propertyName+"|"+JSON.stringify(z.value):
z.valueExpressionInfo&&(d=!0));E=(J=m).push;B={type:"marker",templateHash:H.numericHash(JSON.stringify(a)+h).toString(),materialHash:d?function(){return t}:t,cim:a,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:!1,alignment:u,anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits};return[4,e(c,"Size",f,b,k)];case 1:return B.size=A.sent(),[4,e(c,"ScaleX",f,b,w)];case 2:return B.scaleX=A.sent(),[4,e(c,"Rotation",f,b,W)];case 3:return B.rotation=
A.sent(),[4,e(c,"OffsetX",f,b,g)];case 4:return B.offsetX=A.sent(),[4,e(c,"OffsetY",f,b,p)];case 5:return B.offsetY=A.sent(),[4,e(c,"TintColor",f,b,q,X)];case 6:return E.apply(J,[(B.color=A.sent(),B.outlineColor={r:0,g:0,b:0,a:0},B.outlineWidth=0,B.frameHeight=0,B.rotateClockwise=a.rotateClockwise,B.referenceSize=C,B.sizeRatio=1,B)]),[2]}})})}function Z(a,f,b,m,u,e,A,L){return r(this,void 0,void 0,function(){var c,k,C,w,g,p,l,q;return y(this,function(U){switch(U.label){case 0:c=a.markerGraphics;if(!c)return[2];
k=0;a.scaleSymbolsProportionally&&(C=a.frame)&&(k=C.ymax-C.ymin);w=[];g=0;for(p=c;g<p.length;g++)if(l=p[g])if(q=l.symbol)switch(q.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":w.push(aa(a,l,f,m,u,e,A,k,L));break;case "CIMTextSymbol":w.push(T(a,l,f,b,m,u,e,A,k))}return[4,h.all(w)];case 1:return U.sent(),[2]}})})}function T(a,f,b,m,u,C,A,L,U){return r(this,void 0,void 0,function(){var c,k,g,q,t,d,h,G,n,z,E,r,D,K,v,I,M,Q,N,R,T,F,ba,X;return y(this,function(W){switch(W.label){case 0:c=
[];B.OverrideHelper.findApplicableOverrides(f,b,c);k=f.geometry;if(!("x"in k&&"y"in k))return[2];g=f.symbol;q=g.underline?"underline":g.strikethrough?"line-through":"none";t=P(g.fontStyleName);g.font=x({family:g.fontFamilyName,decoration:q},t);d=a.frame;h=k.x-.5*(d.xmin+d.xmax);G=k.y-.5*(d.ymin+d.ymax);n=a.size/U;z=a.primitiveName;E=(g.height||0)*n;r=g.angle||0;D=((g.offsetX||0)+h)*n;K=((g.offsetY||0)+G)*n;v=l(B.CIMSymbolHelper.getFillColor(g));I=l(B.CIMSymbolHelper.getStrokeColor(g));M=B.CIMSymbolHelper.getStrokeWidth(g);
M||(I=l(B.CIMSymbolHelper.getFillColor(g.haloSymbol)),M=g.haloSize*n);Q="";N=0;for(R=b;N<R.length;N++)T=R[N],T.primitiveName===z&&void 0!==T.value&&(Q+="|"+T.primitiveName+"|"+T.propertyName+"|"+JSON.stringify(T.value));ba=(F=C).push;X={type:"text",templateHash:H.numericHash(JSON.stringify(f)+Q).toString(),materialHash:function(){return H.numericHash(JSON.stringify(g.font)).toString()},cim:g,materialOverrides:null,colorLocked:a.colorLocked,alignment:A,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:
0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:g.fontFamilyName,decoration:"none",weight:"normal",style:"normal"};return[4,e(z,"Height",b,u,E)];case 1:return X.size=W.sent(),[4,e(z,"Rotation",b,u,r)];case 2:return X.angle=W.sent(),[4,e(z,"OffsetX",b,u,D)];case 3:return X.offsetX=W.sent(),[4,e(z,"OffsetY",b,u,K)];case 4:return ba.apply(F,[(X.offsetY=W.sent(),X.horizontalAlignment=p(g.horizontalAlignment),X.verticalAlignment=J(g.verticalAlignment),
X.text=w(m,f.textString,g.textCase),X.color=v,X.outlineColor=I,X.outlineSize=M,X.referenceSize=L,X.sizeRatio=1,X)]),[2]}})})}function aa(a,f,b,m,u,C,A,L,w){return r(this,void 0,void 0,function(){var c,k,U,g,p,q;return y(this,function(W){switch(W.label){case 0:c=f.symbol;k=f.geometry;if(!k)return[2];U=z.getExtent(k);if("CIMTextSymbol"===c.type)return[2];g=c.symbolLayers;if(!g)return[2];p=g.length;q=function(){var c,W,da,q,fa,t,d,ha,h,ia,G,n,J,E,r,la,D,x,ja,K,P,v,I,M,Q,N,R,T,F;return y(this,function(ea){switch(ea.label){case 0:return(c=
g[p])&&!1!==c.enable?w?[4,S(a,f,b,m,u,C,A,L)]:[3,2]:[2,"continue"];case 1:return ea.sent(),[2,"continue"];case 2:W=c.type;switch(W){case "CIMSolidFill":return[3,3];case "CIMSolidStroke":return[3,3]}return[3,15];case 3:da=z.getSDFMetrics(U,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits);q=da[0];fa=da[1];t=da[2];d="CIMSolidFill"===c.type;ha={type:"sdf",geom:k,asFill:d};h=a.primitiveName;ia=a.size;G=a.rotation;n=a.offsetX;J=a.offsetY;E=c.primitiveName;r=d?l(B.CIMSymbolHelper.getFillColor(c)):
l(B.CIMSymbolHelper.getStrokeColor(c));la=d?{r:0,g:0,b:0,a:0}:l(B.CIMSymbolHelper.getStrokeColor(c));D=B.CIMSymbolHelper.getStrokeWidth(c);if(!d&&!D)return[3,16];x=!1;ja="";K=0;for(P=b;K<P.length;K++)if(v=P[K],v.primitiveName===E||v.primitiveName===h)void 0!==v.value?ja+="|"+v.primitiveName+"|"+v.propertyName+"|"+JSON.stringify(v.value):v.valueExpressionInfo&&(x=!0);I=H.numericHash(JSON.stringify(ha)).toString();M=H.numericHash(JSON.stringify(c)+JSON.stringify(f)+ja).toString();N=(Q=u).push;R={type:"marker",
templateHash:M,materialHash:x?function(){return I}:I,cim:ha,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:C,anchorPoint:{x:fa,y:t},isAbsoluteAnchorPoint:!1};return[4,e(h,"Size",b,m,ia)];case 4:return R.size=ea.sent(),R.scaleX=1,[4,e(h,"Rotation",b,m,G)];case 5:return R.rotation=ea.sent(),[4,e(h,"OffsetX",b,m,n)];case 6:return R.offsetX=ea.sent(),[4,e(h,"OffsetY",b,m,J)];case 7:return R.offsetY=ea.sent(),[4,e(E,"Color",b,m,r,X)];
case 8:R.color=ea.sent();if(!d)return[3,9];T={r:0,g:0,b:0,a:0};return[3,11];case 9:return[4,e(E,"Color",b,m,la,X)];case 10:T=ea.sent(),ea.label=11;case 11:R.outlineColor=T;if(!d)return[3,12];F=0;return[3,14];case 12:return[4,e(E,"Width",b,m,D)];case 13:F=ea.sent(),ea.label=14;case 14:return N.apply(Q,[(R.outlineWidth=F,R.frameHeight=L,R.rotateClockwise=a.rotateClockwise,R.referenceSize=A,R.sizeRatio=q,R)]),[3,16];case 15:return S(a,f,b,m,u,C,A,L),[3,16];case 16:return[2]}})};W.label=1;case 1:return p--?
[5,q()]:[3,3];case 2:return W.sent(),[3,1];case 3:return[2]}})})}function S(a,f,k,m,u,C,A,L){return r(this,void 0,void 0,function(){var c,w,g,p,l,q,t,d,h,G,n,z,J,E,r,D;return y(this,function(U){switch(U.label){case 0:c={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,
frame:a.frame,markerGraphics:[f],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath};w=[];g=["Rotation","OffsetX","OffsetY"];w=k.filter(function(c){return c.primitiveName!==a.primitiveName||-1===g.indexOf(c.propertyName)});p=B.CIMSymbolHelper.getTextureAnchor(c);l=p[0];q=p[1];t=JSON.stringify(c);d=a.primitiveName;h=a.rotation;G=a.offsetX;n=a.offsetY;z=H.numericHash(JSON.stringify(c)).toString();E=(J=u).push;r={type:"marker",templateHash:z};
if(0!==w.length)return[3,1];D=z;return[3,3];case 1:return[4,b(t,w,m)];case 2:D=U.sent(),U.label=3;case 3:return r.materialHash=D,r.cim=c,r.materialOverrides=w,r.colorLocked=a.colorLocked,r.scaleSymbolsProportionally=a.scaleSymbolsProportionally,r.alignment=C,r.anchorPoint={x:l,y:q},r.isAbsoluteAnchorPoint=!1,r.size=a.size,r.scaleX=1,[4,e(d,"Rotation",k,m,h)];case 4:return r.rotation=U.sent(),[4,e(d,"OffsetX",k,m,G)];case 5:return r.offsetX=U.sent(),[4,e(d,"OffsetY",k,m,n)];case 6:return E.apply(J,
[(r.offsetY=U.sent(),r.color={r:0,g:0,b:0,a:0},r.outlineColor={r:0,g:0,b:0,a:0},r.outlineWidth=0,r.frameHeight=L,r.rotateClockwise=a.rotateClockwise,r.referenceSize=A,r.sizeRatio=1,r)]),[2]}})})}function ba(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function X(a){if(!a||0===a.length)return null;a=(new d(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function e(a,f,b,m,u,e){return r(this,void 0,void 0,function(){var c,k,C,w,g;return y(this,function(A){switch(A.label){case 0:if(!a)return[3,
4];c=function(c){var b,k,C;return y(this,function(A){switch(A.label){case 0:if(c.primitiveName!==a||c.propertyName!==f)return[3,2];if(void 0!==c.value)return[2,{value:e?e(c.value):c.value}];b=c.valueExpressionInfo;if(!b)return[3,2];k=b.expression;return[4,I.createRendererExpression(k,m.spatialReference,m.fields)];case 1:return C=A.sent(),[2,{value:function(a,c,f){a=E.callWithFeature(C,a,{$view:f},m.geometryType,c);null!==a&&e&&(a=e(a));return null!==a?a:u}}];case 2:return[2]}})};k=0;C=b;A.label=1;
case 1:if(!(k<C.length))return[3,4];w=C[k];return[5,c(w)];case 2:g=A.sent();if("object"===typeof g)return[2,g.value];A.label=3;case 3:return k++,[3,1];case 4:return[2,u]}})})}function G(a,f){switch(f){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}function w(a,f,b){if(!a||-1===f.indexOf("["))return G(f,b);var c=function(a){for(var c=a.length;c--;)if(-1===" /-,\n".indexOf(a.charAt(c)))return!1;return!0},k=[],e=0,A=-1;do A=f.indexOf("[",e),A>=e&&(A>e&&
(e=f.substr(e,A-e),k.push([e,null,c(e)])),e=A+1,A=f.indexOf("]",e),A>=e&&(A>e&&(e=f.substr(e,A-e),(e=a[e])&&k.push([null,e,!1])),e=A+1));while(-1!==A);e<f.length-1&&(e=f.substr(e),k.push([e,null,c(e)]));return function(a){for(var c="",f=null,m=0;m<k.length;m++){var u=k[m],e=u[0],C=u[1],u=u[2];if(e)u?f=e:(f&&(c+=f,f=null),c+=e);else if(e=a.attributes[C])f&&(c+=f,f=null),c+=e}return G(c,b)}}function b(a,f,b){return r(this,void 0,void 0,function(){var c,k,e,A;return y(this,function(m){switch(m.label){case 0:c=
function(a){var c,f,k;return y(this,function(m){switch(m.label){case 0:c=a.valueExpressionInfo;if(!c)return[3,2];f=c.expression;return[4,I.createRendererExpression(f,b.spatialReference,b.fields)];case 1:k=m.sent(),a.fn=function(a,c,f){return E.callWithFeature(k,a,{$view:f},b.geometryType,c)},m.label=2;case 2:return[2]}})},k=0,e=f,m.label=1;case 1:if(!(k<e.length))return[3,4];A=e[k];return[5,c(A)];case 2:m.sent(),m.label=3;case 3:return k++,[3,1];case 4:return[2,function(c,b,k){for(var m=0;m<f.length;m++){var u=
f[m];u.fn&&(u.value=u.fn(c,b,k))}return H.numericHash(a+B.OverrideHelper.buildOverrideKey(f)).toString()}]}})})}Object.defineProperty(v,"__esModule",{value:!0});var a=n.getLogger("esri.symbols.cim.cimAnalyzer");v.analyzeCIMSymbol=function(a,f,b,m,u){return r(this,void 0,void 0,function(){var c,k,e,w;return y(this,function(C){switch(C.label){case 0:c=m?m:[];if(!a)return[2,c];"CIMSymbolReference"===a.type?(k=a.symbol,e=a.primitiveOverrides):(k=a,e=null);w=k.type;switch(w){case "CIMPointSymbol":return[3,
1];case "CIMLineSymbol":return[3,1];case "CIMPolygonSymbol":return[3,1];case "CIMTextSymbol":return[3,3]}return[3,4];case 1:return[4,K(k,e,f,b,c,u)];case 2:return C.sent(),[3,4];case 3:return[3,4];case 4:return[2,c]}})})};v.analyzeCIMResource=function(a,f){if(!f||0===f.length)return a;a=JSON.parse(JSON.stringify(a));B.OverrideHelper.applyOverrides(a,f);return a}})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports ../../Color ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMCursor ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B){function D(g,l){switch(l.type){case "CIMSymbolReference":var p={type:"point",x:0,y:0};g.drawSymbol(l.symbol,p);break;case "CIMPointSymbol":p={type:"point",x:0,y:0};g.drawSymbol(l,p);break;case "CIMVectorMarker":p=new H.Placement,g.drawMarker(l,p)}return g.envelope()}Object.defineProperty(v,"__esModule",{value:!0});var z=Math.PI,E=z/2,l=r.getLogger("esri.symbols.cim.CIMSymbolHelper");F=function(){function g(){}g.getEnvelope=function(g){var p=new I.EnvDrawHelper;if(Array.isArray(g)){for(var l=
void 0,q=0;q<g.length;q++){var d=g[q];l?l.union(D(p,d)):l=D(p,d)}return l}return D(p,g)};g.getTextureAnchor=function(g){g=this.getEnvelope(g);if(!g||0>=g.width||0>=g.height)return[0,0];var p=96/72;return[(g.x+.5*g.width)*p/(g.width*p+2),-(g.y+.5*g.height)*p/(g.height*p+2)]};g.rasterize=function(g,p,l){void 0===l&&(l=!0);var q=this.getEnvelope(p);if(!q||0>=q.width||0>=q.height)return[null,0,0,0,0];var d=96/72,h=(q.x+.5*q.width)*d,t=(q.y+.5*q.height)*d;g.width=q.width*d+2;g.height=q.height*d+2;q=g.getContext("2d");
d=I.Transformation.createScale(d,-d);d.translate(.5*g.width-h,.5*g.height+t);d=new I.CanvasDrawHelper(q,d);switch(p.type){case "CIMPointSymbol":d.drawSymbol(p,{type:"point",x:0,y:0});break;case "CIMVectorMarker":var n=new H.Placement;d.drawMarker(p,n)}p=q.getImageData(0,0,g.width,g.height);p=new Uint8Array(p.data);if(l)for(l=void 0,q=0;q<p.length;q+=4)l=p[q+3]/255,p[q]*=l,p[q+1]*=l,p[q+2]*=l;return[p,g.width,g.height,-h/g.width,-t/g.height]};g.fromSimpleMarker=function(g){var p,l,q=g.style;if("circle"===
q||"esriSMSCircle"===q){p=Math.acos(.995);l=Math.ceil(z/p/4);0===l&&(l=1);p=E/l;l*=4;q=[];q.push([50,0]);for(var d=1;d<l;d++)q.push([50*Math.cos(d*p),-50*Math.sin(d*p)]);q.push([50,0]);p={rings:[q]};l={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===q||"esriSMSCross"===q)p=0,p={rings:[[[p,50],[p,p],[50,p],[50,-p],[p,-p],[p,-50],[-p,-50],[-p,-p],[-50,-p],[-50,p],[-p,p],[-p,50],[p,50]]]},l={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===q||"esriSMSDiamond"===q)p={rings:[[[-50,0],[0,50],
[50,0],[0,-50],[-50,0]]]},l={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===q||"esriSMSSquare"===q)p={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},l={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===q||"esriSMSX"===q)p=0,p={rings:[[[0,p],[50-p,50],[50,50-p],[p,0],[50,p-50],[50-p,-50],[0,-p],[p-50,-50],[-50,p-50],[-p,0],[-50,50-p],[p-50,50],[0,p]]]},l={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===q||"esriSMSTriangle"===q)l=2/3*100,q=l-100,p={rings:[[[-57.735026918962575,
q],[0,l],[57.735026918962575,q],[-57.735026918962575,q]]]},l={xmin:-57.735026918962575,ymin:q,xmax:57.735026918962575,ymax:l};var h;p&&l&&(h=[{type:"CIMSolidFill",enable:!0,color:g.color}],g.outline&&h.push({type:"CIMSolidStroke",enable:!0,width:g.outline.width,color:g.outline.color}),h={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:g.angle,size:g.size,offsetX:g.xoffset,offsetY:g.yoffset,frame:l,markerGraphics:[{type:"CIMMarkerGraphic",geometry:p,symbol:{type:"CIMPolygonSymbol",
symbolLayers:h}}]}]});return h};g.getFillColor=function(l){if(!l)return null;switch(l.type){case "CIMPolygonSymbol":if(l.symbolLayers){var p=0;for(l=l.symbolLayers;p<l.length;p++){var q=g.getFillColor(l[p]);if(null!=q)return q}}break;case "CIMTextSymbol":return g.getFillColor(l.symbol);case "CIMSolidFill":return l.color}};g.getStrokeColor=function(l){if(l)switch(l.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(l.symbolLayers){var p=0;for(l=l.symbolLayers;p<l.length;p++){var q=g.getStrokeColor(l[p]);
if(void 0!==q)return q}}break;case "CIMTextSymbol":return g.getStrokeColor(l.symbol);case "CIMSolidStroke":return l.color}};g.getStrokeWidth=function(l){if(l)switch(l.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(l.symbolLayers){var p=0;for(l=l.symbolLayers;p<l.length;p++){var q=g.getStrokeWidth(l[p]);if(void 0!==q)return q}}break;case "CIMTextSymbol":return g.getStrokeWidth(l.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return l.width}};g.getSize=function(l){if(l)switch(l.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var p=
0;if(l.symbolLayers){var q=0;for(l=l.symbolLayers;q<l.length;q++){var d=g.getSize(l[q]);d>p&&(p=d)}}return p;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return l.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return l.size}};g.getMarkerScaleRatio=function(g){if(g)switch(g.type){case "CIMVectorMarker":if(!1!==g.scaleSymbolsProportionally&&g.frame)return g.size/(g.frame.ymax-g.frame.ymin)}return 1};g.executeEffects=function(g,l,d){void 0===
d&&(d=!1);var p=96/72,q=g?g.length:0;q&&d&&--q;for(d=0;d<q;++d){var n=g[d];if(n){var t=h.getEffectOperator(n);t&&(l=t.execute(l,n,p))}}return l};g.processEffects=function(l,p,h){var q;l.effects&&0<l.effects.length&&(q=d.deltaEncodeGeometry(h),q=new n.SimpleGeometryCursor(q),q=g.executeEffects(l.effects,q));l=l.symbolLayers[p];l.effects&&0<l.effects.length&&(p=!1,"CIMGeometricEffectDashes"===l.effects[l.effects.length-1].type&&(p=!0),q||(q=d.deltaEncodeGeometry(h),q=new n.SimpleGeometryCursor(q)),
q=g.executeEffects(l.effects,q,p));if(!q)return h;h=[];for(l=q.next();l;)h.push(l),l=q.next();q=h.length;switch(q){case 0:return null;case 1:return d.deltaEncodeGeometry(h[0]);default:l=h[0];for(p=1;p<q;++p){var z=h[p];x.isPolygon(l)&&x.isPolygon(z)&&Array.prototype.push.apply(l.rings,z.rings);x.isPolyline(l)&&x.isPolyline(z)&&Array.prototype.push.apply(l.paths,z.paths)}return d.deltaEncodeGeometry(l)}};return g}();v.CIMSymbolHelper=F;F=function(){function g(){}g.rasterizeSimpleFill=function(g,l){"solid"!==
l&&"none"!==l&&"esriSFSSolid"!==l&&"esriSFSNull"!==l||console.error("Unexpected: style does not require rasterization");g.width=8;g.height=8;var p=g.getContext("2d");p.strokeStyle="#FFFFFF";p.lineWidth=1;p.beginPath();if("vertical"===l||"cross"===l||"esriSFSCross"===l||"esriSFSVertical"===l)p.moveTo(0,0),p.lineTo(0,8);if("horizontal"===l||"cross"===l||"esriSFSCross"===l||"esriSFSHorizontal"===l)p.moveTo(0,0),p.lineTo(8,0);if("forward-diagonal"===l||"diagonal-cross"===l||"esriSFSDiagonalCross"===l||
"esriSFSForwardDiagonal"===l)p.moveTo(0,0),p.lineTo(8,8);if("backward-diagonal"===l||"diagonal-cross"===l||"esriSFSBackwardDiagonal"===l||"esriSFSDiagonalCross"===l)p.moveTo(8,0),p.lineTo(0,8);p.stroke();l=p.getImageData(0,0,g.width,g.height);l=new Uint8Array(l.data);for(var q=0;q<l.length;q+=4)p=l[q+3]/255,l[q]*=p,l[q+1]*=p,l[q+2]*=p;return[l,g.width,g.height]};g.rasterizeSimpleLine=function(g,p){switch(p){case "butt":p="Butt";break;case "square":p="Square";break;default:p="Round"}var q="Butt"===
p;switch(g){case "dash":case "esriSLSDash":g=q?[4,3]:[3,4];break;case "dash-dot":case "esriSLSDashDot":g=q?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":g=q?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":g=q?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":g=q?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":g=q?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":g=q?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":g=
q?[4,1,1,1]:[3,2,0,2];break;case "short-dash-dot-dot":case "esriSLSShortDashDotDot":g=q?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":g=q?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":l.error("Unexpected: style does not require rasterization");g=[0,0];break;default:l.error("Tried to rasterize SLS, but found an unexpected style: "+g+"!"),g=[0,0]}return this.rasterizeDash(g,p)};g.rasterizeDash=function(g,l){var p="Butt"===l,q="Square"===l;l=!p&&!q;for(var d=
0,h=0;h<g.length;h++)var t=g[h],d=d+t;for(var d=15*d,n=31*d,h=new Float32Array(n),z=l?225:15,t=0;t<n;++t)h[t]=z;for(var z=n=0,E=!0,r=0;r<g.length;r++){for(var t=g[r],n=z,z=z+15*t,D=n;D<z;){for(var x=0;31>x;){var t=x*d+D,H=l?(x-15)*(x-15):Math.abs(x-15);h[t]=E?p?Math.max(Math.max(n+7.5-D,H),Math.max(D-z+7.5,H)):H:l?Math.min((D-n)*(D-n)+H,(D-z)*(D-z)+H):q?Math.min(Math.max(D-n,H),Math.max(z-D,H)):Math.min(Math.max(D-n+7.5,H),Math.max(z+7.5-D,H));x++}D++}E=!E}g=h.length;p=new Uint8Array(4*g);for(t=0;t<
g;++t)B.packFloatRGBA((l?Math.sqrt(h[t]):h[t])/15,p,4*t);return[p,d,31]};return g}();v.SymbolHelper=F;F=function(){function g(){}g.findApplicableOverrides=function(l,p,d){if(p){if(l.primitiveName){for(var q=!1,h=0;h<d.length;h++){var n=d[h];if(n.primitiveName===l.primitiveName){q=!0;break}}if(!q)for(q=0;q<p.length;q++)n=p[q],n.primitiveName===l.primitiveName&&d.push(n)}switch(l.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(l.effects)for(q=0,h=l.effects;q<h.length;q++)n=
h[q],g.findApplicableOverrides(n,p,d);if(l.symbolLayers)for(n=0,l=l.symbolLayers;n<l.length;n++)g.findApplicableOverrides(l[n],p,d);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(l.effects)for(q=0,h=l.effects;q<h.length;q++)n=h[q],g.findApplicableOverrides(n,p,d);l.markerPlacement&&g.findApplicableOverrides(l.markerPlacement,
p,d);if("CIMVectorMarker"===l.type){if(l.markerGraphics)for(n=0,l=l.markerGraphics;n<l.length;n++)q=l[n],g.findApplicableOverrides(q,p,d),g.findApplicableOverrides(q.symbol,p,d)}else"CIMCharacterMarker"===l.type?g.findApplicableOverrides(l.symbol,p,d):"CIMHatchFill"===l.type&&g.findApplicableOverrides(l.lineSymbol,p,d)}}};g.applyOverrides=function(l,p,d,h){if(p){if(l.primitiveName)for(var q=0;q<p.length;q++){var n=p[q];if(n.primitiveName===l.primitiveName){var t;t=(t=n.propertyName)?t.charAt(0).toLowerCase()+
t.substr(1):t;h&&h.push({cim:l,nocapPropertyName:t,value:l[t]});n.expression&&(n.value=g.toValue(n.propertyName,n.expression));if(d){for(var z=!1,E=0,B=d;E<B.length;E++)B[E].primitiveName===l.primitiveName&&(z=!0);z||d.push(n)}l[t]=n.value}}switch(l.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(l.effects)for(n=0,t=l.effects;n<t.length;n++)q=t[n],g.applyOverrides(q,p,d,h);if(l.symbolLayers)for(q=0,l=l.symbolLayers;q<l.length;q++)g.applyOverrides(l[q],p,d,h);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(l.effects)for(n=
0,t=l.effects;n<t.length;n++)q=t[n],g.applyOverrides(q,p,d,h);if("CIMVectorMarker"===l.type&&l.markerGraphics)for(q=0,l=l.markerGraphics;q<l.length;q++)n=l[q],g.applyOverrides(n,p,d,h),g.applyOverrides(n.symbol,p,d,h)}}};g.restoreOverrides=function(g){for(var l=0;l<g.length;l++){var q=g[l];q.cim[q.nocapPropertyName]=q.value}};g.buildOverrideKey=function(g){for(var l="",q=0;q<g.length;q++){var d=g[q];void 0!==d.value&&(l+=""+d.primitiveName+d.propertyName+JSON.stringify(d.value))}return l};g.toValue=
function(g,l){return"DashTemplate"===g?l.split(" ").map(function(g){return Number(g)}):"Color"===g?(g=(new y(l)).toRgba(),g[3]*=255,g):l};return g}();v.OverrideHelper=F})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../geometry/support/jsonUtils","./CIMPlacements"],function(F,v,y,r){function x(d){if(d)for(var h=d.length-1;0<h;--h)d[h][0]-=d[h-1][0],d[h][1]-=d[h-1][1]}function d(d){if(d)for(var h=0;h<d.length;h++)x(d[h])}function n(d){if(d)for(var h=d.length,n=1;n<h;++n)d[n][0]+=
d[n-1][0],d[n][1]+=d[n-1][1]}function h(d){if(d)for(var h=0;h<d.length;h++)n(d[h])}function H(d){d&&d.reverse()}function I(d){return{rings:[[[d.xmin,d.ymin],[d.xmin,d.ymax],[d.xmax,d.ymax],[d.xmax,d.ymin],[d.xmin,d.ymin]]]}}Object.defineProperty(v,"__esModule",{value:!0});v.deltaEncodePath=x;v.deltaEncodeMultipath=d;v.deltaDecodeGeometry=function(d){y.isPolygon(d)?h(d.rings):y.isPolyline(d)?h(d.paths):y.isMultipoint(d)&&n(d.points);return d};v.deltaEncodeGeometry=function(h){y.isPolygon(h)?d(h.rings):
y.isPolyline(h)?d(h.paths):y.isMultipoint(h)&&x(h.points);return h};v.reverseMultipath=function(d){if(d)for(var h=0;h<d.length;h++)H(d[h])};v.reversePath=H;v.getCoord2D=function(d,h,n){return[d[0]+(h[0]-d[0])*n,d[1]+(h[1]-d[1])*n]};v.isClosedPath=function(d){return d&&0!==d.length?d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]:!1};v.getId=function(d){return d[4]};v.setId=function(d,h){d[4]=h};F=function(){function d(d,h,n,l){this.acceptPolygon=h;this.acceptPolyline=n;this.geomUnitsPerPoint=
l;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;d&&(y.isPolygon(d)?h&&(this.multiPath=d.rings,this.isClosed=!0):y.isPolyline(d)?n&&(this.multiPath=d.paths,this.isClosed=!1):y.isExtent(d)&&h&&(this.multiPath=I(d).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new r.Placement}d.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var d=this.processPath(this.multiPath[this.pathIndex]);
if(d)return d}this.pathIndex=this.pathCount=-1;return this.multiPath=null};return d}();v.PathTransformationCursor=F;F=function(){function d(d,h,n,l){this.inputGeometries=d;this.acceptPolygon=h;this.acceptPolyline=n;this.geomUnitsPerPoint=l;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}d.prototype.next=function(){for(;;){if(!this.multiPath){for(var d=this.inputGeometries.next();d;)if(y.isPolygon(d)?this.acceptPolygon&&(this.multiPath=d.rings,this.isClosed=!0):y.isPolyline(d)?this.acceptPolyline&&
(this.multiPath=d.paths,this.isClosed=!1):y.isExtent(d)&&this.acceptPolygon&&(this.multiPath=I(d).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else d=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,d=this.processPath(this.multiPath[this.pathIndex]))return d;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return d}();v.PathGeometryCursor=
F})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function y(){this.setIdentity()}y.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};y.prototype.setTranslate=function(r,x){this.tx=r;this.ty=x};y.prototype.setTranslateZ=function(r){this.tz=r};y.prototype.setRotateCS=function(r,x){this.rz=void 0;this.rz_c=r;this.rz_s=x};y.prototype.setRotate=
function(r){this.rz=r;this.rz_s=this.rz_c=void 0};y.prototype.setRotateY=function(r){this.ry=r};y.prototype.setScale=function(r){this.s=r};y.prototype.setMeasure=function(r){this.m=r};return y}();v.Placement=F;F=function(){function y(){}y.prototype.next=function(){return null};return y}();v.EmptyPlacementCursor=F})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function r(r){this._geometry=
r}r.prototype.next=function(){var r=this._geometry;this._geometry=null;return r};return r}();v.SimpleGeometryCursor=F;v.clone=function(r){return y.clone(r)}})},"esri/symbols/cim/CIMOperators":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.getEffectOperator=function(y){return null};v.getPlacementOperator=function(y){return null}})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),
function(F,v,y,r,x,d,n,h,H,I){Object.defineProperty(v,"__esModule",{value:!0});v.C_DEG_TO_RAD=Math.PI/180;var B=x.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),D=function(){function d(d){this._t=d}d.createIdentity=function(){return new d([1,0,0,0,1,0])};d.prototype.clone=function(){return new d(this._t.slice())};d.prototype.transform=function(d){var l=this._t;return[l[0]*d[0]+l[1]*d[1]+l[2],l[3]*d[0]+l[4]*d[1]+l[5]]};d.createScale=function(h,l){return new d([h,0,0,0,l,0])};d.prototype.scale=function(d,
l){var g=this._t;g[0]*=d;g[1]*=d;g[2]*=d;g[3]*=l;g[4]*=l;g[5]*=l;return this};d.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};d.createTranslate=function(h,l){return new d([0,0,h,0,0,l])};d.prototype.translate=function(d,l){var g=this._t;g[2]+=d;g[5]+=l;return this};d.createRotate=function(h){var l=Math.cos(h);h=Math.sin(h);return new d([l,-h,0,h,l,0])};d.prototype.rotate=function(h){return this.multiply(d.createRotate(h))};d.prototype.multiply=function(d){var l=
this._t;d=d._t;var g=l[1]*d[0]+l[4]*d[1],q=l[2]*d[0]+l[5]*d[1]+d[2],p=l[0]*d[3]+l[3]*d[4],h=l[1]*d[3]+l[4]*d[4],n=l[2]*d[3]+l[5]*d[4]+d[5];l[0]=l[0]*d[0]+l[3]*d[1];l[1]=g;l[2]=q;l[3]=p;l[4]=h;l[5]=n;return this};return d}();v.Transformation=D;F=function(){function d(d){this._transfos=[];this._sizeTransfos=[];this._transfos.push(d||D.createIdentity());this._sizeTransfos.push(d?d.scaleRatio():1)}d.prototype.transformPt=function(d){return this._transfos[this._transfos.length-1].transform(d)};d.prototype.transformSize=
function(d){return d*this._sizeTransfos[this._sizeTransfos.length-1]};d.prototype.back=function(){return this._transfos[this._transfos.length-1]};d.prototype.push=function(d){var l=d.scaleRatio();d.multiply(this.back());this._transfos.push(d);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*l)};d.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};d.prototype.drawSymbol=function(d,l){if(d)switch(d.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(d,
l)}};d.prototype.drawMultiLayerSymbol=function(d,l){if(d){var g=d.symbolLayers;if(g)if(d=d.effects){if(l=this.executeEffects(d,l))for(d=l.next();d;)this.drawSymbolLayers(g,d),d=l.next()}else this.drawSymbolLayers(g,l)}};d.prototype.executeEffects=function(d,l){var g=96/72;l=new n.SimpleGeometryCursor(l);for(var q=d?d.length:0,p=0;p<q;++p){var z=d[p];if(z){var E=h.getEffectOperator(z);E&&(l=E.execute(l,z,g))}}return l};d.prototype.drawSymbolLayers=function(d,l){for(var g=d.length;g--;){var q=d[g];
if(q&&!1!==q.enable){var p=q.effects;if(p){if(p=this.executeEffects(p,l))for(var h=p.next();h;)this.drawSymbolLayer(q,h),h=p.next()}else this.drawSymbolLayer(q,l)}}};d.prototype.drawSymbolLayer=function(d,l){switch(d.type){case "CIMSolidFill":this.drawSolidFill(l,d.color);break;case "CIMSolidStroke":this.drawSolidStroke(l,d.color,d.width);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(d,l)}};d.prototype.drawMarkerLayer=function(d,l){var g=d.markerPlacement;
if(g){var q=96/72,p=h.getPlacementOperator(g);if(p&&(l=p.execute(l,g,q)))for(g=l.next();g;)this.drawMarker(d,g),g=l.next()}else g=new H.Placement,g.tx=l.x,g.ty=l.y,this.drawMarker(d,g)};d.prototype.drawMarker=function(d,l){switch(d.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(d,l);break;case "CIMVectorMarker":this.drawVectorMarker(d,l)}};d.prototype.drawPictureMarker=function(d,l){};d.prototype.drawVectorMarker=function(d,l){if(d){var g=d.markerGraphics;if(g){var q=
d.size,p=d.frame,h=p?p.ymax-p.ymin:0,q=q&&h?q/h:1,h=D.createIdentity();p&&h.translate(.5*-(p.xmax+p.xmin),.5*-(p.ymax+p.ymin));var n=d.anchorPoint;if(n){var z=n.x,n=n.y;"Absolute"!==d.anchorPointUnits&&p&&(z*=p.xmax-p.xmin,n*=p.ymax-p.ymin);h.translate(-z,-n)}1!==q&&h.scale(q,q);d.rotation&&h.rotate(d.rotation*v.C_DEG_TO_RAD);h.translate(d.offsetX||0,d.offsetY||0);h.translate(l.tx,l.ty);this.push(h);for(d=0;d<g.length;d++)(l=g[d])&&l.symbol&&l.geometry||B.error("Invalid marker graphic",l),this.drawSymbol(l.symbol,
l.geometry);this.pop()}}};return d}();v.CIMSymbolDrawHelper=F;r=function(h){function n(){var l=h.call(this)||this;l.reset();return l}y(n,h);n.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};n.prototype.envelope=function(){return new I.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};n.prototype._merge=function(l,g){l[0]-g<this._xmin&&(this._xmin=l[0]-g);l[0]+g>this._xmax&&(this._xmax=l[0]+g);l[1]-g<this._ymin&&(this._ymin=l[1]-
g);l[1]+g>this._ymax&&(this._ymax=l[1]+g)};n.prototype.drawSolidFill=function(l){if(l&&l.rings){var g=0;for(l=l.rings;g<l.length;g++){var d=l[g],p=d?d.length:0;if(2<p){this._merge(this.transformPt(d[0]),0);for(var h=1;h<p;++h)this._merge(this.transformPt(d[h]),0)}}}};n.prototype.drawSolidStroke=function(l,g,q){g=.5*this.transformSize(q);if(l=d.isPolygon(l)?l.rings:l.paths)for(q=0;q<l.length;q++){var p=l[q],h=p?p.length:0;if(1<h){this._merge(this.transformPt(p[0]),g);for(var n=1;n<h;++n)this._merge(this.transformPt(p[n]),
g)}}};return n}(F);v.EnvDrawHelper=r;F=function(h){function n(l,g){g=h.call(this,g)||this;g._ctx=l;return g}y(n,h);n.prototype.drawSolidFill=function(l,g){if(l&&l.rings){var d=this._ctx;d.fillStyle="string"===typeof g?g:"rgba("+Math.round(g[0])+","+Math.round(g[1])+","+Math.round(g[2])+","+g[3]/255+")";d.beginPath();g=0;for(l=l.rings;g<l.length;g++){var p=l[g],h=p?p.length:0;if(2<h){var n=this.transformPt(p[0]);d.moveTo(n[0],n[1]);for(var z=1;z<h;++z)n=this.transformPt(p[z]),d.lineTo(n[0],n[1]);d.closePath()}}d.fill("evenodd")}};
n.prototype.drawSolidStroke=function(l,g,q){var p=this._ctx;p.strokeStyle="string"===typeof g?g:"rgba("+Math.round(g[0])+","+Math.round(g[1])+","+Math.round(g[2])+","+g[3]/255+")";p.lineWidth=this.transformSize(q)+.5;p.beginPath();g=!1;d.isPolygon(l)?(q=l.rings,g=!0):q=l.paths;for(l=0;l<q.length;l++){var h=q[l],n=h?h.length:0;if(1<n){var z=this.transformPt(h[0]);p.moveTo(z[0],z[1]);for(var r=1;r<n;++r)z=this.transformPt(h[r]),p.lineTo(z[0],z[1]);g&&p.closePath()}}p.stroke()};return n}(F);v.CanvasDrawHelper=
F})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function y(r,x,d,n){void 0===r&&(r=0);void 0===x&&(x=0);void 0===d&&(d=0);void 0===n&&(n=0);this.x=r;this.y=x;this.width=d;this.height=n}Object.defineProperty(y.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});y.prototype.union=function(r){this.x=Math.min(this.x,r.x);this.y=Math.min(this.y,r.y);this.width=
Math.max(this.width,r.width);this.height=Math.max(this.height,r.height)};return y}();v.default=F})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(F,v){function y(d){return d-Math.floor(d)}Object.defineProperty(v,"__esModule",{value:!0});var r=[1,256,65536,16777216],x=[1/256,1/65536,1/16777216,1/4294967296],d=function(d,h){void 0===h&&(h=0);for(var n=0,r=0;4>r;r++)n+=d[h+r]*x[r];return n}(new Uint8ClampedArray([255,255,255,255]));v.packFloatRGBA=function(n,h,x){void 0===
x&&(x=0);n=0>n?0:n>d?d:n;for(var H=0;4>H;H++)h[x+H]=Math.floor(256*y(n*r[H]))}})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});(function(y){y[y.BUTT=0]="BUTT";y[y.ROUND=1]="ROUND";y[y.SQUARE=2]="SQUARE";y[y.UNKNOWN=4]="UNKNOWN"})(v.CapType||(v.CapType={}));(function(y){y[y.BEVEL=0]="BEVEL";y[y.ROUND=1]="ROUND";y[y.MITER=2]="MITER";y[y.UNKNOWN=4]="UNKNOWN"})(v.JoinType||(v.JoinType={}));(function(y){y[y.SCREEN=0]="SCREEN";
y[y.MAP=1]="MAP"})(v.Alignment||(v.Alignment={}))})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(F,v,y,r,x){function d(h){if(!h)return null;switch(h.type){case "CIMPointSymbol":h=h.symbolLayers;if(!h||1!==h.length)break;return d(h[0]);case "CIMVectorMarker":h=h.markerGraphics;if(!h||1!==h.length)break;var n=h[0];if(!n)break;h=n.geometry;if(!h)break;n=n.symbol;if(!n||"CIMPolygonSymbol"!==n.type&&"CIMLineSymbol"!==
n.type)break;return{geom:h,asFill:"CIMPolygonSymbol"===n.type};case "sdf":return{geom:h.geom,asFill:h.asFill}}return null}function n(d){for(var h=Infinity,n=-Infinity,r=Infinity,x=-Infinity,z=0;z<d.length;z++)for(var E=0,l=d[z];E<l.length;E++){var g=l[E];g[0]<h&&(h=g[0]);g[0]>n&&(n=g[0]);g[1]<r&&(r=g[1]);g[1]>x&&(x=g[1])}return[h,r,n,x]}Object.defineProperty(v,"__esModule",{value:!0});v.getSDFInfo=d;v.getSDFSymbol=function(d){d=d.markerGraphics;if(!d||1!==d.length)return null;d=d[0];if(!d)return null;
d=d.symbol;return!d||"CIMPolygonSymbol"!==d.type&&"CIMLineSymbol"!==d.type?null:d};v.getExtent=function(d){return d?d.rings?n(d.rings):d.paths?n(d.paths):y.isExtent(d)?[d.xmin,d.ymin,d.xmax,d.ymax]:null:null};v.getSDFMetrics=function(d,n,r,B,x){var h=d[0],E=d[1],l=d[2];d=d[3];if(l<h||d<E)return[0,0,0];var g=l-h,q=d-E,l=Math.floor(31.5);d=(128-2*(l+1))/Math.max(g,q);var g=Math.round(g*d),q=Math.round(q*d)+2*l,p=1;n&&(p=q/d/(n.ymax-n.ymin));var J=0,D=0;B&&(x?n&&r&&0<n.ymax-n.ymin&&(J=B.x/((n.xmax-n.xmin)/
(n.ymax-n.ymin)*r),D=B.y/r):(J=B.x,D=B.y));J=.5*(n.xmax+n.xmin)+J*(n.xmax-n.xmin);D=.5*(n.ymax+n.ymin)+D*(n.ymax-n.ymin);J=(J-h)*d+l;D=(D-E)*d+l;return[p,J/(g+2*l)-.5,-(D/q-.5)]};v.buildSDF=function(d){var h,n=d.geom;h=n?n.rings?n.rings:n.paths?n.paths:void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax?[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]:null:null;var B,n=Infinity,D=-Infinity,z=Infinity,E=-Infinity;for(B=0;B<h.length;B++)for(var l=0,
g=h[B];l<g.length;l++){var q=g[l];q[0]<n&&(n=q[0]);q[0]>D&&(D=q[0]);q[1]<z&&(z=q[1]);q[1]>E&&(E=q[1])}B=new x.default(n,z,D-n,E-z);z=Math.floor(31.5);l=(128-2*(z+1))/Math.max(B.width,B.height);n=Math.round(B.width*l)+2*z;D=Math.round(B.height*l)+2*z;E=[];for(g=0;g<h.length;g++){var p=h[g];if(p&&1<p.length){for(var q=[],J=0;J<p.length;J++){var y=p[J],v=y[0],y=y[1],v=v-B.x,y=y-B.y,v=v*l,y=y*l,v=v+(z-.5),y=y+(z-.5);q.push([v,y])}d.asFill&&(J=q.length-1,q[0][0]===q[J][0]&&q[0][1]===q[J][1]||q.push(q[0]));
E.push(q)}}B=n*D;h=Array(B);g=z*z+1;for(l=0;l<B;++l)h[l]=g;for(g=0;g<E.length;g++)for(q=E[g],J=q.length,l=1;l<J;++l){var p=q[l-1],v=q[l],N=void 0,y=void 0;p[0]<v[0]?(N=p[0],y=v[0]):(N=v[0],y=p[0]);var t=void 0,M=void 0;p[1]<v[1]?(t=p[1],M=v[1]):(t=v[1],M=p[1]);var Q=Math.floor(N)-z,y=Math.floor(y)+z,t=Math.floor(t)-z,M=Math.floor(M)+z;0>Q&&(Q=0);y>n&&(y=n);0>t&&(t=0);M>D&&(M=D);for(var N=v[0]-p[0],R=v[1]-p[1],F=N*N+R*R;Q<y;Q++)for(var V=t;V<M;V++){var O=(Q-p[0])*N+(V-p[1])*R,Z=void 0,T=void 0;0>O?
(Z=p[0],T=p[1]):O>F?(Z=v[0],T=v[1]):(O/=F,Z=p[0]+O*N,T=p[1]+O*R);O=(Q-Z)*(Q-Z)+(V-T)*(V-T);Z=(D-V-1)*n+Q;O<h[Z]&&(h[Z]=O)}}for(l=0;l<B;++l)h[l]=Math.sqrt(h[l]);if(d.asFill)for(d=0;d<E.length;d++)for(B=E[d],l=B.length,g=1;g<l;++g)for(q=B[g-1],J=B[g],v=p=void 0,q[0]<J[0]?(p=q[0],v=J[0]):(p=J[0],v=q[0]),y=t=void 0,q[1]<J[1]?(t=q[1],y=J[1]):(t=J[1],y=q[1]),p=Math.floor(p),v=Math.floor(v)+1,t=Math.floor(t),y=Math.floor(y)+1,p<z&&(p=z),v>n-z&&(v=n-z),t<z&&(t=z),y>D-z&&(y=D-z);t<y;++t)if(q[1]>t!==J[1]>t){M=
(D-t-1)*n;for(N=p;N<v;++N)N<(J[0]-q[0])*(t-q[1])/(J[1]-q[1])+q[0]&&(h[M+N]=-h[M+N]);for(N=z;N<p;++N)h[M+N]=-h[M+N]}z*=2;E=h.length;d=new Uint8Array(4*E);for(B=0;B<E;++B)r.packFloatRGBA(.5-h[B]/z,d,4*B);return[d,n,D]}})},"esri/views/2d/arcade/utils":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),function(F,
v,y,r,x,d,n,h){function H(d,h,l,g){var q=g.transform,p=g.hasZ;g=g.hasM;D.has(d)||D.set(d,I(l));d=D.get(d)(h.geometry,q,p,g);return y({},h,{geometry:d})}function I(d){var h={};switch(d){case "esriGeometryPoint":return function(l,g,d,p){return n.hydratePoint(g,h,l,d,p)};case "esriGeometryPolygon":return function(l,g,d,p){return n.hydratePolygon(g,h,l,d,p)};case "esriGeometryPolyline":return function(l,g,d,p){return n.hydratePolyline(g,h,l,d,p)};case "esriGeometryMultipoint":return function(l,g,d,p){return n.hydrateMultipoint(g,
h,l,d,p)};default:return B.error(new x("mapview-arcade","Unable to handle geometryType: "+d)),function(l){return l}}}Object.defineProperty(v,"__esModule",{value:!0});var B=d.getLogger("esri.views.2d.support.arcadeOnDemand");v.callWithOptimizedFeature=function(d,n,l,g,q){var p=g.geometryType,z=g.hasZ;g=g.hasM;n=d.referencesGeometry()?q?H(d,h.convertToFeature(n,p,z,g),p,q):h.convertToFeature(n,p,z,g):n;n=d.repurposeFeature(n);try{return d.evaluate(y({},l,{$feature:n}))}catch(P){return B.warn("Feature arcade evaluation failed:",
P),null}};v.callWithFeature=function(d,h,l,g,q){h=d.referencesGeometry()&&q?H(d,h,g,q):h;h=d.repurposeFeature(h);try{return d.evaluate(y({},l,{$feature:h}))}catch(p){return B.warn("Feature arcade evaluation failed:",p),null}};var D=new r.default;v.createHydrateFactory=I})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(F,
v,y,r,x,d,n,h){function H(a,c){return a?c?4:3:c?3:2}function I(f,k,e,A){if(f){if(e)return k&&A?c:b;if(k&&A)return a}else if(k&&A)return b;return w}function B(a,c){return Math.round((c-a.translate[0])/a.scale[0])}function D(a,c){return Math.round((a.translate[1]-c)/a.scale[1])}function z(a,c){return c*a.scale[0]+a.translate[0]}function E(a,c){return a.translate[1]-c*a.scale[1]}function l(a){a=a.coords;return{x:a[0],y:a[1]}}function g(a,c){a.coords[0]=c.x;a.coords[1]=c.y;return a}function q(a){a=a.coords;
return{x:a[0],y:a[1],z:a[2]}}function p(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.z;return a}function J(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function P(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.m;return a}function K(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function N(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.z;a.coords[3]=c.m;return a}function t(a,c){return a&&c?N:a?p:c?P:g}function M(a,c,f){if(!a)return null;for(var b=H(c,f),k=[],m=0;m<a.coords.length;m+=
b){for(var u=[],e=0;e<b;e++)u.push(a.coords[m+e]);k.push(u)}return c?f?{points:k,hasZ:c,hasM:f}:{points:k,hasZ:c}:f?{points:k,hasM:f}:{points:k}}function Q(a,c,f){void 0===f&&(f=H(c.hasZ,c.hasM));a.lengths[0]=c.points.length;var b=a.coords,k=0,m=0;for(c=c.points;m<c.length;m++)for(var u=c[m],e=0;e<f;e++)b[k++]=u[e];return a}function R(a,c,f){if(!a)return null;var b=H(c,f),k=a.coords,m=[],u=0,e=0;for(a=a.lengths;e<a.length;e++){for(var C=a[e],w=[],g=0;g<C;g++){for(var d=[],l=0;l<b;l++)d.push(k[u++]);
w.push(d)}m.push(w)}return c?f?{paths:m,hasZ:c,hasM:f}:{paths:m,hasZ:c}:f?{paths:m,hasM:f}:{paths:m}}function Y(a,c,f){void 0===f&&(f=H(c.hasZ,c.hasM));var b=a.lengths,k=a.coords,m=0,u=0;for(c=c.paths;u<c.length;u++){for(var e=c[u],C=0,w=e;C<w.length;C++)for(var g=w[C],d=0;d<f;d++)k[m++]=g[d];b.push(e.length)}return a}function V(a,c,f){if(!a)return null;var b=H(c,f),k=a.coords,m=[],e=0,u=0;for(a=a.lengths;u<a.length;u++){for(var C=a[u],w=[],g=0;g<C;g++){for(var d=[],l=0;l<b;l++)d.push(k[e++]);w.push(d)}m.push(w)}return c?
f?{rings:m,hasZ:c,hasM:f}:{rings:m,hasZ:c}:f?{rings:m,hasM:f}:{rings:m}}function O(a,c,f,b){void 0===f&&(f=c.hasZ);void 0===b&&(b=c.hasM);Z(a,c.rings,f,b);return a}function Z(a,c,f,b){f=H(f,b);b=a.lengths;for(var k=a.coords,m=0,e=b.length=k.length=0;e<c.length;e++){for(var u=c[e],C=0,A=u;C<A.length;C++)for(var w=A[C],g=0;g<f;g++)k[m++]=w[g];b.push(u.length)}return a}function T(a,c,f,b,k,w){a.length=0;if(!f){for(b=0;b<c.length;b++)k=c[b],a.push(new d.default(null,k.attributes,null,k.attributes[w]));
return a}switch(f){case "esriGeometryPoint":b=t(b,k);for(k=0;k<c.length;k++){var m=c[k];f=m.geometry;var m=m.attributes,u=void 0;f&&(u=b(new h.default,f));a.push(new d.default(u,m,null,m[w]))}break;case "esriGeometryMultipoint":b=H(b,k);for(k=0;k<c.length;k++)m=c[k],f=m.geometry,m=m.attributes,u=void 0,f&&(u=Q(new h.default,f,b)),a.push(new d.default(u,m,null,m[w]));break;case "esriGeometryPolyline":b=H(b,k);for(k=0;k<c.length;k++)m=c[k],f=m.geometry,m=m.attributes,u=void 0,f&&(u=Y(new h.default,
f,b)),a.push(new d.default(u,m,null,m[w]));break;case "esriGeometryPolygon":for(f=0;f<c.length;f++){var C=c[f],m=C.geometry,u=C.centroid,C=C.attributes,A=void 0;m&&(A=O(new h.default,m,b,k));u?a.push(new d.default(A,C,g(new h.default,u),C[w])):a.push(new d.default(A,C,null,C[w]))}break;default:e.error("convertToFeatureSet:unknown-geometry",new y("Unable to parse unknown geometry type '"+f+"'")),a.length=0}return a}function aa(a,c,f,b,k){a.length=0;switch(f){case "esriGeometryPoint":f=l;b&&k?f=K:b?
f=q:k&&(f=J);for(b=0;b<c.length;b++){var m=c[b];k=m.geometry;m=m.attributes;k=k?f(k):null;a.push({attributes:m,geometry:k})}break;case "esriGeometryMultipoint":for(f=0;f<c.length;f++){var u=c[f],m=u.geometry,u=u.attributes,C=void 0;m&&(C=M(m,b,k));a.push({attributes:u,geometry:C})}break;case "esriGeometryPolyline":for(f=0;f<c.length;f++)u=c[f],m=u.geometry,u=u.attributes,C=void 0,m&&(C=R(m,b,k)),a.push({attributes:u,geometry:C});break;case "esriGeometryPolygon":for(f=0;f<c.length;f++){var C=c[f],
u=C.geometry,m=C.attributes,A=C.centroid,C=void 0;u&&(C=V(u,b,k));A?(u=l(A),a.push({attributes:m,centroid:u,geometry:C})):a.push({attributes:m,geometry:C})}break;default:e.error("convertToFeatureSet:unknown-geometry",new y("Unable to parse unknown geometry type '"+f+"'"))}return a}function S(a,c,f,b,k,e,w,g){void 0===w&&(w=f);void 0===g&&(g=b);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!c||!c.coords.length)return null;k=G[k];var m=c.coords;c=c.lengths;var u=H(f,
b),C=H(f&&w,b&&g);f=I(f,b,w,g);if(!c.length)return f(a.coords,m,0,0,B(e,m[0]),D(e,m[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=u,a;for(var A,L=0,U,W=0,d=0;d<c.length;d++){var l=c[d];if(!(l<k)){var da=0;U=W;g=b=B(e,m[L]);A=w=D(e,m[L+1]);f(a.coords,m,U,L,g,A);da++;L+=u;U+=C;for(var p=1;p<l;p++,L+=u)if(g=B(e,m[L]),A=D(e,m[L+1]),g!==b||A!==w)f(a.coords,m,U,L,g-b,A-w),U+=C,da++,b=g,w=A;da>=k&&(a.lengths.push(da),W=U)}}a.coords.length=W;return a.coords.length?a:null}function ba(a,c,f,b,
k,e,w){for(var m=b,u=0,C,A=e+f;A<w;A+=f){C=c[A];var L=c[A+1],U=c[w],g=c[w+1],W=c[e],d=c[e+1],l=U-W,p=g-d;if(0!==l||0!==p){var q=((C-W)*l+(L-d)*p)/(l*l+p*p);1<q?(W=U,d=g):0<q&&(W+=l*q,d+=p*q)}l=C-W;p=L-d;C=l*l+p*p;C>m&&(u=A,m=C)}m>b&&(u-e>f&&ba(a,c,f,b,k,e,u),k(a,c,a.length,u,c[u],c[u+1]),w-u>f&&ba(a,c,f,b,k,u,w))}function X(a,f,k,e,L){var m=f.coords,u=f.lengths,C=k?e?c:b:e?b:w;k=H(k,e);if(!m.length)return a!==f&&(a.lengths.length=0,a.coords.length=0),a;if(!u.length)return C(a.coords,m,0,0,z(L,m[0]),
E(L,m[1])),a!==f&&(a.lengths.length=0,a.coords.length=k),a;var A=L.scale;e=A[0];for(var A=A[1],g=0,d=0;d<u.length;d++){var l=u[d];a.lengths[d]=l;var p=z(L,m[g]),q=E(L,m[g+1]);C(a.coords,m,g,g,p,q);for(var g=g+k,t=1;t<l;t++,g+=k)p+=m[g]*e,q-=m[g+1]*A,C(a.coords,m,g,g,p,q)}a!==f&&(a.lengths.length=u.length,a.coords.length=m.length);return a}Object.defineProperty(v,"__esModule",{value:!0});var e=r.getLogger("esri.tasks.support.optimizedFeatureSet"),G={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,
esriGeometryMultipoint:0},w=function(a,c,f,b,k,e){a[f]=k;a[f+1]=e},b=function(a,c,f,b,k,e){a[f]=k;a[f+1]=e;a[f+2]=c[b+2]},a=function(a,c,f,b,k,e){a[f]=k;a[f+1]=e;a[f+2]=c[b+3]},c=function(a,c,f,b,k,e){a[f]=k;a[f+1]=e;a[f+2]=c[b+2];a[f+3]=c[b+3]};v.quantizeX=B;v.quantizeY=D;v.hydrateX=z;v.hydrateY=E;v.convertToPoint=function(a,c,f){return a?c?f?K(a):q(a):f?J(a):l(a):null};v.convertFromPoint=function(a,c,f){void 0===f&&(f=t(null!=c.z,null!=c.m));return f(a,c)};v.convertToMultipoint=M;v.convertFromMultipoint=
Q;v.convertToPolyline=R;v.convertFromPolyline=Y;v.convertToPolygon=V;v.convertFromPolygon=O;v.convertFromNestedArray=Z;var f=[],k=[];v.convertFromFeature=function(a,c,b,e,w){f[0]=a;a=T(k,f,c,b,e,w)[0];f.length=k.length=0;return a};v.convertFromFeatures=T;v.convertToFeature=function(a,c,b,e){k[0]=a;aa(f,k,c,b,e);a=f[0];f.length=k.length=0;return a};v.convertFromGeometry=function(a,c,f){if(!a)return null;var b=new h.default;"hasZ"in a&&null==c&&(c=a.hasZ);"hasM"in a&&null==f&&(f=a.hasM);if(x.isPoint(a))return t(null!=
c?c:null!=a.z,null!=f?f:null!=a.m)(b,a);if(x.isPolygon(a))return O(b,a,c,f);if(x.isPolyline(a))return Y(b,a,H(c,f));if(x.isMultipoint(a))return Q(b,a,H(c,f));e.error("convertFromGeometry:unknown-geometry",new y("Unable to parse unknown geometry type '"+a+"'"))};v.convertToGeometry=function(a,c,f,b){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(c){case "esriGeometryPoint":return c=l,f&&b?c=K:f?c=q:b&&(c=J),c(a);case "esriGeometryMultipoint":return M(a,f,b);case "esriGeometryPolyline":return R(a,
f,b);case "esriGeometryPolygon":return V(a,f,b);default:e.error("convertToGeometry:unknown-geometry",new y("Unable to parse unknown geometry type '"+c+"'"))}};v.convertToFeatures=aa;v.convertToFeatureSet=function(a){var c=a.objectIdFieldName,f=a.spatialReference,b=a.transform,k=a.fields,m=a.hasM,e=a.hasZ,w=a.geometryType,g=a.exceededTransferLimit;a={features:aa([],a.features,w,e,m),fields:k,geometryType:w,objectIdFieldName:c,spatialReference:f};b&&(a.transform=b);g&&(a.exceededTransferLimit=g);m&&
(a.hasM=m);e&&(a.hasZ=e);return a};v.convertFromFeatureSet=function(a,c){var f=new n.default,b=a.hasM,k=a.hasZ,m=a.features,u=a.objectIdFieldName,w=a.spatialReference,g=a.geometryType,d=a.exceededTransferLimit,l=a.transform;f.fields=a.fields;f.geometryType=g;f.objectIdFieldName=u||c;f.spatialReference=w;if(!f.objectIdFieldName)return e.error(new y("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),f;m&&T(f.features,m,g,k,b,f.objectIdFieldName);d&&(f.exceededTransferLimit=
d);b&&(f.hasM=b);k&&(f.hasZ=k);l&&(f.transform=l);return f};v.hydrateOptimizedFeatureSet=function(a){var c=a.transform,f=a.hasM,b=a.hasZ;if(!c)return a;for(var k=0,m=a.features;k<m.length;k++){var e=m[k];e.geometry&&X(e.geometry,e.geometry,f,b,c);e.centroid&&X(e.centroid,e.centroid,f,b,c)}a.transform=null;return a};v.quantizeOptimizedFeatureSet=function(a,c){var f=c.geometryType,b=c.features,k=c.hasM,m=c.hasZ;if(!a)return c;for(var e=0;e<b.length;e++){var u=b[e],w=new d.default(new h.default,u.attributes);
S(w.geometry,u.geometry,k,m,f,a);u.centroid&&(w.centroid=new h.default,S(w.centroid,u.centroid,k,m,"esriGeometryPoint",a));b[e]=w}c.transform=a;return c};v.quantizeOptimizedGeometry=S;v.generalizeOptimizedGeometry=function(a,c,f,b,k,e,w,g){void 0===w&&(w=f);void 0===g&&(g=b);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!c||!c.coords.length)return null;k=G[k];var m=c.coords;c=c.lengths;var u=H(f,b),C=H(f&&w,b&&g);f=I(f,b,w,g);if(!c.length)return f(a.coords,m,0,0,m[0],
m[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=u,a;b=0;e*=e;for(w=0;w<c.length;w++){g=c[w];if(!(g<k)){var A=a.coords.length/C,L=b,U=b+(g-1)*u;f(a.coords,m,a.coords.length,L,m[L],m[L+1]);ba(a.coords,m,u,e,f,L,U);f(a.coords,m,a.coords.length,U,m[U],m[U+1]);L=a.coords.length/C-A;L>=k?a.lengths.push(L):a.coords.length=A*C}b+=g*u}return a.coords.length?a:null};v.getBoundsOptimizedGeometry=function(a,c,f,b){f=H(f,b);var k=b=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY;
if(c&&c.coords){c=c.coords;for(var u=0;u<c.length;u+=f){var C=c[u],A=c[u+1];b=Math.min(b,C);m=Math.max(m,C);k=Math.min(k,A);e=Math.max(e,A)}}a[0]=b;a[1]=k;a[2]=m;a[3]=e;return a};v.getQuantizedBoundsOptimizedGeometry=function(a,c,f,b){f=H(f,b);b=c.coords;var k=Number.POSITIVE_INFINITY,m=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,C=0,A=0;for(c=c.lengths;A<c.length;A++)for(var w=c[A],g=b[C],d=b[C+1],k=Math.min(g,k),m=Math.min(d,m),e=Math.max(g,e),u=Math.max(d,u),
C=C+f,l=1;l<w;l++,C+=f){var p=b[C],q=b[C+1],g=g+p,d=d+q;0>p&&(k=Math.min(k,g));0<p&&(e=Math.max(e,g));0>q?m=Math.min(m,d):0<q&&(u=Math.max(u,d))}a[0]=k;a[1]=m;a[2]=e;a[3]=u;return a};v.hydrateOptimizedGeometry=X;v.removeZMValues=function(a,c,f,b,k,e){var m,u=H(f,b);f=I(f,b,k,e);b=c.coords;a.coords.length=0;a.lengths.length=0;(m=a.lengths).push.apply(m,c.lengths);for(c=0;c<b.length;c+=u)f(a.coords,b,a.coords.length,c,b[c],b[c+1]);return a};v.removeCollinearVectices=function(a,c,f,b,k){if(!c||!c.coords||
!c.coords.length)return null;f=G[f];var m=c.coords;c=c.lengths;var e=I(b,k,b,k);b=H(b,k);for(var u=k=0,C=0,A=0,w=0;w<c.length;w++){var L=c[w],u=A;e(a.coords,m,u,k,m[k],m[k+1]);k+=b;var g=m[k],d=m[k+1],l=g,p=d,q=d/g,u=u+b;e(a.coords,m,u,k,l,p);k+=b;for(var t=2;t<L;t++){var g=m[k],d=m[k+1],h=d/g,n=q===h||!isFinite(q)&&!isFinite(h),q=n&&isFinite(h)?0<=q&&0<=h||0>=q&&0>=h:0<=p&&0<=d||0>=p&&0>=d;n&&q?(l+=g,p+=d):(l=g,p=d,u+=b);e(a.coords,m,u,k,l,p);k+=b;q=h}u+=b;L=(u-A)/b;L>=f&&(a.lengths[C]=L,A=u,C++)}a.coords.length>
u&&(a.coords.length=u);a.lengths.length>C&&(a.lengths.length=C);return a.coords.length?a:null}})},"esri/symbols/cim/Rasterizer":function(){define(["require","exports","./CIMSymbolHelper","./SDFHelper","./utils"],function(F,v,y,r,x){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function d(){}d.prototype.dispose=function(){this._rasterizationCanvas=null};d.prototype.rasterizeJSONResource=function(d,h){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));
if("simple-fill"===d.type||"esriSFS"===d.type)return h=y.SymbolHelper.rasterizeSimpleFill(this._rasterizationCanvas,d.style),{size:[h[1],h[2]],image:new Uint32Array(h[0].buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0};if("simple-line"===d.type||"esriSLS"===d.type)return h=y.SymbolHelper.rasterizeSimpleLine(d.style,d.cap),{size:[h[1],h[2]],image:new Uint32Array(h[0].buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0};var n;d="simple-marker"===d.type||"esriSMS"===d.type?y.CIMSymbolHelper.fromSimpleMarker(d):
d;if((n=r.getSDFInfo(d))&&!h)return h=r.buildSDF(n),(d=h[0])?{size:[h[1],h[2]],image:new Uint32Array(d.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null;h=y.CIMSymbolHelper.rasterize(this._rasterizationCanvas,d,!h);d=h[0];n=h[3];var x=h[4];return d?{size:[h[1],h[2]],image:new Uint32Array(d.buffer),sdf:!1,simplePattern:!1,anchorX:n,anchorY:x}:null};d.prototype.rasterizeImageResource=function(d,h){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));this._rasterizationCanvas.width=
d.width;this._rasterizationCanvas.height=d.height;var n=this._rasterizationCanvas.getContext("2d");n.drawImage(d,0,0,d.width,d.height);n=n.getImageData(0,0,d.width,d.height);n=new Uint8Array(n.data);if(h)for(var r=0;r<h.length;r++){var B=h[r];if(B&&B.oldColor&&4===B.oldColor.length&&B.newColor&&4===B.newColor.length){var D=B.oldColor,z=D[0],E=D[1],l=D[2],D=D[3],g=B.newColor,B=g[0],q=g[1],p=g[2],J=g[3];if(z!==B||E!==q||l!==p||D!==J)for(g=0;g<n.length;g+=4)z===n[g]&&E===n[g+1]&&l===n[g+2]&&D===n[g+
3]&&(n[g]=B,n[g+1]=q,n[g+2]=p,n[g+3]=J)}}for(g=0;g<n.length;g+=4)h=n[g+3]/255,n[g]*=h,n[g+1]*=h,n[g+2]*=h;h=d.width;r=d.height;z=n;if(512<=h||512<=r)z=d.width/d.height,1<z?(h=512,r=Math.round(512/z)):(r=512,h=Math.round(512*z)),z=new Uint8Array(4*h*r),x.resampleHermite(n,d.width,d.height,new Uint8ClampedArray(z.buffer),h,r,!1);return{size:[h,r],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}};return d}();v.default=F})},"esri/symbols/cim/utils":function(){define(["require",
"exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.evaluateValueOrFunction=function(y,r,x,d){return"function"===typeof y?y(r,x,d):y};v.colorToArray=function(y){return[y.r,y.g,y.b,y.a]};v.resampleHermite=function(y,r,x,d,n,h,v){void 0===v&&(v=!0);var H=r/n;x/=h;for(var B=Math.ceil(H/2),D=Math.ceil(x/2),z=0;z<h;z++)for(var E=0;E<n;E++){for(var l=4*(E+(v?h-z-1:z)*n),g=0,q=0,p=0,J=0,P=0,K=0,N=0,t=(z+.5)*x,M=Math.floor(z*x);M<(z+1)*x;M++)for(var Q=Math.abs(t-(M+.5))/D,R=(E+.5)*
H,Q=Q*Q,F=Math.floor(E*H);F<(E+1)*H;F++){var V=Math.abs(R-(F+.5))/B,g=Math.sqrt(Q+V*V);-1<=g&&1>=g&&(g=2*g*g*g-3*g*g+1,0<g&&(V=4*(F+M*r),N+=g*y[V+3],p+=g,255>y[V+3]&&(g=g*y[V+3]/250),J+=g*y[V],P+=g*y[V+1],K+=g*y[V+2],q+=g))}d[l]=J/q;d[l+1]=P/q;d[l+2]=K/q;d[l+3]=N/p}}})},"esri/symbols/cim/TextRasterizer":function(){define(["require","exports","../../core/screenUtils"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function d(){}d.prototype.rasterizeText=function(d,h){this._textRasterizationCanvas||
(this._textRasterizationCanvas=document.createElement("canvas"));var n=this._textRasterizationCanvas,r=n.getContext("2d");this.setFontProperties(r,h);this.parameters=h;this.textLines=d.split(/\r?\n/);this.lineHeight=this.computeLineHeight();d=this.computeTextWidth(r,h);var B=this.lineHeight*this.textLines.length;n.width=d;n.height=B;this.renderedLineHeight=Math.round(this.lineHeight*h.pixelRatio);this.renderedHaloSize=h.halo.size*h.pixelRatio;this.renderedWidth=d*h.pixelRatio;this.renderedHeight=
B*h.pixelRatio;n=h.color;this.fillStyle="rgba("+n.slice(0,3).toString()+","+n[3]+")";this.haloStyle="rgb("+h.halo.color.slice(0,3).toString()+")";var n=this.renderedLineHeight,x=this.renderedHaloSize;this.setFontProperties(r,h);d=r.textAlign;var B=this.renderedWidth,z=("center"===d?.5*B:"right"===d?B:0)+x,B=d=0;0<x&&this.renderHalo(r,z,x,d,B,h);B+=x;d+=z;x=0;for(z=this.textLines;x<z.length;x++){var E=z[x];r.globalCompositeOperation="destination-out";r.fillStyle="rgb(0, 0, 0)";r.fillText(E,d,B);r.globalCompositeOperation=
"source-over";r.fillStyle=this.fillStyle;r.fillText(E,d,B);B+=n}r=r.getImageData(0,0,this.renderedWidth,this.renderedHeight);r=new Uint8Array(r.data);if(h.premultiplyColors)for(h=void 0,n=0;n<r.length;n+=4)h=r[n+3]/255,r[n]*=h,r[n+1]*=h,r[n+2]*=h;return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}};d.prototype.renderHalo=function(d,h,r,x,B,D){var n=this.renderedWidth,E=this.renderedHeight;this._haloRasterizationCanvas||
(this._haloRasterizationCanvas=document.createElement("canvas"));this._haloRasterizationCanvas.width=n;this._haloRasterizationCanvas.height=E;var l=this._haloRasterizationCanvas,g=l.getContext("2d");g.clearRect(0,0,n,E);this.setFontProperties(g,D);g.fillStyle=this.haloStyle;g.strokeStyle=this.haloStyle;D=3>this.renderedHaloSize;g.lineJoin=D?"miter":"round";D?this.renderHaloEmulated(g,h,r):this.renderHaloNative(g,h,r);d.globalAlpha=this.parameters.halo.color[3];d.drawImage(l,0,0,n,E,x,B,n,E);d.globalAlpha=
1};d.prototype.renderHaloEmulated=function(d,h,x){for(var n=this.renderedLineHeight,B=this.renderedHaloSize,D=0,z=this.textLines;D<z.length;D++){for(var E=z[D],l=0,g=r;l<g.length;l++){var q=g[l];d.fillText(E,h+B*q[0],x+B*q[1])}x+=n}};d.prototype.renderHaloNative=function(d,h,r){for(var n=this.renderedLineHeight,B=this.renderedHaloSize,x=0,z=this.textLines;x<z.length;x++){for(var E=z[x],l=2*B,g=0;5>g;g++)d.lineWidth=(.6+.1*g)*l,d.strokeText(E,h,r);r+=n}};d.prototype.setFontProperties=function(d,h){var n=
h.font;h=n.style+" "+n.weight+" "+y.pt2px(h.size*h.pixelRatio)+"px "+n.family+", sans-serif";d.font=h;d.textAlign="left";d.textBaseline="top"};d.prototype.computeTextWidth=function(d,h){for(var n=0,r=0,B=this.textLines;r<B.length;r++)n=Math.max(n,d.measureText(B[r]).width);h=h.font;if("italic"===h.style||"oblique"===h.style||"string"===typeof h.weight&&("bold"===h.weight||"bolder"===h.weight)||"number"===typeof h.weight&&600<h.weight)n+=.3*d.measureText("A").width;n+=2*this.parameters.halo.size;return Math.round(n)};
d.prototype.computeLineHeight=function(){return Math.round(1.275*this.parameters.size+2*this.parameters.halo.size)};return d}();v.TextRasterizer=F;for(var r=[],x=0;360>x;x+=22.5)r.push([Math.cos(Math.PI*x/180),Math.sin(Math.PI*x/180)]);v.default=F})},"esri/symbols/support/previewSymbol2D":function(){define("require exports ../../core/Error ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./previewUtils ./renderUtils".split(" "),function(F,v,y,r,x,d,n,h){function H(d,l){var g=B.getContext("2d"),
q=[];l&&(l.weight&&q.push(l.weight),l.size&&q.push(l.size+"px"),l.family&&q.push(l.family));g.font=q.join(" ");return g.measureText(d).width}function I(d){if(0===d.length)return 0;if(2<d.length){var l=x.px2pt(1),g=parseFloat(d);switch(d.slice(-2)){case "px":return g;case "pt":return g*l;case "in":return 72*g*l;case "pc":return 12*g*l;case "mm":return g*D*l;case "cm":return g*z*l}}return parseFloat(d)}Object.defineProperty(v,"__esModule",{value:!0});var B=document.createElement("canvas"),D=7.2/2.54,
z=72/2.54;v.previewSymbol2D=function(z,l){var g=l&&l.size?x.pt2px(l.size):null,q=l&&l.maxSize?x.pt2px(l.maxSize):null,p=l&&null!=l.opacity?l.opacity:null,B=l&&null!=l.rotation?l.rotation:null,E=d.getStroke(z),D={shape:null,fill:null,stroke:E};E&&E.width&&(E.width=Math.min(E.width,80));var v=0,t=0;switch(z.type){case "simple-marker":var E=z.style,M=x.pt2px(z.size),v=Math.min(g||M||22,q||120),t=Math.min(g||M||22,q||120);switch(E){case "circle":D.shape={type:"circle",cx:.5*M,cy:.5*M,r:.5*M};break;case "cross":D.shape=
{type:"path",path:[{command:"M",values:[0,.5*t]},{command:"L",values:[v,.5*t]},{command:"M",values:[.5*v,0]},{command:"L",values:[.5*v,t]}]};break;case "diamond":D.shape={type:"path",path:[{command:"M",values:[0,.5*t]},{command:"L",values:[.5*v,0]},{command:"L",values:[v,.5*t]},{command:"L",values:[.5*v,t]},{command:"Z",values:[]}]};break;case "square":D.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[v,0]},{command:"L",values:[v,t]},{command:"L",values:[0,t]},{command:"Z",
values:[]}]};break;case "triangle":D.shape={type:"path",path:[{command:"M",values:[.5*v,0]},{command:"L",values:[v,t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]};break;case "x":D.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[v,t]},{command:"M",values:[v,0]},{command:"L",values:[0,t]}]};break;case "path":D.shape={type:"path",path:z.path||""}}break;case "simple-line":g=Math.min(g||E&&E.width||22,q||80);E.width=g;v=22<g?2*g:40;t=g;D.shape={type:"path",path:[{command:"M",
values:[0,t]},{command:"L",values:[v,t]}]};break;case "picture-fill":case "simple-fill":v=Math.min(g||22,q||120);t=Math.min(g||22,q||120);D.shape=n.shapes.fill[0];break;case "picture-marker":var E=x.pt2px(z.width),Q=x.pt2px(z.height),M=Math.max(E,Q),Q=E/Q,E=1>=Q?Math.ceil(M*Q):M,Q=1>=Q?M:Math.ceil(M/Q),v=Math.min(g||E||22,q||120),t=Math.min(g||Q||22,q||120);D.shape={type:"image",x:-Math.round(v/2),y:-Math.round(t/2),width:v,height:t,src:z.url||""};break;case "text":E=z.text||"Aa",M=z.font,g=Math.min(g||
x.pt2px(M.size),q||120),Q=H(E,{weight:M.weight,size:g,family:M.family}),v=(q=/[\uE600-\uE6FF]/.test(E))?g:Q,t=g,Q=.25*I((M?g:0).toString()),q&&(Q+=5),D.shape={type:"text",text:E,x:0,y:Q,align:"middle",decoration:M&&M.decoration,rotated:z.rotated,kerning:z.kerning},D.font=M&&{size:g,style:M.style,decoration:M.decoration,weight:M.weight,family:M.family}}if(!D.shape)return r.reject(new y("symbolPreview: renderPreviewHTML2D","symbol not supported."));var R=d.getFill(z),g=z.color,q=null;R&&"pattern"===
R.type&&g&&"picture-fill"!==z.type?q=d.getPatternUrlWithColor(R.src,g.toCss(!0)).then(function(g){R.src=g;D.fill=R;return D}):(D.fill=R,q=r.resolve(D));return q.then(function(g){return h.renderSymbol([[g]],[v,t],{node:l&&l.node,scale:!0,opacity:p,rotation:B})})}})},"esri/symbols/support/gfxUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils".split(" "),function(F,v,y,r,x,d,n,h){function H(d){if(!d)return null;
var g;switch(d.type){case "simple-fill":case "picture-fill":case "simple-marker":g=H(d.outline);break;case "simple-line":var l=h.pt2px(d.width);"none"!==d.style&&0!==l&&(g={color:d.color,style:E(d.style),width:l,cap:d.cap,join:"miter"===d.join?h.pt2px(d.miterLimit):d.join});break;default:g=null}return g}Object.defineProperty(v,"__esModule",{value:!0});var I=F.toUrl("../../symbols/patterns/"),B={left:"start",center:"middle",right:"end",justify:"start"},D={top:"text-before-edge",middle:"central",baseline:"alphabetic",
bottom:"text-after-edge"},z=new d(1E3);v.getSVGAlign=function(d){return d=(d=d.horizontalAlignment)&&B[d.toLowerCase()]||"middle"};v.getSVGBaseline=function(d){return(d=d.verticalAlignment)&&D[d.toLowerCase()]||"alphabetic"};v.getSVGBaselineShift=function(d){return"bottom"===d.verticalAlignment?"super":null};v.getFill=function(d){var g=d.style,l=null;if(d)switch(d.type){case "simple-marker":"cross"!==g&&"x"!==g&&(l=d.color);break;case "simple-fill":"solid"===g?l=d.color:"none"!==g&&(l={type:"pattern",
x:0,y:0,src:I+g+".png",width:8,height:8});break;case "picture-fill":l={type:"pattern",src:d.url,width:h.pt2px(d.width)*d.xscale,height:h.pt2px(d.height)*d.yscale,x:h.pt2px(d.xoffset),y:h.pt2px(d.yoffset)};break;case "text":l=d.color}return l};v.getPatternUrlWithColor=function(d,g){var l=d+"-"+g;return void 0!==z.get(l)?n.resolve(z.get(l)):x(d,{responseType:"image"}).then(function(d){d=d.data;var p=d.naturalWidth,q=d.naturalHeight,h=document.createElement("canvas");h.width=p;h.height=q;var n=h.getContext("2d");
n.fillStyle=g;n.fillRect(0,0,p,q);n.globalCompositeOperation="destination-in";n.drawImage(d,0,0);d=h.toDataURL();z.put(l,d);return d})};v.getStroke=H;var E=function(){var d={};return function(g){if(d[g])return d[g];var l=g.replace(/-/g,"");return d[g]=l}}();v.defaultThematicColor=new r([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(F,v,y){return function(){function r(r,d){this._storage=new y.MemCacheStorage;this._storage.maxSize=r;d&&this._storage.registerRemoveFunc("",
d)}r.prototype.put=function(r,d){this._storage.put(r,d,1,1)};r.prototype.pop=function(r){return this._storage.pop(r)};r.prototype.get=function(r){return this._storage.get(r)};r.prototype.clear=function(){this._storage.clearAll()};r.prototype.destroy=function(){this._storage.clearAll()};return r}()})},"esri/symbols/support/previewUtils":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.shapes={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],
pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],
invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",
path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],
tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};v.getPathSymbolShapes=function(y){var r=22,x=22;1>y?r*=.75:1<y&&(x*=1.25);return[{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[19.25,0]},{command:"L",values:[0,x-11]},{command:"L",values:[r-11,x-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[22,2.75]},{command:"L",
values:[r-11,22]},{command:"L",values:[r-11,x-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[r-11,x-11]},{command:"L",values:[0,x-11]},{command:"L",values:[0,22]},{command:"L",values:[r-11,22]},{command:"Z",values:[]}]}]};v.getExtrudeSymbolShapes=function(y){y*=.5;return[{type:"path",path:[{command:"M",values:[0,.7*11]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+y]},{command:"L",values:[0,22*.7+y-.7*11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+y]},{command:"L",values:[22,y]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[0,.7*11]},{command:"Z",values:[]}]}]};v.getWaterSymbolShapes=function(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},
{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},
{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]};
v.getCubeShapes=function(y,r){var x=r?20:y,d=r?4:6,d=x=22>=x?x-.5*d:x-d;r=r?.35*x:.5*x;return[{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,.5*r]},{command:"L",values:[.5*d,r]},{command:"L",values:[0,.5*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*r]},{command:"L",values:[.5*d,r]},{command:"L",values:[.5*d,y]},{command:"L",values:[0,y-.5*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*d,r]},{command:"L",values:[.5*d,
y]},{command:"L",values:[d,y-.5*r]},{command:"L",values:[d,.5*r]},{command:"Z",values:[]}]}]};v.getCylinderShapes=function(y,r){var x=r?20:y;r=r?4:6;x=22>=x?x-.5*r:x-r;r=.5*x;var d=.15*x;y-=d;return[{type:"ellipse",cx:.5*x,cy:y,rx:r,ry:d},{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[0,y]},{command:"L",values:[x,y]},{command:"L",values:[x,d]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*x,cy:d,rx:r,ry:d}]};v.getConeShapes=function(y,r){var x=r?20:y;r=r?4:6;x=22>=x?x-.5*r:x-
r;r=.15*x;var d=x;y-=r;return[{type:"ellipse",cx:.5*x,cy:y,rx:.5*x,ry:r},{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[d,y]},{command:"L",values:[0,y]},{command:"Z",values:[]}]}]};v.getInvertedConeShapes=function(y){var r=y,r=22>r?r-3:r-6,x=.15*r,d=r;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[.5*d,y-x]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:0,rx:.5*r,ry:x}]};v.getDiamondShapes=function(y){var r=y,r=22>
r?r-2:r-4,x=Math.floor(y/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*r,0]},{command:"L",values:[r,.5*y-x]},{command:"L",values:[.45*r-x,.5*y+x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*r,0]},{command:"L",values:[.45*r-x,.5*y+x]},{command:"L",values:[0,.5*y-x]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*y-x]},{command:"L",values:[.45*r-x,.5*y+x]},{command:"L",values:[.45*r,y]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[.45*r,y]},{command:"L",values:[r,.5*y-x]},{command:"L",values:[.45*r-x,.5*y+x]},{command:"Z",values:[]}]}]};v.getTetrahedronShapes=function(y){var r=y,r=22>r?r-1:r-2;return[{type:"path",path:[{command:"M",values:[.45*y,0]},{command:"L",values:[y,r]},{command:"L",values:[.45*y,.6*r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*y,0]},{command:"L",values:[.45*y,.6*r]},{command:"L",values:[0,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,r]},
{command:"L",values:[.45*y,.6*r]},{command:"L",values:[y,r]},{command:"Z",values:[]}]}]}})},"esri/symbols/support/renderUtils":function(){define("require exports ../../kernel ../../request ../../core/colorUtils ../../core/Error ../../core/has ../../core/promiseUtils ../../libs/maquette/index ./svgUtils".split(" "),function(F,v,y,r,x,d,n,h,H,I){function B(n,B,l){return n?r(n,{responseType:"image"}).then(function(g){g=g.data;var d=g.width,p=g.height,h=d/p,n=B;l&&(n=Math.min(n,Math.max(d,p)));return{image:g,
width:1>=h?Math.ceil(n*h):n,height:1>=h?n:Math.ceil(n/h)}}):h.reject(new d("renderUtils: imageDataSize","href not provided."))}Object.defineProperty(v,"__esModule",{value:!0});var D=H.createProjector();v.renderSymbol=function(d,h,l){var g=Math.ceil(h[0]);h=Math.ceil(h[1]);if(!d.some(function(g){return!!g.length}))return null;var q=l&&l.node||document.createElement("div");null!=l.opacity&&(q.style.opacity=l.opacity.toString());D.append(q,I.renderSVG.bind(null,d,g,h,l));return q};v.tintImageWithColor=
function(d,h,l,g,q){return B(d,h,q).then(function(p){var q=p.width?p.width:h,z=p.height?p.height:h,r;if(r=p.image)r=l&&"ignore"!==g?"multiply"===g&&255===l.r&&255===l.g&&255===l.b&&1===l.a?!1:!0:!1;if(r){var B=p.image.width,t=p.image.height;(n("edge")||n("ie"))&&/\.svg$/i.test(d)&&(--B,--t);var E,D;E=Math.ceil(q);D=Math.ceil(z);r=document.createElement("canvas");r.width=E;r.height=D;r.style.width=E+"px";r.style.height=D+"px";r=r.getContext("2d");r.clearRect(0,0,E,D);r.drawImage(p.image,0,0,B,t,0,
0,q,z);p=r.getImageData(0,0,q,z);B=[l.r/255,l.g/255,l.b/255,l.a];t=x.toHSV(l);for(E=0;E<p.data.length;E+=4){D=p.data;var v=E,H=B,I=t;switch(g){case "multiply":D[v+0]*=H[0];D[v+1]*=H[1];D[v+2]*=H[2];D[v+3]*=H[3];break;default:var F=x.toHSV({r:D[v+0],g:D[v+1],b:D[v+2]});F.h=I.h;F.s=I.s;F.v=F.v/100*I.v;I=x.toRGB(F);D[v+0]=I.r;D[v+1]=I.g;D[v+2]=I.b;D[v+3]*=H[3]}}r.putImageData(p,0,0);d=r.canvas.toDataURL("image/png")}else(r=y.id&&y.id.findCredential(d))&&r.token&&(p=-1===d.indexOf("?")?"?":"\x26",d=""+
d+p+"token\x3d"+r.token);return{url:d,width:q,height:z}}).catch(function(){return{url:d,width:h,height:h}})}})},"esri/core/colorUtils":function(){define(["require","exports"],function(F,v){function y(d,h){var n=[],r,l;if(d[0].length!==h.length)throw"dimensions do not match";var g=d.length,q=d[0].length,p=0;for(r=0;r<g;r++){for(l=p=0;l<q;l++)p+=d[r][l]*h[l];n.push(p)}return n}function r(d){d=[d.r/255,d.g/255,d.b/255].map(function(d){return.04045>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)});d=y(H,d);return{x:100*
d[0],y:100*d[1],z:100*d[2]}}function x(d){d=y(I,[d.x/100,d.y/100,d.z/100]).map(function(d){return Math.min(1,Math.max(.0031308>=d?12.92*d:1.055*Math.pow(d,1/2.4)-.055,0))});return{r:Math.round(255*d[0]),g:Math.round(255*d[1]),b:Math.round(255*d[2])}}function d(d){d=[d.x/95.047,d.y/100,d.z/108.883].map(function(d){return d>Math.pow(6/29,3)?Math.pow(d,1/3):1/3*Math.pow(29/6,2)*d+4/29});return{l:116*d[1]-16,a:500*(d[0]-d[1]),b:200*(d[1]-d[2])}}function n(d){var h=d.l;d=[(h+16)/116+d.a/500,(h+16)/116,
(h+16)/116-d.b/200].map(function(d){return d>6/29?Math.pow(d,3):3*Math.pow(6/29,2)*(d-4/29)});return{x:95.047*d[0],y:100*d[1],z:108.883*d[2]}}function h(d){if("r"in d&&"g"in d&&"b"in d)return d;if("l"in d&&"c"in d&&"h"in d){var h=d.c,r=d.h;return x(n({l:d.l,a:h*Math.cos(r),b:h*Math.sin(r)}))}if("l"in d&&"a"in d&&"b"in d)return x(n(d));if("x"in d&&"y"in d&&"z"in d)return x(d);if("h"in d&&"s"in d&&"v"in d){r=(d.h+360)%360/60;h=d.v/100*255;d=d.s/100*h;var E=d*(1-Math.abs(r%2-1));switch(Math.floor(r)){case 0:r=
{r:d,g:E,b:0};break;case 1:r={r:E,g:d,b:0};break;case 2:r={r:0,g:d,b:E};break;case 3:r={r:0,g:E,b:d};break;case 4:r={r:E,g:0,b:d};break;case 5:case 6:r={r:d,g:0,b:E};break;default:r={r:0,g:0,b:0}}r.r=Math.round(r.r+h-d);r.g=Math.round(r.g+h-d);r.b=Math.round(r.b+h-d);return r}}Object.defineProperty(v,"__esModule",{value:!0});var H=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],I=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];v.toRGB=h;v.toHSV=function(d){if("h"in
d&&"s"in d&&"v"in d)return d;var n=h(d);d=n.r;var r=n.g,n=n.b,x=Math.max(d,r,n),l=x-Math.min(d,r,n),g;0===l?g=0:x===d?g=(r-n)/l%6:x===r?g=(n-d)/l+2:x===n&&(g=(d-r)/l+4);0>g&&(g+=6);return{h:60*g,s:100*(0===l?0:l/x),v:100/255*x}};v.toLAB=function(n){return"l"in n&&"a"in n&&"b"in n?n:d(r(h(n)))};v.toLCH=function(n){if(!("l"in n&&"c"in n&&"h"in n)){var x=d(r(h(n)));n=x.l;var z=x.a,E=x.b,x=Math.sqrt(z*z+E*E),z=Math.atan2(E,z),z=0<z?z:z+2*Math.PI;n={l:n,c:x,h:z}}return n};v.toXYZ=function(d){return"x"in
d&&"y"in d&&"z"in d?d:r(h(d))}})},"esri/symbols/support/svgUtils":function(){define("require exports ../../Color ../../core/has ../../core/libs/gl-matrix-2/mat2df32 ../../core/libs/gl-matrix-2/math/mat2d ../../widgets/support/widget".split(" "),function(F,v,y,r,x,d,n){function h(g){return g.map(function(g){return g.command+" "+g.values.join(" ")}).join(" ").trim()}function H(g,d,l,p){if(g){if("circle"===g.type)return n.tsx("circle",{fill:d,"fill-rule":"evenodd",stroke:l.color,"stroke-width":l.width,
"stroke-linecap":l.cap,"stroke-linejoin":l.join,"stroke-dasharray":l.dashArray,"stroke-miterlimit":"4",cx:g.cx,cy:g.cy,r:g.r});if("ellipse"===g.type)return n.tsx("ellipse",{fill:d,"fill-rule":"evenodd",stroke:l.color,"stroke-width":l.width,"stroke-linecap":l.cap,"stroke-linejoin":l.join,"stroke-dasharray":l.dashArray,"stroke-miterlimit":"4",cx:g.cx,cy:g.cy,rx:g.rx,ry:g.ry});if("rect"===g.type)return n.tsx("rect",{fill:d,"fill-rule":"evenodd",stroke:l.color,"stroke-width":l.width,"stroke-linecap":l.cap,
"stroke-linejoin":l.join,"stroke-dasharray":l.dashArray,"stroke-miterlimit":"4",x:g.x,y:g.y,width:g.width,height:g.height});if("image"===g.type)return n.tsx("image",{href:g.src,x:g.x,y:g.y,width:g.width,height:g.height,preserveAspectRatio:"none"});if("path"===g.type)return g="string"!==typeof g.path?h(g.path):g.path,n.tsx("path",{fill:d,"fill-rule":"evenodd",stroke:l.color,"stroke-width":l.width,"stroke-linecap":l.cap,"stroke-linejoin":l.join,"stroke-dasharray":l.dashArray,"stroke-miterlimit":"4",
d:g});if("text"===g.type)return n.tsx("text",{fill:d,"fill-rule":"evenodd",stroke:l.color,"stroke-width":l.width,"stroke-linecap":l.cap,"stroke-linejoin":l.join,"stroke-dasharray":l.dashArray,"stroke-miterlimit":"4","text-anchor":p.align,"text-decoration":p.decoration,kerning:p.kerning,rotate:p.rotate,"text-rendering":Q,"font-style":p.font.style,"font-variant":p.font.variant,"font-weight":p.font.weight,"font-size":p.font.size,"font-family":p.font.family,x:g.x,y:g.y},g.text)}return null}function I(g){var d=
{fill:"none",pattern:null,linearGradient:null};if(g)if("type"in g&&"pattern"===g.type){var l="patternId-"+ ++t;d.fill="url(#"+l+")";d.pattern={id:l,x:g.x,y:g.y,width:g.width,height:g.height,image:{x:0,y:0,width:g.width,height:g.height,href:g.src}}}else"type"in g&&"linear"===g.type?(l="linearGradientId-"+ ++M,d.fill="url(#"+l+")",d.linearGradient={id:l,x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,stops:g.colors.map(function(g){return{offset:g.offset,color:g.color&&(new y(g.color)).toString()}})}):g&&(g=new y(g),
d.fill=g.toString());return d}function B(g){var d={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(g&&(null!=g.width&&(d.width=g.width),g.cap&&(d.cap=g.cap),g.join&&(d.join=g.join.toString()),g.color&&(d.color=(new y(g.color)).toString()),g.style)){var l=null;g.style in Z&&(l=Z[g.style]);if(Array.isArray(l)){for(var l=l.slice(0),p=0;p<l.length;++p)l[p]*=g.width;if("butt"!==g.cap){for(p=0;p<l.length;p+=2)l[p]-=g.width,1>l[p]&&(l[p]=1);for(p=1;p<l.length;p+=2)l[p]+=g.width}l=l.join(",")}d.dashArray=
l}return d}function D(g,d){var l={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};g&&(l.align=g.align,l.decoration=g.decoration,l.kerning=g.kerning?"auto":"0",l.rotate=g.rotated?"90":"0",l.font.style=d.style||"normal",l.font.variant=d.variant||"normal",l.font.weight=d.weight||"normal",l.font.size=d.size&&d.size.toString()||"10pt",l.font.family=d.family||"serif");return l}function z(g){var d=g.pattern;g=g.linearGradient;return d?
n.tsx("pattern",{id:d.id,patternUnits:"userSpaceOnUse",x:d.x,y:d.y,width:d.width,height:d.height},n.tsx("image",{x:d.image.x,y:d.image.y,width:d.image.width,height:d.image.height,href:d.image.href})):g?(d=g.stops.map(function(g,d){return n.tsx("stop",{key:d+"-stop",offset:g.offset,"stop-color":g.color})}),n.tsx("linearGradient",{id:g.id,gradientUnits:"userSpaceOnUse",x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2},d)):null}function E(g,l,p){return d.translate(g,d.identity(g),[l,p])}function l(g,l,p,q,t){d.scale(g,
d.identity(g),[l,p]);g[4]=g[4]*l-q*l+q;g[5]=g[5]*p-t*p+t;return g}function g(g,l,p,q){var t=l%360*Math.PI/180;d.rotate(g,d.identity(g),t);l=Math.cos(t);var t=Math.sin(t),e=g[4],h=g[5];g[4]=e*l-h*t+q*t-p*l+p;g[5]=h*l+e*t-p*t-q*l+q;return g}function q(g,d){V&&"left"in V?(V.left>g&&(V.left=g),V.right<g&&(V.right=g),V.top>d&&(V.top=d),V.bottom<d&&(V.bottom=d)):V={left:g,bottom:d,right:g,top:d}}function p(g){var d=g.args,l=d.length;switch(g.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(g=
0;g<l;g+=2)q(d[g],d[g+1]);O.x=d[l-2];O.y=d[l-1];break;case "H":for(g=0;g<l;++g)q(d[g],O.y);O.x=d[l-1];break;case "V":for(g=0;g<l;++g)q(O.x,d[g]);O.y=d[l-1];break;case "m":g=0;"x"in O||(q(O.x=d[0],O.y=d[1]),g=2);for(;g<l;g+=2)q(O.x+=d[g],O.y+=d[g+1]);break;case "l":case "t":for(g=0;g<l;g+=2)q(O.x+=d[g],O.y+=d[g+1]);break;case "h":for(g=0;g<l;++g)q(O.x+=d[g],O.y);break;case "v":for(g=0;g<l;++g)q(O.x,O.y+=d[g]);break;case "c":for(g=0;g<l;g+=6)q(O.x+d[g],O.y+d[g+1]),q(O.x+d[g+2],O.y+d[g+3]),q(O.x+=d[g+
4],O.y+=d[g+5]);break;case "s":case "q":for(g=0;g<l;g+=4)q(O.x+d[g],O.y+d[g+1]),q(O.x+=d[g+2],O.y+=d[g+3]);break;case "A":for(g=0;g<l;g+=7)q(d[g+5],d[g+6]);O.x=d[l-2];O.y=d[l-1];break;case "a":for(g=0;g<l;g+=7)q(O.x+=d[g+5],O.y+=d[g+6])}}function J(g,d,l){var q=R[g.toLowerCase()];"number"===typeof q&&(q?d.length>=q&&(g={action:g,args:d.slice(0,d.length-d.length%q)},l.push(g),p(g)):(g={action:g,args:[]},l.push(g),p(g)))}function P(g){var d={x:0,y:0,width:0,height:0};if("circle"===g.type)d.x=g.cx-g.r,
d.y=g.cy-g.r,d.width=2*g.r,d.height=2*g.r;else if("ellipse"===g.type)d.x=g.cx-g.rx,d.y=g.cy-g.ry,d.width=2*g.rx,d.height=2*g.ry;else if("image"===g.type||"rect"===g.type)d.x=g.x,d.y=g.y,d.width=g.width,d.height=g.height;else if("path"===g.type){g=("string"!==typeof g.path?h(g.path):g.path).match(Y);var l=[];V={};O={};if(g){for(var p="",q=[],e=g.length,t=0;t<e;++t){var w=g[t],b=parseFloat(w);isNaN(b)?(p&&J(p,q,l),q=[],p=w):q.push(b)}J(p,q,l);g={x:0,y:0,width:0,height:0};V&&"left"in V&&(g.x=V.left,
g.y=V.top,g.width=V.right-V.left,g.height=V.bottom-V.top)}else g=null;d.x=g.x;d.y=g.y;d.width=g.width;d.height=g.height}return d}function K(g){for(var d={x:0,y:0,width:0,height:0},l=null,p=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY,e=0;e<g.length;e++){var t=g[e];l?(l.x=Math.min(l.x,t.x),l.y=Math.min(l.y,t.y),p=Math.max(p,t.x+t.width),q=Math.max(q,t.y+t.height)):(l=d,l.x=t.x,l.y=t.y,p=t.x+t.width,q=t.y+t.height)}l&&(l.width=p-l.x,l.height=q-l.y);return l}function N(p,q,t,h,n,e){var G=q/2,
w=t/2,b=p.width+h,a=p.height+h,c=x.mat2df32.create(),f=x.mat2df32.create(),k=!1;if(n&&0!==b&&0!==a){n=b/a;var k=q>t?q:t,m=1,u=1;isNaN(k)||(1<n?(m=k/b,u=k/n/a):(u=k/a,m=k*n/b));d.multiply(f,f,l(c,m,u,G,w));k=!0}n=p.x+(b-h)/2;p=p.y+(a-h)/2;d.multiply(f,f,E(c,G-n,w-p));!k&&(b>q||a>t)&&(G=b/q>a/t,q=(G?q:t)/(G?b:a),d.multiply(f,f,l(c,q,q,n,p)));e&&d.multiply(f,f,g(c,e,n,p));return"matrix("+f[0]+","+f[1]+","+f[2]+","+f[3]+","+f[4]+","+f[5]+")"}Object.defineProperty(v,"__esModule",{value:!0});var t=0,M=
0,Q=r("chrome")?"auto":"optimizeLegibility",R={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},Y=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,V={},O={},Z={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};v.renderShape=H;v.generateFillAttributes=I;v.generateStrokeAttributes=B;v.generateTextAttributes=D;v.renderDef=z;v.getBoundingBox=P;v.computeBBox=
K;v.getTransformMatrix=N;v.renderSVG=function(g,d,l,p){for(var q=[],e=[],t=0;t<g.length;t++){for(var w=[],b=[],a=0,c=0,f=g[t];c<f.length;c++){var k=f[c],m=k.shape,u=k.fill,C=k.stroke,k=k.font,a=a+(C&&C.width||0),u=I(u),C=B(C),k="text"===m.type?D(m,k):null;q.push(z(u));w.push(H(m,u.fill,C,k));b.push(P(m))}b=N(K(b),d,l,a,p&&p.scale,p&&p.rotation);e.push(n.tsx("g",{transform:b},w))}return n.tsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:l},n.tsx("defs",null,q),e)}})},"esri/core/libs/gl-matrix-2/mat2df32":function(){define(["require",
"exports","./factories/mat2df32"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.mat2df32=y})},"esri/core/libs/gl-matrix-2/factories/mat2df32":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.create=function(){var v=new Float32Array(6);v[0]=1;v[3]=1;return v};v.clone=function(v){var r=new Float32Array(6);r[0]=v[0];r[1]=v[1];r[2]=v[2];r[3]=v[3];r[4]=v[4];r[5]=v[5];return r};v.fromValues=function(v,r,x,d,n,h){var y=new Float32Array(6);
y[0]=v;y[1]=r;y[2]=x;y[3]=d;y[4]=n;y[5]=h;return y};v.createView=function(v,r){return new Float32Array(v,r,6)}})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require","exports","./common"],function(F,v,y){function r(d,n,h){var r=n[0],x=n[1],v=n[2],D=n[3],z=n[4];n=n[5];var E=h[0],l=h[1],g=h[2],q=h[3],p=h[4];h=h[5];d[0]=r*E+v*l;d[1]=x*E+D*l;d[2]=r*g+v*q;d[3]=x*g+D*q;d[4]=r*p+v*h+z;d[5]=x*p+D*h+n;return d}function x(d,n,h){d[0]=n[0]-h[0];d[1]=n[1]-h[1];d[2]=n[2]-h[2];d[3]=n[3]-h[3];d[4]=
n[4]-h[4];d[5]=n[5]-h[5];return d}Object.defineProperty(v,"__esModule",{value:!0});v.copy=function(d,n){d[0]=n[0];d[1]=n[1];d[2]=n[2];d[3]=n[3];d[4]=n[4];d[5]=n[5];return d};v.identity=function(d){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=0;d[5]=0;return d};v.set=function(d,n,h,r,x,v,D){d[0]=n;d[1]=h;d[2]=r;d[3]=x;d[4]=v;d[5]=D;return d};v.invert=function(d,n){var h=n[0],r=n[1],x=n[2],v=n[3],D=n[4];n=n[5];var z=h*v-r*x;if(!z)return null;z=1/z;d[0]=v*z;d[1]=-r*z;d[2]=-x*z;d[3]=h*z;d[4]=(x*n-v*D)*z;d[5]=(r*
D-h*n)*z;return d};v.determinant=function(d){return d[0]*d[3]-d[1]*d[2]};v.multiply=r;v.rotate=function(d,n,h){var r=n[0],x=n[1],v=n[2],D=n[3],z=n[4];n=n[5];var E=Math.sin(h);h=Math.cos(h);d[0]=r*h+v*E;d[1]=x*h+D*E;d[2]=r*-E+v*h;d[3]=x*-E+D*h;d[4]=z;d[5]=n;return d};v.scale=function(d,n,h){var r=n[1],x=n[2],v=n[3],D=n[4],z=n[5],E=h[0];h=h[1];d[0]=n[0]*E;d[1]=r*E;d[2]=x*h;d[3]=v*h;d[4]=D;d[5]=z;return d};v.translate=function(d,n,h){var r=n[0],x=n[1],v=n[2],D=n[3],z=n[4];n=n[5];var E=h[0];h=h[1];d[0]=
r;d[1]=x;d[2]=v;d[3]=D;d[4]=r*E+v*h+z;d[5]=x*E+D*h+n;return d};v.fromRotation=function(d,n){var h=Math.sin(n);n=Math.cos(n);d[0]=n;d[1]=h;d[2]=-h;d[3]=n;d[4]=0;d[5]=0;return d};v.fromScaling=function(d,n){d[0]=n[0];d[1]=0;d[2]=0;d[3]=n[1];d[4]=0;d[5]=0;return d};v.fromTranslation=function(d,n){d[0]=1;d[1]=0;d[2]=0;d[3]=1;d[4]=n[0];d[5]=n[1];return d};v.str=function(d){return"mat2d("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")"};v.frob=function(d){return Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],
2)+Math.pow(d[2],2)+Math.pow(d[3],2)+Math.pow(d[4],2)+Math.pow(d[5],2)+1)};v.add=function(d,n,h){d[0]=n[0]+h[0];d[1]=n[1]+h[1];d[2]=n[2]+h[2];d[3]=n[3]+h[3];d[4]=n[4]+h[4];d[5]=n[5]+h[5];return d};v.subtract=x;v.multiplyScalar=function(d,n,h){d[0]=n[0]*h;d[1]=n[1]*h;d[2]=n[2]*h;d[3]=n[3]*h;d[4]=n[4]*h;d[5]=n[5]*h;return d};v.multiplyScalarAndAdd=function(d,n,h,r){d[0]=n[0]+h[0]*r;d[1]=n[1]+h[1]*r;d[2]=n[2]+h[2]*r;d[3]=n[3]+h[3]*r;d[4]=n[4]+h[4]*r;d[5]=n[5]+h[5]*r;return d};v.exactEquals=function(d,
n){return d[0]===n[0]&&d[1]===n[1]&&d[2]===n[2]&&d[3]===n[3]&&d[4]===n[4]&&d[5]===n[5]};v.equals=function(d,n){var h=d[0],r=d[1],x=d[2],v=d[3],D=d[4];d=d[5];var z=n[0],E=n[1],l=n[2],g=n[3],q=n[4];n=n[5];return Math.abs(h-z)<=y.EPSILON*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(r-E)<=y.EPSILON*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(x-l)<=y.EPSILON*Math.max(1,Math.abs(x),Math.abs(l))&&Math.abs(v-g)<=y.EPSILON*Math.max(1,Math.abs(v),Math.abs(g))&&Math.abs(D-q)<=y.EPSILON*Math.max(1,Math.abs(D),
Math.abs(q))&&Math.abs(d-n)<=y.EPSILON*Math.max(1,Math.abs(d),Math.abs(n))};v.mul=r;v.sub=x})},"esri/symbols/support/previewSymbol3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/colorUtils ../../core/compilerUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./IconSymbol3DLayerResource ./ObjectSymbol3DLayerResource ./previewUtils ./renderUtils ./styleUtils ./utils".split(" "),function(F,v,y,r,x,d,
n,h,H,I,B,D,z,E,l,g,q){function p(g){var d=g.outline,e=h.isSome(g.material)?g.material.color:null,e=h.isSome(e)?e.toRgba().toString():null;if(h.isNone(d))return"fill"===g.type&&"255,255,255,1"===e?{color:"#bdc3c7",width:.75}:null;g=I.pt2px(d.size)||0;return{color:"rgba("+(h.isSome(d.color)?d.color.toRgba():"255,255,255,1")+")",width:Math.min(g,80)}}function J(d,l){var e=l&&l.resource,e=e&&e.href;return d.thumbnail&&d.thumbnail.url?H.resolve(d.thumbnail.url):e&&"object"!==l.type?H.resolve(q.getIconHref(d,
l)):d.styleOrigin&&(d.styleOrigin.styleName||d.styleOrigin.styleUrl)?g.resolveWebStyleSymbol(d.styleOrigin,{portal:d.styleOrigin.portal},"webRef").catch(function(e){return e}).then(function(e){return e&&e.thumbnail&&e.thumbnail.url||aa}):H.resolve(aa)}function P(g,d){void 0===d&&(d=1);var e=g.a;g=r.toHSV(g);d=r.toRGB({h:g.h,s:g.s/d,v:100-(100-g.v)/d});return[d.r,d.g,d.b,e]}function K(g,d){return Math.round(Math.min(Math.max(g+191.25*d,0),255))}function N(g){return"water"===g.type?h.isNone(g.color)?
null:g.color:h.isNone(g.material)||h.isNone(g.material.color)?null:g.material.color}function t(g,d){void 0===d&&(d=0);g=N(g);if(!g)return d=K(B.defaultThematicColor.r,d),[d,d,d,100];g=g.toRgba();for(var e=0;3>e;e++)g[e]=K(g[e],d);return g}function M(g){return g.outline?p(g):{color:"rgba(0, 0, 0, 1)",width:1.5}}function Q(g,d){g=N(g);if(!g)return null;var e;e="rgba("+(K(g.r,d)+",");e+=K(g.g,d)+",";e+=K(g.b,d)+",";return e+g.a+");"}function R(g,d){d=Q(g,d);if(!d)return{};g=Math.min(g.size?I.pt2px(g.size):
.75,80);return{color:d,width:g}}function Y(g,d,e){e*=.75;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:g,offset:0},{color:d,offset:1}]}}function V(g){var d=g.depth,e=g.height;return(g=g.width)&&d&&e&&g===d&&g<e}function O(g,d,e){var l=[];if(!g)return l;switch(g.type){case "icon":var w=g.resource&&g.resource.primitive||D.defaultPrimitive;switch(w){case "circle":l.push({shape:{type:"circle",cx:0,cy:0,r:.5*d},fill:t(g,0),stroke:p(g)});break;case "square":l.push({shape:{type:"path",
path:[{command:"M",values:[0,d]},{command:"L",values:[0,0]},{command:"L",values:[d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:t(g,0),stroke:p(g)});break;case "triangle":l.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,d]},{command:"Z",values:[]}]},fill:t(g,0),stroke:p(g)});break;case "cross":l.push({shape:{type:"path",path:[{command:"M",values:[.5*d,0]},{command:"L",values:[.5*d,d]},{command:"M",values:[0,.5*d]},{command:"L",
values:[d,.5*d]}]},stroke:M(g)});break;case "x":l.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[d,d]},{command:"M",values:[d,0]},{command:"L",values:[0,d]}]},stroke:M(g)});break;case "kite":l.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[.5*d,0]},{command:"L",values:[d,.5*d]},{command:"L",values:[.5*d,d]},{command:"Z",values:[]}]},fill:t(g,0),stroke:p(g)});break;default:x.neverReached(w)}break;case "object":switch(w=g.resource&&
g.resource.primitive||z.defaultPrimitive,w){case "cone":w=t(g,0);g=t(g,-.6);g=Y(w,g,e?20:d);d=E.getConeShapes(d,e);l.push({shape:d[0],fill:g});l.push({shape:d[1],fill:g});break;case "inverted-cone":e=t(g,0);g=t(g,-.6);g=Y(e,g,d);d=E.getInvertedConeShapes(d);l.push({shape:d[0],fill:g});l.push({shape:d[1],fill:e});break;case "cube":d=E.getCubeShapes(d,e);l.push({shape:d[0],fill:t(g,0)});l.push({shape:d[1],fill:t(g,-.3)});l.push({shape:d[2],fill:t(g,-.5)});break;case "cylinder":var w=t(g,0),b=t(g,-.6),
w=Y(w,b,e?20:d);d=E.getCylinderShapes(d,e);l.push({shape:d[0],fill:w});l.push({shape:d[1],fill:w});l.push({shape:d[2],fill:t(g,0)});break;case "diamond":d=E.getDiamondShapes(d);l.push({shape:d[0],fill:t(g,-.3)});l.push({shape:d[1],fill:t(g,0)});l.push({shape:d[2],fill:t(g,-.3)});l.push({shape:d[3],fill:t(g,-.7)});break;case "sphere":e=t(g,0);g=t(g,-.6);g=Y(e,g);g.x1=0;g.y1=0;g.x2=.25*d;g.y2=.25*d;l.push({shape:{type:"circle",cx:0,cy:0,r:.5*d},fill:g});break;case "tetrahedron":d=E.getTetrahedronShapes(d);
l.push({shape:d[0],fill:t(g,-.3)});l.push({shape:d[1],fill:t(g,0)});l.push({shape:d[2],fill:t(g,-.6)});break;default:x.neverReached(w)}}return l}function Z(g,d){var e=d&&d.size?I.pt2px(d.size):null,p=d&&d.maxSize?I.pt2px(d.maxSize):null,w=d&&d.disableUpsampling,b=g.symbolLayers,a=[],c=0,f=0,k=b.getItemAt(b.length-1),m;k&&"icon"===k.type&&(m=k.size&&I.pt2px(k.size));b.forEach(function(b){if("icon"===b.type||"object"===b.type){var k="icon"===b.type?b.size&&I.pt2px(b.size):0,u=e||k?Math.ceil(Math.min(e||
k,p||120)):22;if(b&&b.resource&&b.resource.href){var L=J(g,b).then(function(a){var c=b.get("material.color"),f;f="icon"===b.type?"multiply":"tint";return l.tintImageWithColor(a,u,c,f,w)}).then(function(a){var b=a.width,k=a.height;c=Math.max(c,b);f=Math.max(f,k);return[{shape:{type:"image",x:0,y:0,width:b,height:k,src:a.url},fill:null,stroke:null}]});a.unshift(L)}else L=u,"icon"===b.type&&m&&e&&(L=k/m*u),k=d&&"tall"===d.symbolConfig||("object"===b.type?V(b):!1),c=Math.max(c,k?20:L),f=Math.max(f,L),
a.unshift(H.resolve(O(b,L,k)))}});return H.eachAlways(a).then(function(a){var b=[];a.forEach(function(a){a.value?b.push(a.value):a.error&&S.warn("error while building swatchInfo!",a.error)});return l.renderSymbol(b,[c,f],{node:d&&d.node,scale:!1,opacity:d&&d.opacity})})}function T(g,d){var e=g.symbolLayers,p=[];g=q.isVolumetricSymbol(g);var w=d&&d.size?I.pt2px(d.size):null,b=(d&&d.maxSize?I.pt2px(d.maxSize):null)||80,a=0,c=0,f;e.forEach(function(k,m){if(k&&("line"===k.type||"path"===k.type)){var e=
[];switch(k.type){case "line":var C=R(k,0),A=C&&C.width||0;0===m&&(f=A);var L=Math.min(w||A,b);m=0===m?L:w?A/f*L:L;c=Math.max(c,m);a=Math.max(a,20<m?2*m:40);C.width=m;e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*c]},{command:"L",values:[a,.5*c]}]},stroke:C});break;case "path":m=Math.min(w||22,b);A=t(k,0);L=t(k,-.2);C=(C=Q(k,-.4))?{color:C,width:1}:{};if("quad"===k.profile){var g=k.width||k.size;k=k.height||k.size;k=E.getPathSymbolShapes(g&&k?g/k:1);C=y({},C,{join:"bevel"});e.push({shape:k[0],
fill:L,stroke:C});e.push({shape:k[1],fill:L,stroke:C});e.push({shape:k[2],fill:A,stroke:C})}else e.push({shape:E.shapes.pathSymbol3DLayer[0],fill:L,stroke:C}),e.push({shape:E.shapes.pathSymbol3DLayer[1],fill:A,stroke:C});a=c=Math.max(c,m)}p.push(e)}});return H.resolve(l.renderSymbol(p,[a,c],{node:d&&d.node,scale:g,opacity:d&&d.opacity}))}Object.defineProperty(v,"__esModule",{value:!0});var aa=F.toUrl("../../images/Legend/legend3dsymboldefault.png"),S=n.getLogger("esri.symbols.support.previewSymbol3D");
v.getSymbolLayerFill=t;v.previewSymbol3D=function(g,q){if(0===g.symbolLayers.length)return H.reject(new d("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var e=null;switch(g.type){case "point-3d":e=Z(g,q);break;case "line-3d":e=T(g,q);break;case "polygon-3d":case "mesh-3d":e="mesh-3d"===g.type;g=g.symbolLayers;for(var h=q&&q.size?I.pt2px(q.size):null,w=q&&q.maxSize?I.pt2px(q.maxSize):null,h=h||22,b=[],a=0,c=0,f=!1,k=0;k<g.length;k++){var m=g.getItemAt(k),u=[];if(!e||"fill"===
m.type){var C=E.shapes.fill[0];switch(m.type){case "fill":var A=p(m),L=Math.min(h,w||120),a=Math.max(a,L),c=Math.max(c,L),f=!0;u.push({shape:C,fill:t(m,0),stroke:A});break;case "line":C={stroke:R(m,0),shape:C};a=Math.max(a,22);c=Math.max(c,22);u.push(C);break;case "extrude":var A=y({join:"round"},R(m,-.4)),C=t(m,0),m=t(m,-.2),L=Math.min(h,w||120),U=E.getExtrudeSymbolShapes(L);A.width=1;u.push({shape:U[0],fill:m,stroke:A});u.push({shape:U[1],fill:m,stroke:A});u.push({shape:U[2],fill:C,stroke:A});C=
22*.7+.5*L;a=Math.max(a,22);c=Math.max(c,C);break;case "water":f=N(m),C=P(f),m=P(f,2),A=P(f,3),L=E.getWaterSymbolShapes(),f=!0,u.push({shape:L[0],fill:C}),u.push({shape:L[1],fill:m}),u.push({shape:L[2],fill:A}),L=Math.min(h,w||120),a=Math.max(a,L),c=Math.max(c,L)}b.push(u)}}e=H.resolve(l.renderSymbol(b,[a,c],{node:q&&q.node,scale:f,opacity:q&&q.opacity}))}return e?e:H.reject(new d("symbolPreview: swatchInfo3D","symbol not supported."))}})},"esri/symbols/support/utils":function(){define("require exports ../../Color ../../symbols ../../core/compilerUtils ../../core/has ../../core/Logger ../../core/maybe ../../core/screenUtils ./gfxUtils ./Symbol3DMaterial".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B){function D(g,d){if(null==d)return g;g=g.toRgba();g[3]*=d;return new y(g)}function z(g,d,l){if(g=g.symbolLayers){var p=function(g){g=h.isSome(g)?g:null;d=d||g||null!=l&&q;return D(d,l)};g.forEach(function(g){if("water"===g.type)g.color=p(g.color);else{var d=h.isSome(g.material)?g.material.color:null,d=p(d);h.isNone(g.material)?g.material=new B.default({color:d}):g.material.color=d;null!=l&&"outline"in g&&h.isSome(g.outline)&&h.isSome(g.outline.color)&&(g.outline.color=
D(g.outline.color,l))}})}}function E(g,d,q){(g=g.symbolLayers)&&g.forEach(function(g){if(g)switch(g.type){case "icon":case "line":case "path":case "extrude":case "text":g.size=d;break;case "object":switch(q){case "width":g.width=d;break;case "depth":g.depth=d;break;case "height":g.height=d;break;case "width-and-depth":g.width=d;g.depth=d;break;default:g.width=d,g.depth=d,g.height=d}break;default:l.warn("symbolUtils: applySizeToSymbol","symbolLayer not supported")}})}Object.defineProperty(v,"__esModule",
{value:!0});var l=n.getLogger("esri.symbols.support.utils"),g=/\/resource\/(.*?)\.svg$/,q=new y("white");v.getSymbolOutlineSize=function(g){if(!g)return 0;if(r.isSymbol3D(g)){var d=g.symbolLayers&&g.symbolLayers.length;d?(g=g.symbolLayers.getItemAt(d-1),g="outline"in g?h.get(g,"outline","size"):void 0):g=void 0;return h.isSome(g)?g:0}return(g=I.getStroke(g))&&H.px2pt(g.width)||0};v.isVolumetricSymbol=function(g){if(!g||!g.symbolLayers)return!1;switch(g.type){case "point-3d":return g.symbolLayers.some(function(g){return"object"===
g.type});case "line-3d":return g.symbolLayers.some(function(g){return"path"===g.type});case "polygon-3d":return g.symbolLayers.some(function(g){return"object"===g.type||"extrude"===g.type});default:return!1}};v.getIconHref=function(l,q){q=q.resource.href;return!d("esri-canvas-svg-support")&&l.styleOrigin&&g.test(q)?q.replace(g,"/resource/png/$1.png"):q};v.applyOpacityToColor=D;v.applyColorToSymbol=function(g,d,l){if(g&&(d||null!=l))if(d&&(d=new y(d)),r.isSymbol3D(g))z(g,d,l);else if(r.isSymbol2D(g)){if(d=
d||g.color)g.color=D(d,l);null!=l&&"outline"in g&&g.outline&&g.outline.color&&(g.outline.color=D(g.outline.color,l))}};v.applySizeToSymbol=function(g,d,l){if(g&&null!=d)if(r.isSymbol3D(g))E(g,d,l);else if(r.isSymbol2D(g))switch(g.type){case "simple-marker":g.size=d;break;case "picture-marker":l=g.width/g.height;1<l?(g.width=d,g.height=d*l):(g.width=d*l,g.height=d);break;case "simple-line":g.width=d;break;case "text":g.font.size=d;break;case "simple-fill":case "picture-fill":break;case "cim":break;
default:x.neverReached(g)}};v.applyRotationToSymbol=function(g,d,l){g&&null!=d&&(r.isSymbol3D(g)?(g=g.symbolLayers)&&g.forEach(function(g){if(g&&"object"===g.type)switch(l){case "tilt":g.tilt=d;break;case "roll":g.roll=d;break;default:g.heading=d}}):!r.isSymbol2D(g)||"simple-marker"!==g.type&&"picture-marker"!==g.type&&"text"!==g.type||(g.angle=d))}})},"esri/symbols/support/previewWebStyleSymbol":function(){define(["require","exports","../../request","../../core/screenUtils"],function(F,v,y,r){Object.defineProperty(v,
"__esModule",{value:!0});v.previewWebStyleSymbol=function(x,d,n){var h=x.thumbnail&&x.thumbnail.url;return h?y(h,{responseType:"image"}).then(function(d){d=d.data;var h=!/\\.svg$/i.test(d.src)&&n&&n.disableUpsampling,x=Math.max(d.width,d.height),v=n&&null!=n.maxSize?r.pt2px(n.maxSize):120;h&&(v=Math.min(x,v));h=Math.min(v,n&&null!=n.size?r.pt2px(n.size):x);h!==x&&(x=0!==d.width&&0!==d.height?d.width/d.height:1,1<=x?(d.width=h,d.height=h/x):(d.width=h*x,d.height=h));return n&&n.node?(n.node.appendChild(d),
n.node):d}):x.fetchSymbol().then(function(h){return d(h,n)})}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(F,v,y,r,x,d,n){return function(d){function h(h){h=d.call(this,h)||this;h.items=null;h.label=null;return h}y(h,d);r([n.property()],h.prototype,"items",void 0);r([n.property()],
h.prototype,"label",void 0);return h=r([n.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],h)}(n.declared(d.IdentifiableMixin(x)))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(F,v,y,r,x){function d(d){var n=d.identify,E=d.items,l=d.renderIcon,g=d.filterText,q=d.onItemMouseLeave,p=d.onItemMouseEnter,v=d.onItemSelect;return 0===E.length?r.tsx("div",{class:B.noMatchesMessage,
key:"no-matches"},d.messages.noMatches):E[0].items?r.tsx("div",{class:B.scroller,key:"item-container"},E.map(function(d){return H({group:d,filterText:g,identify:n,renderIcon:l,onItemMouseLeave:q,onItemMouseEnter:p,onItemSelect:v})})):r.tsx("ul",{class:x.classes(B.list,B.scroller),key:"item-container"},E.map(function(d){return h({item:d,identify:n,grouped:!0,onItemMouseLeave:q,onItemMouseEnter:p,onItemSelect:v,renderIcon:l,filterText:g})}))}function n(d){var h=d.id+"-placeholder";return r.tsx("div",
{class:B.filterContainer,key:"filter"},r.tsx("input",{"aria-labelledby":h,class:x.classes(B.input,B.filterInput),oninput:function(h){h=h.currentTarget;d.onFilterChange&&d.onFilterChange(h.value)},value:d.filterText,type:"search"}),d.filterText?null:r.tsx("div",{class:B.filterPlaceholder,id:h,key:"placeholder"},r.tsx("span",{class:B.searchIcon,"aria-hidden":"true"}),r.tsx("div",{class:B.filterPlaceholderText},d.messages.filterPlaceholder)))}function h(d){var h=d.identify,n=d.item,l=d.grouped,g=d.filterText,
q=d.onItemSelect,p=d.onItemMouseEnter,x=d.onItemMouseLeave;d=d.renderIcon;h=(h&&h(n)||n.id)+"__"+n.label;return r.tsx("li",{"aria-level":l?"2":"",class:B.item,"data-item":n,key:h,onclick:function(g){g=g.currentTarget["data-item"];q&&q(g)},onmouseenter:function(g){g=g.currentTarget["data-item"];p&&p(g)},onkeydown:function(g){if("Enter"===g.key||"Space"===g.key)g=g.currentTarget["data-item"],q&&q(g)},onmouseleave:function(g){g=g.currentTarget["data-item"];x&&x(g)},tabIndex:0},r.tsx("div",{class:B.itemContainer},
d&&d({item:n}),I({text:n.label,match:g})))}function H(d){var n=d.group,v=d.identify,l=d.onItemMouseLeave,g=d.onItemMouseEnter,q=d.onItemSelect,p=d.filterText,y=d.renderIcon;d=(v&&v(n)||n.id)+"-heading";return r.tsx("section",{"aria-labelledby":d,class:B.group,key:n.label},r.tsx("h4",{"aria-level":"1",id:d,class:x.classes(B.groupHeader)},I({text:n.label,match:p})),r.tsx("ul",{class:B.list},n.items.map(function(d){return h({item:d,identify:v,grouped:!0,onItemMouseLeave:l,onItemMouseEnter:g,onItemSelect:q,
renderIcon:y,filterText:p})})))}function I(d){var h=d.match;d=d.text;var n=null;if(h){var n=d.toLowerCase(),l=h.toLowerCase(),g=n.indexOf(l);-1===g?n=d:(n=d.substring(0,g),l=d.substr(g,h.length),h=d.substring(g+h.length),n=r.tsx("span",null,n,r.tsx("strong",null,l),h))}else n=d;return r.tsx("span",{class:B.itemLabel},n)}Object.defineProperty(v,"__esModule",{value:!0});var B={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",
item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",
widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};v.ItemList=function(h){var z=h.id,v=h.identify,l=h.filterEnabled,l=void 0===l?!0:l,g=h.items,q=h.messages,p=h.filterText,p=void 0===p?"":p,y=h.onFilterChange,D=h.renderIcon,H=h.onItemMouseLeave,I=h.onItemMouseEnter;h=h.onItemSelect;return r.tsx("div",{class:x.classes(B.base,B.widget)},l?n({filterText:p,messages:q,onFilterChange:y,id:z}):null,d({identify:v,items:g,messages:q,filterText:p,renderIcon:D,onItemMouseLeave:H,onItemMouseEnter:I,
onItemSelect:h}))};v.renderItem=h;v.renderGroup=H;v.renderLabel=I})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../symbols/support/symbolUtils ../../views/2d/layers/support/popupUtils2D ../../views/support/layerViewUtils ./CreateWorkflowData ./Edits ./UpdateWorkflowData ./Workflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel ../Spinner/SpinnerViewModel".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E,l,g,q,p,J,P,K,N,t,M,Q,R,Y,V,O,Z){function T(a,c,m){b.error(new I(a,c,m))}function aa(a){return a&&q.isEditableLayer(a.layer)}function S(a,c){return a&&h.find(a,function(a){return a.layer===c})}function ba(a,c,b){var f=a.layer,k=f.createQuery();k.objectIds=[a.getAttribute(f.objectIdField)];k.outFields=["*"];k.outSpatialReference=c.spatialReference;return f.queryFeatures(k,b).then(function(a){return a.features[0]})}function X(a,c,b,e,C){a.create(c.layer.geometryType);
var f=a.on("create",function(f){var b=f.state;f=f.graphic;if("cancel"===b)C();else if("complete"===b){var k=f.clone();k.attributes=x({},c.template.prototype.attributes);k.layer=c.layer;a.layer.remove(f);var m=k.symbol;k.symbol=null;P.getDisplayedSymbol(k).then(function(a){k.symbol=a||m;e(k)})}});b.map.add(a.layer);return{remove:function(){f.remove();b.map.remove(a.layer);a.cancel()}}}function e(a,c,b,e){var f=a.clone();c.layer.add(f);var k=function(){var c=a.layer;if("graphics"===c.type)return{remove:function(){}};
var f=a.attributes[c.objectIdField];b.whenLayerView(a.layer).then(function(a){return a.setVisibility(f,!1)});return{remove:function(){b.whenLayerView(a.layer).then(function(a){return a.setVisibility(f,!0)})}}}(),m={multipleSelectionEnabled:!1};c.update(f,m);var u=c.on("update",function(a){var f=a.graphics[0];"cancel"===a.state?c.update(f,m):e(f.clone())});b.map.add(c.layer);return{remove:function(){k.remove();u.remove();b.map.remove(c.layer);c.cancel();c.layer.removeAll()}}}function G(a){if(1===a.length)if(a=
a[0],"items"in a){if(1===a.items.length)return a.items[0]}else return a}var w=this,b=D.getLogger("esri.widgets.Editor.EditorViewModel"),a=["create","update"],c=function(a,c,b){return n(w,void 0,void 0,function(){var f,k;return d(this,function(m){switch(m.label){case 0:return 0===a.length?[2,void 0]:[4,c.hitTest(b)];case 1:f=m.sent();if(0===f.results.length)return[2,void 0];k=f.results.map(function(a){return a.graphic.layer});return[2,z.eachAlways(a.items.filter(function(a){var c=a.layer;return-1<
a.supports.indexOf("update")&&-1<k.indexOf(c)}).map(function(a){a=a.layer;var f=J.calculateTolerance(a.renderer),f=K.createQueryGeometry(b.mapPoint,f,c),k=a.displayField,m=[a.objectIdField];p.hasField(a.fields,k)&&m.push(k);return a.queryFeatures({geometry:f,outFields:m}).then(function(a){return a.features})}))]}})})};return function(f){function b(a){a=f.call(this,a)||this;a._sketchGraphicsLayer=new g({listMode:"hide"});a.activeWorkflow=null;a.activityQueue=[];a.failures=[];a.featureFormViewModel=
new Y;a.featureTemplatesViewModel=new V;a.layerInfos=null;a.sketchViewModel=new O({layer:a._sketchGraphicsLayer});a.spinnerViewModel=new Z;return a}y(b,f);b.prototype.initialize=function(){var a=this;this.handles.add([E.on(this,"view.allLayerViews","change",function(){return a.notifyChange("editableItems")}),E.watch(this,"editableItems",function(){var c=a.activeWorkflow;if(c){var f=c.stepId;"create"===c.type?(a.updateCreationTemplates(),"awaiting-feature-creation-info"!==f||a.canCreate||a._cancelWorkflow()):
"update"===c.type&&("awaiting-feature-to-update"===f&&!a.canUpdate||"awaiting-update-feature-candidate"===f&&!c.data.candidates.some(function(c){var f=a.editableItems.find(function(a){return a.layer===c.layer});return f&&-1<f.supports.indexOf("update")}))&&a._cancelWorkflow()}})])};b.prototype.destroy=function(){this.view=null;this._cancelWorkflow()};Object.defineProperty(b.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(c){c&&0!==c.length||(c=a.slice());
this._set("allowedWorkflows",c)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canCreate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("create")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canUpdate",{get:function(){return this.editableItems.some(function(a){return-1<a.supports.indexOf("update")})},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"editableItems",{get:function(){var a=this,c=this.get("view.allLayerViews");
if(!c)return new H;this.handles.remove("layer-view-property-watchers");var f=function(){return a.notifyChange("editableItems")};return c.filter(aa).map(function(c){a.handles.add(E.watch(c,"suspended",f),"layer-view-property-watchers");var b=c.layer;c=c.suspended;var k=[],m=a.allowedWorkflows,e=b.capabilities.operations,u=S(a.layerInfos,b),m=m.filter(function(a){return u?!1!==u.enabled&&("create"===a&&!1!==u.addEnabled||"update"===a&&!1!==u.updateEnabled):!0});!c&&h.find(m,function(a){return"create"===
a})&&e.supportsAdd&&k.push("create");!c&&h.find(m,function(a){return"update"===a})&&e.supportsUpdate&&k.push("update");!c&&!1!==(u&&u.deleteEnabled)&&e.supportsDelete&&k.push("delete");return{layer:b,supports:k}}).reverse()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var a=this.activeWorkflow;return a?a.stepId:"ready"},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"syncing",{get:function(){return 0<this.activityQueue.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"view",{set:function(a){a&&"2d"!==a.type?T("editing:unsupported-view","SceneView is not supported"):(this.sketchViewModel.view=a,this.spinnerViewModel.view=a,this._set("view",a))},enumerable:!0,configurable:!0});b.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return n(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canCreate?
[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Create workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createCreateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",a),[2]}})})};b.prototype.startCreateWorkflowAtFeatureCreation=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),
[2]);case 1:return f.sent(),c=this._createCreateWorkflow("awaiting-feature-to-create"),c.data.creationInfo=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startCreateWorkflowAtFeatureEdit=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createCreateWorkflow("editing-new-feature"),
c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureSelection=function(){return n(this,void 0,void 0,function(){var a;return d(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),a=this._createUpdateWorkflow(),[4,a.start()];case 2:return c.sent(),this._set("activeWorkflow",
a),[2]}})})};b.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("awaiting-update-feature-candidate"),c.data.candidates=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.startUpdateWorkflowAtFeatureEdit=
function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(T("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return f.sent(),c=this._createUpdateWorkflow("editing-existing-feature"),c.data.edits.feature=a,[4,c.start()];case 2:return f.sent(),this._set("activeWorkflow",c),[2]}})})};b.prototype.deleteFeatureFromWorkflow=function(){return n(this,void 0,void 0,function(){var a;
return d(this,function(c){switch(c.label){case 0:a=this.activeWorkflow;if(!a||"create"===a.type)return T("editing:unsupported-workflow","Deleting requires an active update workflow."),[2];this._delete(a.data.edits.feature);return[4,a.reset()];case 1:return c.sent(),[2]}})})};b.prototype.cancelWorkflow=function(a){return n(this,void 0,void 0,function(){return d(this,function(c){return[2,this._cancelWorkflow(x({warn:!0},a))]})})};b.prototype.updateCreationTemplates=function(){this.featureTemplatesViewModel.layers=
this.editableItems.filter(function(a){return-1<a.supports.indexOf("create")}).map(function(a){return a.layer}).toArray()};b.prototype._highlight=function(a){var c=a&&h.find(this.view.allLayerViews.items,function(c){return c.layer===a.layer});N.hasHighlight(c)&&this.handles.add(c.highlight(a),"candidate-highlight")};b.prototype._unhighlight=function(){this.handles.remove("candidate-highlight")};b.prototype._cancelWorkflow=function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return c=
this.activeWorkflow,c?[4,c.cancel(a)]:(a&&a.warn&&T("editing:no-active-workflow","There is no active workflow to cancel."),[2]);case 1:return f.sent(),this._set("activeWorkflow",null),[2]}})})};b.prototype._createCreateWorkflow=function(a){var c=this,f=this.handles,b=new t({edits:new M,viewModel:this}),k=new R({type:"create",data:b,steps:this._createWorkflowStepCreator(b,a),commit:function(){return n(c,void 0,void 0,function(){return d(this,function(a){switch(a.label){case 0:return f.remove(this.activeWorkflow.stepId),
[4,this._create(b.edits.feature)];case 1:return a.sent(),[4,this.activeWorkflow.reset()];case 2:return a.sent(),k.emit("commit"),[2]}})})}});return k};b.prototype._createWorkflowStepCreator=function(a,c){void 0===c&&(c="awaiting-feature-creation-info");var f=a.viewModel.handles,b={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.creationInfo=null;f.add(a.viewModel.featureTemplatesViewModel.on("select",
function(c){c=c.item;a.creationInfo={layer:c.layer,template:c.template};a.viewModel.activeWorkflow.next()}),this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){return n(this,void 0,void 0,function(){var c,b=this;return d(this,function(k){c=function(){f.add(X(a.viewModel.sketchViewModel,a.creationInfo,a.viewModel.view,
function(c){a.edits.feature=c;a.viewModel.activeWorkflow.next()},function(){f.remove(b.id);c()}),b.id)};c();return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(a){f.remove(this.id);return[2]})})}}},"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){return n(this,void 0,void 0,function(){var c,b,k;return d(this,function(m){c=a.edits.feature;k=(b=S(a.viewModel.layerInfos,c.layer))&&b.fieldConfig;a.viewModel.featureFormViewModel.set({feature:c,
fieldConfig:k});f.add([a.viewModel.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(a.viewModel.featureFormViewModel.getValues())}),e(c,a.viewModel.sketchViewModel,a.viewModel.view,function(c){return a.edits.updateGeometry(c.geometry)})],this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(c){a.edits.feature=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});f.remove(this.id);return[2]})})}}}},k=
!1,m=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(a){return k?!0:k=a===c}).map(function(a){return b[a]()});a.viewModel.updateCreationTemplates();var u=G(a.viewModel.featureTemplatesViewModel.items);"awaiting-feature-creation-info"===m[0].id&&u&&(a.creationInfo={layer:u.layer,template:u.template},m.shift());return m};b.prototype._createUpdateWorkflow=function(a){var c=this,f=this.handles,b=new Q({edits:new M,viewModel:this}),k=new R({type:"update",
data:b,steps:this._updateWorkflowStepCreator(b,a),commit:function(){return n(c,void 0,void 0,function(){var a,c,m,e;return d(this,function(u){switch(u.label){case 0:return f.remove(this.activeWorkflow.stepId),c=b.edits.feature,m=c.clone(),b.edits.attributesModified||(e=c.layer.objectIdField,m.attributes=(a={},a[e]=c.getAttribute(e),a)),b.edits.geometryModified||(m.geometry=null),[4,this._update(m)];case 1:return u.sent(),[4,this.activeWorkflow.reset()];case 2:return u.sent(),k.emit("commit"),[2]}})})}});
return k};b.prototype._updateWorkflowStepCreator=function(a,f){void 0===f&&(f="awaiting-feature-to-update");var b=a.viewModel.handles,k={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return n(this,void 0,void 0,function(){var f,k,m,e,u;return d(this,function(C){f=a.viewModel;k=f.spinnerViewModel;m=f.view;e=null;b.add({remove:function(){e&&(e.abort(),e=null)}},this.id);a.edits.feature=null;u=m.on("click",function(f){f.stopPropagation();k.location=f.mapPoint;
k.visible=!0;e&&e.abort();var b=a.viewModel.editableItems;e=z.createAbortController();z.create(function(a,k){z.onAbort(e.signal,function(){return k(z.createAbortError())});a(c(b,m,f))}).then(function(c){a.viewModel.spinnerViewModel.visible=!1;z.throwIfAborted(e);a.candidates=c.reduce(function(a,c){return c.error?a:a.concat(c.value)},[]);0!==a.candidates.length&&(1===a.candidates.length?(a.edits.feature=a.candidates[0],a.viewModel.activeWorkflow.go("editing-existing-feature")):a.viewModel.activeWorkflow.next())})});
b.add(u,this.id);return[2]})})},tearDown:function(){return n(this,void 0,void 0,function(){return d(this,function(a){b.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return n(this,void 0,void 0,function(){var c,f;return d(this,function(k){c=a.edits;f=a.viewModel;c.feature=null;b.add(E.watch(c,"feature",function(a){f._unhighlight();f._highlight(a)}),this.id);return[2]})})},tearDown:function(){return n(this,
void 0,void 0,function(){return d(this,function(c){a.viewModel._unhighlight();b.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return n(this,void 0,void 0,function(){var c,f,k,m=this;return d(this,function(u){c=a.edits.feature;f=a.viewModel;a.editableItem=f.editableItems.find(function(a){return a.layer===c.layer});k=z.createAbortController();b.add({remove:function(){return k.abort()}});return[2,ba(c,f.view,k).then(function(c){if(!z.isAborted(k)){a.edits.updateGeometry(c.geometry);
a.edits.updateAttributes(c.attributes);a.edits.trackChanges();var u=c.layer,C=S(f.layerInfos,u);f.featureFormViewModel.set({feature:c,fieldConfig:C&&C.fieldConfig});C=[f.featureFormViewModel.on("value-change",function(){a.edits.updateAttributes(f.featureFormViewModel.getValues())})];u.capabilities.editing.supportsGeometryUpdate?C.push(e(c,f.sketchViewModel,f.view,function(c){return a.edits.updateGeometry(c.geometry)})):f._highlight(c);b.add(C,m.id)}})]})})},tearDown:function(){return n(this,void 0,
void 0,function(){return d(this,function(c){a.editableItem=null;a.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});b.remove(this.id);a.viewModel._unhighlight();return[2]})})}}}},m=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature"].filter(function(a){return m?!0:m=a===f}).map(function(a){return k[a]()})};b.prototype._create=function(a){return this._queueOperation(function(){return a.layer.applyEdits({addFeatures:[a]})})};b.prototype._delete=
function(a){return this._queueOperation(function(){return a.layer.applyEdits({deleteFeatures:[a]})})};b.prototype._update=function(a){return this._queueOperation(function(){return a.layer.applyEdits({updateFeatures:[a]})}).then()};b.prototype._queueOperation=function(a){var c=this;this.activityQueue.push(a);this.notifyChange("syncing");var f=function(a,c){a=c.indexOf(a);-1<a&&c.splice(a,1)};return a().then(function(a){var c=a.deleteFeatureResults,f=a.updateFeatureResults;if(a=h.find(a.addFeatureResults,
function(a){return!!a.error})||h.find(f,function(a){return!!a.error})||h.find(c,function(a){return!!a.error}))throw a.error;}).catch(function(b){T("editing:operation-error","An error ocurred.",{error:b});var k={error:b,retry:function(){f(k,c.failures);c._queueOperation(a)},cancel:function(){return f(k,c.failures)}};c._set("failures",c.failures.concat([k]))}).then(function(){f(a,c.activityQueue);c.notifyChange("syncing")})};r([l.property({readOnly:!0})],b.prototype,"activeWorkflow",void 0);r([l.property({readOnly:!0})],
b.prototype,"activityQueue",void 0);r([l.property({value:a.slice()})],b.prototype,"allowedWorkflows",null);r([l.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canCreate",null);r([l.property({readOnly:!0,dependsOn:["editableItems"]})],b.prototype,"canUpdate",null);r([l.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],b.prototype,"editableItems",null);r([l.property({readOnly:!0})],b.prototype,"failures",void 0);r([l.property()],
b.prototype,"featureFormViewModel",void 0);r([l.property()],b.prototype,"featureTemplatesViewModel",void 0);r([l.property()],b.prototype,"layerInfos",void 0);r([l.property()],b.prototype,"sketchViewModel",void 0);r([l.property()],b.prototype,"spinnerViewModel",void 0);r([l.property({dependsOn:["editableItems","activeWorkflow.stepId","view.ready"]})],b.prototype,"state",null);r([l.property({readOnly:!0})],b.prototype,"syncing",null);r([l.property()],b.prototype,"view",null);return b=r([l.subclass("esri.widgets.Editor.EditorViewModel")],
b)}(l.declared(B.HandleOwner))})},"esri/layers/GraphicsLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){return function(d){function n(l){l=d.call(this,l)||this;l.elevationInfo=
null;l.graphics=new B.default;l.screenSizePerspectiveEnabled=!0;l.type="graphics";return l}y(n,d);n.prototype.destroy=function(){this.removeAll()};n.prototype.add=function(d){this.graphics.add(d);return this};n.prototype.addMany=function(d){this.graphics.addMany(d);return this};n.prototype.removeAll=function(){this.graphics.removeAll();return this};n.prototype.remove=function(d){this.graphics.remove(d)};n.prototype.removeMany=function(d){this.graphics.removeMany(d)};n.prototype.on=function(d,g){return this.inherited(arguments,
[d,g])};n.prototype.graphicChanged=function(d){this.emit("graphic-update",d)};r([h.property({type:D})],n.prototype,"elevationInfo",void 0);r([h.property(B.graphicsCollectionProperty)],n.prototype,"graphics",void 0);r([h.property({type:["show","hide"]})],n.prototype,"listMode",void 0);r([h.property()],n.prototype,"screenSizePerspectiveEnabled",void 0);r([h.property({readOnly:!0})],n.prototype,"type",void 0);return n=r([h.subclass("esri.layers.GraphicsLayer")],n)}(h.declared(I.ScaleRangeLayer(H)))})},
"esri/layers/graphics/editingSupport":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/normalizeUtils".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){function z(d,z,v){return r(this,void 0,void 0,function(){var p,r,t,B;return y(this,function(y){p=z.addFeatures&&z.addFeatures.length||
z.updateFeatures&&z.updateFeatures.length||z.deleteFeatures&&z.deleteFeatures.length;r=z.addAttachments&&z.addAttachments.length||z.updateAttachments&&z.updateAttachments.length||z.deleteAttachments&&z.deleteAttachments.length;if(!z||!p&&!r)throw new h(d.type+"-layer:missing-parameters","'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!d.capabilities.data.isVersioned&&v&&v.gdbVersion)throw new h(d.type+"-layer:invalid-parameter",
"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!d.capabilities.editing.supportsRollbackOnFailure&&v&&v.rollbackOnFailureEnabled)throw new h(d.type+"-layer:invalid-parameter","This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");if(!d.capabilities.editing.supportsGlobalId&&v&&v.globalIdUsed)throw new h(d.type+"-layer:invalid-parameter","This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");
if(!d.capabilities.editing.supportsGlobalId&&r)throw new h(d.type+"-layer:invalid-parameter","'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((!v||!v.globalIdUsed)&&r)throw new h(d.type+"-layer:invalid-parameter","When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");t=x({},z);t.addFeatures=n.isCollection(t.addFeatures)?
t.addFeatures.toArray():t.addFeatures||[];t.updateFeatures=n.isCollection(t.updateFeatures)?t.updateFeatures.toArray():t.updateFeatures||[];t.deleteFeatures=n.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():t.deleteFeatures||[];t.addAttachments=t.addAttachments||[];t.updateAttachments=t.updateAttachments||[];t.deleteAttachments=t.deleteAttachments||[];t.addFeatures=t.addFeatures.map(q);t.updateFeatures=t.updateFeatures.map(q);B=v&&v.globalIdUsed;t.addFeatures.forEach(function(g){return E(g,
d,B)});t.updateFeatures.forEach(function(g){return E(g,d,B)});t.deleteFeatures.forEach(function(g){return E(g,d,B)});t.addAttachments.forEach(function(g){return l(g,d)});t.updateAttachments.forEach(function(g){return l(g,d)});return[2,g(t)]})})}function E(g,d,l){if(l){if("attributes"in g&&!g.attributes[d.globalIdField])throw new h(d.type+"-layer:invalid-parameter","Feature should have 'globalId' when 'globalIdUsed' is true");if(!("attributes"in g||g.globalId))throw new h(d.type+"-layer:invalid-parameter",
"'globalId' of the feature should be passed when 'globalIdUsed' is true");}}function l(g,d){var l=g.feature;g=g.attachment;if(!l||"attributes"in l&&!l.attributes[d.globalIdField])throw new h(d.type+"-layer:invalid-parameter","Attachment should have reference to a feature with 'globalId'");if(!("attributes"in l||l.globalId))throw new h(d.type+"-layer:invalid-parameter","Attachment should have reference to 'globalId' of the parent feature");if(!g.globalId)throw new h(d.type+"-layer:invalid-parameter",
"Attachment should have 'globalId'");if(!g.data&&!g.uploadId)throw new h(d.type+"-layer:invalid-parameter","Attachment should have 'data' or 'uploadId'");if(!(g.data instanceof File&&g.data.name||g.name))throw new h(d.type+"-layer:invalid-parameter","'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!d.capabilities.editing.supportsUploadWithItemId&&g.uploadId)throw new h(d.type+"-layer:invalid-parameter","This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");
if("string"===typeof g.data&&(l=B.dataComponents(g.data))&&!l.isBase64)throw new h(d.type+"-layer:invalid-parameter","Attachment 'data' should be a Blob, File or Base64 encoded string");}function g(g){return r(this,void 0,void 0,function(){var d,l,p,q,t,h;return y(this,function(n){switch(n.label){case 0:return d=g.addFeatures,l=g.updateFeatures,p=d.concat(l).map(function(g){return g.geometry}),[4,D.normalizeCentralMeridian(p)];case 1:return q=n.sent(),t=d.length,h=l.length,q.slice(0,t).forEach(function(d,
l){g.addFeatures[l].geometry=d}),q.slice(t,t+h).forEach(function(d,l){g.updateFeatures[l].geometry=d}),[2,g]}})})}function q(g){var l=new d;g.attributes||(g.attributes={});l.geometry=g.geometry;l.attributes=g.attributes;return l}Object.defineProperty(v,"__esModule",{value:!0});v.isEditableLayer=function(g){return!0===g.get("capabilities.operations.supportsEditing")};v.applyEdits=function(g,d,l){return r(this,void 0,void 0,function(){var p,q,t,n,r,x,v,E,B;return y(this,function(y){switch(y.label){case 0:return t=
{edits:d,result:I.create(function(g,d){p=g;q=d})},g.emit("apply-edits",t),[4,g.load()];case 1:y.sent();n=g.source;if(!n||null==n.applyEdits)return[2,I.reject(new h(g.type+"-layer:no-editing-support","Layer source does not support applyEdits capability",{layer:g}))];if(!g.editingEnabled)throw new h(g.type+"-layer:editing-disabled","Editing is disabled for layer",{layer:g});return[4,z(g,d,l)];case 2:r=y.sent(),y.label=3;case 3:return y.trys.push([3,5,,6]),[4,n.applyEdits(r,l)];case 4:return x=y.sent(),
v=function(g){return g.filter(function(g){return!g.error}).map(H.clone)},E={addedFeatures:v(x.addFeatureResults),updatedFeatures:v(x.updateFeatureResults),deletedFeatures:v(x.deleteFeatureResults),addedAttachments:v(x.addAttachmentResults),updatedAttachments:v(x.updateAttachmentResults),deletedAttachments:v(x.deleteAttachmentResults)},(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length)&&g.emit("edits",
E),p(E),[2,x];case 5:throw B=y.sent(),q(B),B;case 6:return[2]}})})}})},"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(F,v){function y(d,n){return n&&n.xoffset?Math.max(d,Math.abs(n.xoffset)):n&&n.yoffset?Math.max(d,Math.abs(n.yoffset)):d}function r(d,n){if("number"===typeof d)return d;if(d&&d.stops&&d.stops.length){d=d.stops;for(var h=n=0,r=0;r<d.length;r++){var x=d[r].size;"number"===typeof x&&(n+=x,h++)}return n/h}return n}function x(d,n){if(!n)return d;
n=n.filter(function(d){return"size"===d.type}).map(function(h){var n=h.minSize;return(r(h.maxSize,d)+r(n,d))/2});var h=0,x=n.length;if(0===x)return d;for(var v=0;v<x;v++)h+=n[v];return Math.max(Math.floor(h/x),d)}Object.defineProperty(v,"__esModule",{value:!0});v.calculateTolerance=function(d){if(!d)return 6;var n="visualVariables"in d?x(6,d.visualVariables):6;if("simple"===d.type)return y(n,d.symbol);if("unique-value"===d.type){var h=n;d.uniqueValueInfos.forEach(function(d){h=y(h,d.symbol)});return h}if("class-breaks"===
d.type){var r=n;d.classBreakInfos.forEach(function(d){r=y(r,d.symbol)});return r}return n}})},"esri/views/2d/layers/support/popupUtils2D":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../../core/tsSupport/decorateHelper","../../../../geometry/Extent"],function(F,v,y,r,x){Object.defineProperty(v,"__esModule",{value:!0});v.createQueryGeometry=function(d,n,h){var r=h.get("state.resolution"),r=n*("number"===typeof r?r:1);n=d.clone().offset(-r,-r);d=d.clone().offset(r,
r);return new x({xmin:Math.min(n.x,d.x),ymin:Math.min(n.y,d.y),xmax:Math.max(n.x,d.x),ymax:Math.max(n.y,d.y),spatialReference:h.spatialReference})}})},"esri/widgets/Editor/CreateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(F,v,y,r,x,d){return function(n){function h(){var d=null!==n&&n.apply(this,arguments)||this;d.creationInfo=null;d.edits=
null;d.viewModel=null;return d}y(h,n);r([d.property()],h.prototype,"creationInfo",void 0);r([d.property()],h.prototype,"edits",void 0);r([d.property()],h.prototype,"viewModel",void 0);return h=r([d.subclass("esri.widgets.Editor.CreateWorkflowData")],h)}(d.declared(x))})},"esri/widgets/Editor/Edits":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators".split(" "),
function(F,v,y,r,x,d,n,h){function H(d){return n.isNone(d)?null:JSON.stringify(d)}return function(d){function n(h){h=d.call(this,h)||this;h._baselineAttributesJSON=null;h._baselineGeometryJSON=null;return h}y(n,d);Object.defineProperty(n.prototype,"attributesModified",{get:function(){var d=this._baselineAttributesJSON,h=this.feature;return!(!h||d===H(h.attributes))},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"geometryModified",{get:function(){var d=this._baselineGeometryJSON,
h=this.feature;return!(!h||d===H(h.geometry))},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"modified",{get:function(){return this.attributesModified||this.geometryModified},enumerable:!0,configurable:!0});n.prototype.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=H(this.feature.attributes),this._baselineGeometryJSON=H(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))};n.prototype.updateAttributes=function(d){this.feature.attributes=
d;this.notifyChange("attributesModified")};n.prototype.updateGeometry=function(d){this.feature.geometry=d;this.notifyChange("geometryModified")};r([h.property()],n.prototype,"attributesModified",null);r([h.property()],n.prototype,"feature",void 0);r([h.property()],n.prototype,"geometryModified",null);r([h.property({dependsOn:["attributesModified","geometryModified"]})],n.prototype,"modified",null);return n=r([h.subclass("esri.widgets.Editor.Edits")],n)}(h.declared(d.HandleOwnerMixin(x)))})},"esri/widgets/Editor/UpdateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(F,v,y,r,x,d){return function(n){function h(){var d=null!==n&&n.apply(this,arguments)||this;d.candidates=null;d.editableItem=null;d.edits=null;d.viewModel=null;return d}y(h,n);r([d.property()],h.prototype,"candidates",void 0);r([d.property()],h.prototype,"editableItem",void 0);r([d.property()],h.prototype,"edits",void 0);r([d.property()],h.prototype,"viewModel",void 0);return h=r([d.subclass("esri.widgets.Editor.UpdateWorkflowData")],h)}(d.declared(x))})},"esri/widgets/Editor/Workflow":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D){return function(z){function x(d){d=z.call(this,d)||this;d._indexHistory=[];d._lastStepIndex=-1;d._stepIndex=-1;d.data=null;d.started=!1;d.steps=null;d.type=null;return d}y(x,z);Object.defineProperty(x.prototype,"hasNextStep",{get:function(){return!!(this.steps&&this._stepIndex<this.steps.length-1)},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"hasPreviousStep",{get:function(){return 0<this._stepIndex},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,
"stepId",{get:function(){var d=this.steps;return(d=d&&d[this._stepIndex])&&d.id},enumerable:!0,configurable:!0});x.prototype.cancel=function(l){void 0===l&&(l={force:!0});return n(this,void 0,void 0,function(){var g=this;return d(this,function(d){return!1!==l.force?[2,this._cancel()]:[2,B.create(function(d,l){g.emit("cancel-request",{controller:{allow:function(){return g._cancel().then(d)},deny:function(){return l(new H("workflow:cancel-denied","Request to cancel workflow was denied."))}}})})]})})};
x.prototype.commit=function(){return n(this,void 0,void 0,function(){return d(this,function(d){return[2]})})};x.prototype.go=function(l){return n(this,void 0,void 0,function(){var g,q;return d(this,function(d){switch(d.label){case 0:return g=this.steps,q=h.findIndex(g,function(g){return g.id===l}),this._indexHistory.push(this._stepIndex),[4,this._go(q)];case 1:return d.sent(),[2]}})})};x.prototype.next=function(){return n(this,void 0,void 0,function(){return d(this,function(d){switch(d.label){case 0:return this._indexHistory.push(this._stepIndex),
[4,this._go(this._stepIndex+1)];case 1:return d.sent(),[2]}})})};x.prototype.previous=function(){return n(this,void 0,void 0,function(){return d(this,function(d){switch(d.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return d.sent(),[2]}})})};x.prototype.reset=function(){return n(this,void 0,void 0,function(){return d(this,function(d){switch(d.label){case 0:return[4,this._cancel(!1)];case 1:return d.sent(),[4,this.start()];case 2:return d.sent(),[2]}})})};x.prototype.start=function(){return n(this,
void 0,void 0,function(){var l;return d(this,function(g){switch(g.label){case 0:return this._set("started",!0),l=-1===this._stepIndex?0:this._stepIndex,[4,this._go(l)];case 1:return g.sent(),[2]}})})};x.prototype._cancel=function(l){void 0===l&&(l=!0);return n(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return this.started?[4,this.steps[this._stepIndex].tearDown()]:[3,2];case 1:g.sent(),g.label=2;case 2:return this._set("started",!1),this._resetIndexing(l),[2]}})})};
x.prototype._go=function(l){void 0===l&&(l=-1);return n(this,void 0,void 0,function(){return d(this,function(g){switch(g.label){case 0:return-1>=l||l>=this.steps.length?[2]:this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:(this._stepIndex=l,this._notifyStepProps(),[2]);case 1:g.sent(),g.label=2;case 2:return[4,this.steps[l].setUp()];case 3:return g.sent(),this._stepIndex=this._lastStepIndex=l,this._notifyStepProps(),[2]}})})};x.prototype._resetIndexing=function(d){void 0===
d&&(d=!0);this._lastStepIndex=this._stepIndex=-1;this._indexHistory.length=0;d&&this._notifyStepProps()};x.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};r([D.property()],x.prototype,"data",void 0);r([D.property()],x.prototype,"hasNextStep",null);r([D.property()],x.prototype,"hasPreviousStep",null);r([D.property()],x.prototype,"started",void 0);r([D.property({readOnly:!0,dependsOn:["steps"]})],x.prototype,"stepId",
null);r([D.property()],x.prototype,"steps",void 0);r([D.property()],x.prototype,"type",void 0);r([D.property()],x.prototype,"commit",null);return x=r([D.subclass("esri.widgets.Editor.Workflow")],x)}(D.declared(I.EventedAccessor))})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../Graphic ../../symbols ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../layers/GraphicsLayer ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/3d/interactive/editingTools/isSupportedGraphicUtils ../../views/3d/interactive/editingTools/graphicMove3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ../../views/draw/support/layerUtils ../../views/input/InputManager ./support/OperationHandle @dojo/framework/shim/Promise".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E,l,g,q,p,J,P,K,N,t,M,Q,R,Y,V,O,Z,T,aa,S,ba){function X(a,c){var f=a.history.undo.pop().updates,b=[];c.forEach(function(a,c){c=f[c];var k={};null!=c&&(q.isSome(c.geometry)&&(k.geometry=a.geometry,a.geometry=c.geometry),q.isSome(c.symbol)&&(k.symbol=a.symbol,a.symbol=c.symbol),b.push(k))});a.history.redo.push({updates:b})}function e(a,c){var f=a.history.redo.pop().updates,b=[];c.forEach(function(a,c){c=f[c];var k={};null!=c&&(q.isSome(c.geometry)&&(k.geometry=a.geometry,
a.geometry=c.geometry),q.isSome(c.symbol)&&(k.symbol=a.symbol,a.symbol=c.symbol),b.push(k))});a.history.undo.push({updates:b})}function G(a){return{updates:a.map(function(a){return{geometry:a.geometry}})}}function w(a){return{updates:a.map(function(a){return{symbol:a.symbol}})}}function b(a){a.canUndo()?a.complete():a.cancel()}function a(a){return"requireError"in a&&"aborted"===a.requireError}var c=g.getLogger("esri.widgets.Sketch.SketchViewModel"),f=["Backspace","Delete"];return function(k){function m(a){a=
k.call(this,a)||this;a._activeFillGraphic=null;a._activeLineGraphic=null;a._centerIndicatorGraphic=null;a._centerSymbol=new Q({style:"cross",size:6,color:[255,255,255]});a._defaultSegmentOffset=48;a._handles=new l;a._internalGraphicsLayer=new N({listMode:"hide"});a._lineGraphic=null;a._operationHandle=null;a._vertexGraphics=[];a._viewHandles=new l;a._highlightHandlesByGraphic=new l;a._doUnnormalization=!1;a.activeFillSymbol=new t({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});a.activeLineSymbol=
new M({color:[12,207,255,1],width:2,style:"dash"});a.activePointSymbol=new Q({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.activeVertexSymbol=new Q({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.createGraphic=null;a.defaultCreateOptions={mode:"hybrid"};a.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform"};
a.layer=null;a.pointSymbol=new Q({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});a.polygonSymbol=new t({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});a.polylineSymbol=new M({color:[130,130,130,1],width:2});a.updateGraphics=new B;a.updateOnGraphicClick=!0;a.updatePointSymbol=new Q({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});a.updatePolygonSymbol=new t({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});a.updatePolylineSymbol=
new M({color:[12,207,255],width:2});a.vertexSymbol=new Q({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});return a}r(m,k);m.prototype.initialize=function(){var a=this;this._handles.add([J.watch(this,"layer",function(){return a.cancel()}),J.on(this,"view.map.layers","change",function(c){0<=c.removed.indexOf(a.layer)&&a.cancel()}),J.on(this,"layer.graphics","change",function(c){if(q.isSome(a._operationHandle)){var f=0;for(c=c.removed;f<c.length;f++){var k=c[f];a.updateGraphics.includes(k)&&
(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(k):b(a._operationHandle))}}})].concat(this._generateSceneViewHighlightHandles()))};m.prototype.destroy=function(){this.cancel();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=null;this._highlightHandlesByGraphic.removeAll();this._highlightHandlesByGraphic=null;this._removeDefaultLayer();this._draw&&this._draw.destroy();this._set("view",null);this.emit("destroy")};Object.defineProperty(m.prototype,
"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?"move":"transform"},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new Z({view:this.view}):null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,
"activeComponent",{get:function(){return this._operationHandle?this._operationHandle.activeComponent:null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),c=this._operationHandle;return a&&c?"active":a?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"view",{get:function(){return this._get("view")},set:function(a){var c=this,f=this._get("view");if(f){var b=f.map;f.container&&
(f.cursor=null);b&&b.remove(this._internalGraphicsLayer);this._viewHandles.removeAll();this.cancel()}this._doUnnormalization=null!=a&&"3d"===a.type&&"global"===a.viewingMode;this._handles.remove("view-ready");a&&this._handles.add(J.when(a,"ready",function(f){c._viewHandles.removeAll();f&&c._viewHandles.add(c._generateViewHandles(a))},!0),"view-ready");this._set("view",a)},enumerable:!0,configurable:!0});m.prototype.cancel=function(){this._moduleLoaderAbortController&&(this._moduleLoaderAbortController.abort(),
this._moduleLoaderAbortController=null);this._operationHandle&&this._operationHandle.cancel()};m.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};m.prototype.delete=function(){var a=this.updateGraphics;if("active"===this.state&&a.length){var c=this.activeTool,f=this.layer,a=a.toArray();f.removeMany(a);this.cancel();this._emitDeleteEvent({graphics:a,tool:c})}};m.prototype.create=function(a,c){var f=this;if("disabled"===this.state)this.layer||this._logError("sketch:missing-property",
"Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel.");else if(this.cancel(),a){var b=this._setupCreateOperation(a,c);q.isNone(b)||(aa.addUniqueLayer(this.view,this._internalGraphicsLayer),c=function(){if(b===f._operationHandle){var c=b.cancelled?"cancel":"complete",k=f.createGraphic;f._operationHandle.destroy();f._operationHandle=null;f._set("createGraphic",null);f.view&&f.view.map&&f.view.map.remove(f._internalGraphicsLayer);
b.cancelled||f.layer.add(k);f._emitCreateEvent({graphic:k,state:c,tool:a,toolEventInfo:null})}},b.on("complete",c),b.on("cancel",c),this._operationHandle=b)}else this._logError("sketch:missing-parameter","Missing parameter 'tool'.")};m.prototype.update=function(c,f){return n(this,void 0,void 0,function(){var b,k,m,e,u,C,w,g=this;return d(this,function(A){switch(A.label){case 0:b=this;k=b.layer;m=b.state;e=b.view;if("disabled"===m)return k||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),
e||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),[2];this.cancel();u=Array.isArray(c)?c:[c];return u&&u.length?(C=u.some(function(a){return a.layer!==k?(g._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),!0):q.isNone(a.geometry)?(g._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"!==e.type||e.spatialReference.equals(a.geometry.spatialReference)?
!1:(g._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)}))?[2]:[4,this._setupUpdateOperation(u,f)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),[2]);case 1:w=A.sent();if(q.isNone(w)||a(w))return[2];aa.addUniqueLayer(this.view,this._internalGraphicsLayer);this._emitUpdateEvent({graphics:u,state:"start",tool:w.tool,toolEventInfo:null});this._setUpdateOperationHandle(w);
return[2]}})})};m.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};m.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};m.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};m.prototype.canRedo=function(){return!(!this._operationHandle||!this._operationHandle.canRedo())};m.prototype.toggleUpdateTool=function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};m.prototype._getFirstHit=
function(a){return n(this,void 0,void 0,function(){var c;return d(this,function(f){switch(f.label){case 0:return[4,this.view.hitTest(a)];case 1:return c=f.sent(),0<c.results.length?[2,{screenPoint:a,results:[c.results[0]]}]:[2,{screenPoint:a,results:[]}]}})})};m.prototype._generateViewHandles=function(a){var c=this;return[a.on("immediate-click",function(a){var f=c._operationHandle,b=c.defaultUpdateOptions,k=c.layer,m=c.state,e=c.updateGraphics,u=c.updateOnGraphicClick,f="active"===m&&"create"===f.type;
"disabled"!==m&&!f&&u&&c._getFirstHit(p.createScreenPointFromEvent(a)).then(function(f){f=f.results;f.length?f.some(function(a){if(a.graphic){a=a.graphic;if(-1<e.indexOf(a))return!0;if(a.layer===k)return c.update([a],y({},b)),!0}return!1})&&a.stopPropagation():"active"===m&&c.cancel()})},S.ViewEventPriorities.WIDGET)]};m.prototype._validateCreateOperation3D=function(a){var c=this.layer&&this.layer.elevationInfo&&this.layer.elevationInfo;return c&&c.mode&&("relative-to-ground"!==c.mode||!q.isNone(c.offset)&&
0!==c.offset||"point"!==a)?"on-the-ground"===c.mode:!0};m.prototype._setupCreateOperation=function(a,c){if(!a)return null;var f=this.view;c=y({},this.defaultCreateOptions,c);if("3d"===f.type&&!this._validateCreateOperation3D(a))return this._logError("sketch:create-unsupported","Creating new graphics in SceneView is only supported for `on-the-ground` elevation modes."),null;var b;switch(a){case "point":b=this._setupCreatePointOperation(a,null);break;case "multipoint":b=this._setupCreateMultipointOperation(a,
null);break;case "polygon":case "polyline":b=this._setupCreatePolyOperation(a,c);break;case "rectangle":b=this._setupCreateRectangleOperation(a,c);break;case "circle":b=this._setupCreateCircleOperation(a,c)}return b};m.prototype._setupCreatePointOperation=function(a,c){var f=this;c=this._draw.create(a,c);var b=[c.on("cursor-update",function(a){q.isSome(a.coordinates)?f._displayCrosshairCursor():f._displayDefaultCursor()}),c.on("draw-complete",function(a){a=a.coordinates;a=new h.Point(a[0],a[1],f.view.spatialReference);
a=new H(a,f.pointSymbol);f._set("createGraphic",a);m&&m.complete()})],k=[this.view.on("key-down",function(a){"Escape"===a.key&&m&&m.cancel()},S.ViewEventPriorities.WIDGET)],m=this._operationHandleForCreateAction(c,b.concat(k),a);return m};m.prototype._setupCreateMultipointOperation=function(a,c){var f=this;c=this._draw.create(a,c);var b=null,k=[],m=this._operationHandleForCreateAction(c,k,a);k.push(c.on("vertex-add",function(c){var k=c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,
!0);f._emitCreateEvent({graphic:f.createGraphic,state:1===m.length?"start":"active",tool:a,toolEventInfo:{added:e,type:k}})}),c.on("vertex-remove",function(c){var k=c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,!0);f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:e,type:k}})}),c.on("vertex-update",function(c){var k=c.type,m=c.vertices,e=m[c.vertexIndex];b=c;f._drawMultipointGraphic(m,!0);f._emitCreateEvent({graphic:f.createGraphic,state:"active",
tool:a,toolEventInfo:{type:k,updated:e}})}),c.on("cursor-update",function(a){b=a}),c.on("draw-complete",function(a){a=a.vertices.slice(0);(a=T.createMultipoint(a,f.view.spatialReference))?(f.createGraphic&&(f.createGraphic.geometry=a),m&&m.complete()):m&&m.cancel()}),c.on("undo",function(a){a=a.vertices;var c=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,c)}),c.on("redo",function(a){a=a.vertices;var c=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();
a.length&&f._drawMultipointGraphic(a,c)}));k.push(this.view.on("pointer-move",function(){return f._displayCrosshairCursor()},S.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return f._getCommonUpdateOperationKeyDownHandlers(m,a)},S.ViewEventPriorities.WIDGET));return m};m.prototype._setupCreatePolyOperation=function(a,c){var f=this,b=null;"polyline"===a?b=this._draw.create(a,c):"polygon"===a&&(b=this._draw.create(a,c));var k=new h.Point,m=null,e=!1;c=[b.on("vertex-add",function(c){var b=
c.type,k=c.vertices,u=k[c.vertexIndex];f._snap(a,k,e);m=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:1===k.length?"start":"active",tool:a,toolEventInfo:{added:u,type:b}})}),b.on("vertex-remove",function(c){var b=c.type,k=c.vertices,u=k[c.vertexIndex];f._snap(a,k,e);m=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{removed:u,type:b}})}),b.on("vertex-update",function(c){var b=
c.type,k=c.vertices,u=k[c.vertexIndex];f._snap(a,k,e);m=c;f._drawVertexGraphics(a,k,{userClicked:!0});f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{type:b,updated:u}})}),b.on("cursor-update",function(c){var b=c.type,u=c.vertices;c.mapPoint&&(f._snap(a,u,e),m=c,k=c.mapPoint,f._drawVertexGraphics(a,u,{userClicked:!1}),1<u.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:u[u.length-1],type:b}}))}),b.on("draw-complete",
function(c){c=c.vertices.slice(0);var b=null;"polyline"===a?b=T.createPolyline([c],f.view.spatialReference,f._doUnnormalization):"polygon"===a&&(b=T.createPolygon([c],f.view.spatialReference,f._doUnnormalization,!0));b?(f.createGraphic.geometry=b,d&&d.complete()):d&&d.cancel()}),b.on("undo",function(c){c=c.vertices;var b=m&&"cursor-update"!==m.type;f._resetCreateOperationGraphics();f._snap(a,c,e);c.length&&f._drawVertexGraphics(a,c,{userClicked:b})}),b.on("redo",function(c){c=c.vertices;var b=m&&
"cursor-update"!==m.type;f._resetCreateOperationGraphics();f._snap(a,c,e);c.length&&f._drawVertexGraphics(a,c,{userClicked:b})})];var u=[this.view.on("pointer-move",function(a){f.view.toMap(p.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()},S.ViewEventPriorities.WIDGET),this.view.on("key-down",function(c){var k=b.vertices.slice(0),u=m&&"cursor-update"!==m.type;"Control"!==c.key||e||"2d"!==f.view.type?"z"===c.key&&d&&d.canUndo()?(c.stopPropagation(),d.undo()):"r"===
c.key&&d&&d.canRedo()?(c.stopPropagation(),d.redo()):"Escape"===c.key&&d&&d.cancel():(e=!0,f._snap(a,k,!u),f._drawVertexGraphics(a,k,{userClicked:u}))},S.ViewEventPriorities.WIDGET),this.view.on("key-up",function(c){var u=b.vertices.slice(0),C=m&&"cursor-update"!==m.type;"Control"===c.key&&e&&(C||(u.pop(),u.push([k.x,k.y]),f._drawVertexGraphics(a,u,{userClicked:C})),e=!1)},S.ViewEventPriorities.WIDGET)];if("polygon"===a){var C=function(a,c,b){if(!a||!a.layer||!a.visible)return!1;a=f.view.toScreen(a.geometry);
return f._isWithinScreenDistance(a,c,b)},w=function(a){if(!(2>=f._vertexGraphics.length))return C(f._vertexGraphics[0],a,f._getVertexIntersectDistance())},g=!1;u.push(this.view.on("pointer-move",function(a){g=!1;var c=w(a);f._highlightHandlesByGraphic.forEach(function(a){return c?a.pause():a.resume()})},S.ViewEventPriorities.WIDGET),this.view.on("pointer-down",function(a){w(a)?(g=!0,a.stopPropagation()):f._vertexGraphics.some(function(c){return C(c,a,f._getVertexIntersectDistance())})&&a.stopPropagation()},
S.ViewEventPriorities.WIDGET),this.view.on("pointer-up",function(a){g&&(a.stopPropagation(),b.complete())}))}var d=this._operationHandleForCreateAction(b,c.concat(u),a);return d};m.prototype._setupCreateCircleOperation=function(a,c){var f=this,b=this._draw.create(a,c),k=!1,m=!0;c=[b.on("vertex-add",function(c){var b=c.type,e=c.vertices;c=e[c.vertexIndex];f._drawSegmentGraphic(a,e,{centered:m,constrained:k});f._emitCreateEvent({graphic:f.createGraphic,state:1===e.length?"start":"active",tool:a,toolEventInfo:{added:c,
type:b}})}),b.on("cursor-update",function(c){var b=c.type;c=c.vertices;f._drawSegmentGraphic(a,c,{centered:m,constrained:k});2===c.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:c[c.length-1],type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var c=null,c=T.createViewAlignedCoordinateSystem(f.view,a[0]);1===a.length?(a.push([a[0][0]+f._defaultSegmentOffset*f.view.resolution,a[0][1]]),c=T.createCircle(a,c,!0)):c=k?T.createEllipse(a,
c,m):T.createCircle(a,c,m);f.createGraphic?f.createGraphic.geometry=c:(f._removeCreateGraphic(),f._set("createGraphic",new H(c,f.polygonSymbol)));u&&u.complete()})];var e=[this.view.on("pointer-move",function(a){f.view.toMap(p.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()},S.ViewEventPriorities.WIDGET),this.view.on("key-down",function(c){"Control"!==c.key||k?"Alt"===c.key&&m?(m=!1,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k})):"Escape"===c.key&&
u&&u.cancel():(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k}))},S.ViewEventPriorities.WIDGET),this.view.on("key-up",function(c){"Control"===c.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k})):"Alt"===c.key&&(m=!0,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k}))},S.ViewEventPriorities.WIDGET)],u=this._operationHandleForCreateAction(b,c.concat(e),a);return u};m.prototype._setupCreateRectangleOperation=function(a,c){var f=this,b=this._draw.create(a,
c),k=!1,m=!1;c=[b.on("vertex-add",function(c){var b=c.type,e=c.vertices;c=e[c.vertexIndex];f._drawSegmentGraphic(a,e,{centered:m,constrained:k});f._emitCreateEvent({graphic:f.createGraphic,state:1===e.length?"start":"active",tool:a,toolEventInfo:{added:c,type:b}})}),b.on("cursor-update",function(c){var b=c.type;c=c.vertices;f._drawSegmentGraphic(a,c,{centered:m,constrained:k});2===c.length&&f._emitCreateEvent({graphic:f.createGraphic,state:"active",tool:a,toolEventInfo:{coordinates:c[c.length-1],
type:b}})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var c=null,c=T.createViewAlignedCoordinateSystem(f.view,a[0]);1===a.length&&(m=k=!1);c=k?T.createSquare(a,c,m):T.createRectangle(a,c,m);f.createGraphic?f.createGraphic.geometry=c:(f._removeCreateGraphic(),f._set("createGraphic",new H(c,f.polygonSymbol)));u&&u.complete()})];var e=[this.view.on("pointer-move",function(a){f.view.toMap(p.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()},S.ViewEventPriorities.WIDGET),
this.view.on("key-down",function(c){"Control"!==c.key||k?"Alt"!==c.key||m?"Escape"===c.key&&u&&u.cancel():(m=!0,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k})):(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k}))},S.ViewEventPriorities.WIDGET),this.view.on("key-up",function(c){"Control"===c.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k})):"Alt"===c.key&&(m=!1,f._drawSegmentGraphic(a,b.vertices,{centered:m,constrained:k}))},S.ViewEventPriorities.WIDGET)],
u=this._operationHandleForCreateAction(b,c.concat(e),a);return u};m.prototype._setupUpdateOperation=function(a,c){return n(this,void 0,void 0,function(){var f,b,k,m,e,u,C,w,g,l,p,h;return d(this,function(A){f=this;b=f._defaultUpdateTool;k=f.defaultUpdateOptions;m=f.layer;e=f.view;u=y({},k,c);C=u.tool||b;w=0;for(g=a;w<g.length;w++)l=g[w],m.remove(l),m.add(l);if("3d"===e.type){if(0===a.length)return[2,null];switch(C){case "move":return[2,this._setupMove3DOperation(a,u,e,C)];case "reshape":if(1<a.length){this._logError("sketch:reshape-multiple",
"Reshape operation does not support multiple graphics.");break}p=V.isSupportedGraphic(a[0]);if(0===p)return[2,this._setupReshape3DOperation(a[0],u,e)];this._logError("sketch:reshape","Reshape operation not supported for provided graphic(s) ("+R.isSupportedGraphicResultMessage(p)+").");break;case "transform":return 1===a.length&&0===O.isSupportedGraphic(a[0])?[2,this._setupPointTransform3DOperation(a[0],u,e)]:[2,this._setupMove3DOperation(a,u,e,C)]}return[2,null]}if("move"===C)return[2,this._setupMoveOperation(a,
u,e)];if(1<a.length)return"reshape"===C?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,C,u,e)];if(1===a.length){l=a[0];h=q.get(l.geometry,"type");if("point"===h||"multipoint"===h)return[2,this._setupMoveOperation(a,u,e)];if("transform"===C||"reshape"===C)return[2,this._setupTransformOrReshapeOperation(a,C,u,e)]}return[2,null]})})};m.prototype._setupMove3DOperation=function(c,f,k,m,w){void 0===
w&&(w=!1);return n(this,void 0,void 0,function(){var u,C,A,g,L,U,l,p,q=this;return d(this,function(W){switch(W.label){case 0:u=0;for(C=c;u<C.length;u++)if(A=C[u],g=Y.isSupportedGraphic(A),0!==g)return this._logError("sketch:move","Move operation not supported for provided graphic(s) ("+R.isSupportedGraphicResultMessage(g)+")."),[2,null];return[4,this._requireModule(new Promise(function(a,c){F(["../../views/3d/interactive/editingTools"],a,c)}))];case 1:L=W.sent();if(a(L))return[2,L];U=new L.module.GraphicMove3DTool({view:k});
this.view.tools.add(U);U.graphics.addMany(c);w||this.updateGraphics.addMany(c);l=[];p=new ba.OperationHandle({activeComponent:U,tool:m,type:"update",onEnd:function(){l.forEach(function(a){return a.remove()});l.length=0;q.view.tools.remove(U);U.destroy()},undo:function(){X(p,q.updateGraphics.toArray());q._emitUndoEvent({graphics:q.updateGraphics.toArray(),tool:m})},redo:function(){e(p,q.updateGraphics.toArray());q._emitRedoEvent({graphics:q.updateGraphics.toArray(),tool:m})},addToSelection:function(a){q.updateGraphics.push(a);
U.graphics.push(a);q._emitUpdateEvent({graphics:q.updateGraphics.toArray(),state:"active",tool:q.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=q.updateGraphics.indexOf(a);p.history.undo.forEach(function(a){return a.updates.splice(c,1)});p.history.redo.forEach(function(a){return a.updates.splice(c,1)});q.updateGraphics.remove(a);0===q.updateGraphics.length?b(p):U.graphics.remove(a)},toggleTool:function(){return n(q,void 0,void 0,function(){var c,
b;return d(this,function(e){switch(e.label){case 0:if(1!==this.updateGraphics.length||!1===f.toggleToolOnClick||"transform"!==m)return[2];c=this.updateGraphics.getItemAt(0);return 0!==V.isSupportedGraphic(c)?[2]:[4,this._setupReshape3DOperation(c,f,k,!0)];case 1:b=e.sent();if(a(b))return[2];p.onEnd();p.destroy();this._setUpdateOperationHandle(b);return[2]}})})}});l.push.apply(l,this._getHandlesForComponent(p,f).concat([this.view.on("immediate-click",function(a){return q._getCommonUpdateOperationClickHandlers(p,
a)},S.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return q._getCommonUpdateOperationKeyDownHandlers(p,a)},S.ViewEventPriorities.WIDGET)]));return[2,p]}})})};m.prototype._setupPointTransform3DOperation=function(c,f,b){return n(this,void 0,void 0,function(){var k,m,u,C,A,w,g,l=this;return d(this,function(L){switch(L.label){case 0:return k="transform",m=f.enableRotation,u=f.enableScaling,[4,this._requireModule(new Promise(function(a,c){F(["../../views/3d/interactive/editingTools"],
a,c)}))];case 1:C=L.sent();if(a(C))return[2,C];A=new C.module.GraphicTransform3DTool({graphic:c,view:b,enableRotation:m,enableScaling:u});this.view.tools.add(A);this.updateGraphics.add(c);w=[];g=new ba.OperationHandle({activeComponent:A,tool:k,type:"update",onEnd:function(){w.forEach(function(a){return a.remove()});w.length=0;l.view.tools.remove(A);A.destroy()},undo:function(){X(g,l.updateGraphics.toArray());l._emitUndoEvent({graphics:l.updateGraphics.toArray(),tool:k})},redo:function(){e(g,l.updateGraphics.toArray());
l._emitRedoEvent({graphics:l.updateGraphics.toArray(),tool:k})},addToSelection:function(c){return n(l,void 0,void 0,function(){var k;return d(this,function(m){switch(m.label){case 0:return this.updateGraphics.add(c),[4,this._setupMove3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:k=m.sent();if(a(k))return[2];g.onEnd();g.destroy();this._setUpdateOperationHandle(k);return[2]}})})}});w.push.apply(w,this._getHandlesForComponent(g,f).concat([this.view.on("immediate-click",function(a){return l._getCommonUpdateOperationClickHandlers(g,
a)},S.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return l._getCommonUpdateOperationKeyDownHandlers(g,a)},S.ViewEventPriorities.WIDGET)]));return[2,g]}})})};m.prototype._setupMoveOperation=function(c,f,k){return n(this,void 0,void 0,function(){var m,u,C,A,w,g,l=this;return d(this,function(d){switch(d.label){case 0:return m=[],u="move",c.forEach(function(a){m.push(new H(a.geometry,a.symbol,a.attributes));a.symbol=l._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(c),[4,
this._getGraphicMover(c,f,k)];case 1:C=d.sent();if(a(C))return[2,C];A=new ba.OperationHandle({activeComponent:C,tool:u,type:"update",onEnd:function(){g.forEach(function(a){return a.remove()});w.forEach(function(a){return a.remove()});g=[];w=[];C.destroy();l._internalGraphicsLayer&&l._internalGraphicsLayer.removeMany(l.updateGraphics.toArray());l.updateGraphics.forEach(function(a,c){a.symbol=m[c].symbol})},undo:function(){X(A,l.updateGraphics.toArray());l._emitUndoEvent({graphics:l.updateGraphics.toArray(),
tool:u})},redo:function(){e(A,l.updateGraphics.toArray());l._emitRedoEvent({graphics:l.updateGraphics.toArray(),tool:u})},addToSelection:function(a){m.push(new H(a.geometry,a.symbol,a.attributes));a.symbol=l._getUpdateSymbol(a.geometry);l.updateGraphics.push(a);C.graphics=l.updateGraphics.toArray();l._emitUpdateEvent({graphics:l.updateGraphics.toArray(),state:"active",tool:l.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=l.updateGraphics.indexOf(a);
A.history.undo.forEach(function(a){return a.updates.splice(c,1)});A.history.redo.forEach(function(a){return a.updates.splice(c,1)});var f=m.splice(c,1)[0];a.symbol=f.symbol;l.updateGraphics.remove(a);0===l.updateGraphics.length?b(A):C.graphics=l.updateGraphics.toArray()}});w=[k.on("immediate-click",function(a){return l._getCommonUpdateOperationClickHandlers(A,a,f)},S.ViewEventPriorities.WIDGET),k.on("key-down",function(a){l._getCommonUpdateOperationKeyDownHandlers(A,a);"Control"!==a.key||a.repeat||
(C.enableMoveAllGraphics=!C.enableMoveAllGraphics)},S.ViewEventPriorities.WIDGET),k.on("key-up",function(a){"Control"===a.key&&(C.enableMoveAllGraphics=!C.enableMoveAllGraphics)},S.ViewEventPriorities.WIDGET)];g=this._getHandlesForComponent(A,f);return[2,A]}})})};m.prototype._setupReshape3DOperation=function(c,f,b,k){void 0===k&&(k=!1);return n(this,void 0,void 0,function(){var m,u,C,A,w,g=this;return d(this,function(L){switch(L.label){case 0:return m="reshape",[4,this._requireModule(new Promise(function(a,
c){F(["../../views/3d/interactive/editingTools"],a,c)}))];case 1:u=L.sent();if(a(u))return[2,u];C=new u.module.GraphicReshape3DTool({view:b,graphic:c});b.tools.add(C);k||this.updateGraphics.add(c);A=[];w=new ba.OperationHandle({activeComponent:C,tool:m,type:"update",onEnd:function(){A.forEach(function(a){return a.remove()});A.length=0;b.tools.remove(C);C.destroy()},undo:function(){X(w,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:m})},redo:function(){e(w,g.updateGraphics.toArray());
g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:m})},addToSelection:function(c){return n(g,void 0,void 0,function(){var k;return d(this,function(m){switch(m.label){case 0:return this.updateGraphics.add(c),[4,this._setupMove3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:k=m.sent();if(a(k))return[2];w.onEnd();w.destroy();this._setUpdateOperationHandle(k);return[2]}})})},toggleTool:function(){return n(g,void 0,void 0,function(){var c;return d(this,function(k){switch(k.label){case 0:return!1===
f.toggleToolOnClick?[2]:[4,this._setupMove3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:c=k.sent();if(a(c))return[2];w.onEnd();w.destroy();this._setUpdateOperationHandle(c);return[2]}})})}});A.push.apply(A,this._getHandlesForComponent(w,f).concat([b.on("immediate-click",function(a){return g._getCommonUpdateOperationClickHandlers(w,a)},S.ViewEventPriorities.WIDGET),b.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(w,a)},S.ViewEventPriorities.WIDGET)]));
return[2,w]}})})};m.prototype._setupTransformOrReshapeOperation=function(c,f,k,m){return n(this,void 0,void 0,function(){var u,C,A,w,g,L,l,h,t,r,G=this;return d(this,function(U){switch(U.label){case 0:return u=k.multipleSelectionEnabled,C=void 0===u?!0:u,A=k.toggleToolOnClick,w=void 0===A?!0:A,g=[],c.forEach(function(a){g.push(new H(a.geometry,a.symbol,a.attributes));a.symbol=G._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(c),"transform"!==f?[3,2]:[4,this._getBox(c,k,m)];case 1:return l=
U.sent(),[3,4];case 2:return[4,this._getReshape(c,k,m)];case 3:l=U.sent(),U.label=4;case 4:L=l;if(a(L))return[2,L];h=new ba.OperationHandle({activeComponent:L,type:"update",onEnd:function(){r.forEach(function(a){return a.remove()});t.forEach(function(a){return a.remove()});r=[];t=[];h.activeComponent&&!h.activeComponent.destroyed&&h.activeComponent.destroy();G._internalGraphicsLayer.removeMany(G.updateGraphics.toArray());G.updateGraphics.forEach(function(a,c){g[c]&&g[c].symbol&&(a.symbol=g[c].symbol)})},
undo:function(){X(h,G.updateGraphics.toArray());h.refreshComponent();G._emitUndoEvent({graphics:G.updateGraphics.toArray(),tool:h.tool})},redo:function(){e(h,G.updateGraphics.toArray());h.refreshComponent();G._emitRedoEvent({graphics:G.updateGraphics.toArray(),tool:h.tool})},addToSelection:function(a){var c=h.activeComponent;g.push(new H(a.geometry,a.symbol,a.attributes));a.symbol=G._getUpdateSymbol(a.geometry);G.updateGraphics.add(a);c.graphics=G.updateGraphics.toArray();c.refresh();h.resetHistory();
G._emitUpdateEvent({graphics:G.updateGraphics.toArray(),state:"active",tool:G.activeTool,toolEventInfo:{added:[a],type:"selection-change"}})},removeFromSelection:function(a){var c=h.activeComponent,f=G.updateGraphics.indexOf(a);h.history.undo.forEach(function(a){return a.updates.splice(f,1)});h.history.redo.forEach(function(a){return a.updates.splice(f,1)});var k=g.splice(f,1)[0];a.symbol=k.symbol;G.updateGraphics.remove(a);0===G.updateGraphics.length?b(h):c.graphics=G.updateGraphics.toArray()},toggleTool:function(){return n(G,
void 0,void 0,function(){var f;return d(this,function(b){switch(b.label){case 0:if(1<this.updateGraphics.length)return[2];f=null;return"transform"!==h.tool?[3,2]:[4,this._getReshape(c,k,m)];case 1:return f=b.sent(),[3,4];case 2:return"reshape"!==h.tool?[3,4]:[4,this._getBox(c,k,m)];case 3:f=b.sent(),b.label=4;case 4:if(a(f))return[2];h.activeComponent.destroy();h.activeComponent=f;h.activeComponent&&(r.forEach(function(a){return a.remove()}),r=this._getHandlesForComponent(h,k));return[2]}})})}});
t=[m.on("immediate-click",function(a){G._getFirstHit(p.createScreenPointFromEvent(a)).then(function(c){if(h)if(c=c.results,c.length){var f=h.activeComponent,k=a.native&&a.native.shiftKey;c.some(function(a){if(a.graphic){a=a.graphic;if(C&&k&&f&&"box"===f.type&&!f.isUIGraphic(a))return h.addToSelection(a),!0;if(f&&"box"===f.type&&f.isUIGraphic(a))return!1!==w&&1===G.updateGraphics.length&&(a=G.updateGraphics.getItemAt(0).geometry,"extent"===q.get(a,"type")?G._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):
h.toggleTool()),!0;if(f&&"reshape"===f.type){if(a===f.graphic)return!1!==w&&h.toggleTool(),!0;if(f.isUIGraphic(a)||a.layer===G._internalGraphicsLayer)return!0}else a.layer===G.layer&&b(h)}return!1})&&a.stopPropagation()}else b(h)})},S.ViewEventPriorities.WIDGET),m.on("key-down",function(a){G._getCommonUpdateOperationKeyDownHandlers(h,a);"Control"===a.key&&!a.repeat&&h&&(a=h.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)},S.ViewEventPriorities.WIDGET),m.on("key-up",
function(a){"Control"===a.key&&h&&(a=h.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)},S.ViewEventPriorities.WIDGET)];r=this._getHandlesForComponent(h,k);return[2,h]}})})};m.prototype._getGraphicMover=function(c,f,b){return n(this,void 0,void 0,function(){var k,m,e,u=this;return d(this,function(C){switch(C.label){case 0:return k=f.enableMoveAllGraphics,m=void 0===k?!0:k,[4,this._requireModule(new Promise(function(a,c){F(["../../views/draw/support/GraphicMover"],a,
c)}))];case 1:return e=C.sent(),a(e)?[2,e]:[2,new e.module({enableMoveAllGraphics:m,graphics:c,view:b,callbacks:{onGraphicMoveStart:function(a){var c=a.dx,f=a.dy;a=a.graphic;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-start"}})},onGraphicMove:function(a){var c=a.dx,f=a.dy;a=a.graphic;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,
mover:a,type:"move"}})},onGraphicMoveStop:function(a){var c=a.dx,f=a.dy;a=a.graphic;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,mover:a,type:"move-stop"}})},onGraphicPointerOver:function(){return u._displayDefaultCursor()},onGraphicPointerOut:function(){return u._displayDefaultCursor()}}})]}})})};m.prototype._getBox=function(c,f,b){return n(this,void 0,void 0,function(){var k,m,e,u,C,A,w,g=this;return d(this,function(d){switch(d.label){case 0:return k=
f.enableRotation,m=void 0===k?!0:k,e=f.enableScaling,u=void 0===e?!0:e,C=f.preserveAspectRatio,A=void 0===C?!1:C,[4,this._requireModule(new Promise(function(a,c){F(["../../views/draw/support/Box"],a,c)}))];case 1:return w=d.sent(),a(w)?[2,w]:[2,new w.module({graphics:c,enableRotation:m,enableScaling:u,preserveAspectRatio:A,layer:this._internalGraphicsLayer,view:b,callbacks:{onMoveStart:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},
a)})},onMove:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onMoveStop:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onScaleStart:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onScale:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),
state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onScaleStop:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onRotateStart:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onRotate:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),state:"active",tool:g.activeTool,toolEventInfo:y({},a)})},onRotateStop:function(a){return g._emitUpdateEvent({graphics:g.updateGraphics.toArray(),
state:"active",tool:g.activeTool,toolEventInfo:y({},a)})}}})]}})})};m.prototype._getReshape=function(c,f,b){return n(this,void 0,void 0,function(){var k,m,e,u=this;return d(this,function(C){switch(C.label){case 0:return k=f.enableMidpoints,m=void 0===k?!0:k,[4,this._requireModule(new Promise(function(a,c){F(["../../views/draw/support/Reshape"],a,c)}))];case 1:return e=C.sent(),a(e)?[2,e]:[2,new e.module({enableMidpoints:m,graphic:c[0],layer:this._internalGraphicsLayer,view:b,callbacks:{onReshapeStart:function(a){return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),
state:"active",tool:u.activeTool,toolEventInfo:y({},a)})},onReshape:function(a){return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:y({},a)})},onReshapeStop:function(a){var c=a.mover;a=a.type;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{mover:c,type:a}})},onMoveStart:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),
state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMove:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onMoveStop:function(a){var c=a.dx,f=a.dy,b=a.mover;a=a.type;return u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{dx:c,dy:f,mover:b,type:a}})},onVertexAdd:function(a){var c=
a.type;a=a.added.map(function(a){return K.geometryToCoordinates(a.geometry)});u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{added:a,type:c}})},onVertexRemove:function(a){var c=a.type;a=a.removed.map(function(a){return K.geometryToCoordinates(a.geometry)});u._emitUpdateEvent({graphics:u.updateGraphics.toArray(),state:"active",tool:u.activeTool,toolEventInfo:{removed:a,type:c}})}}})]}})})};m.prototype._getHandlesForComponent=function(a,c){var f=
this,b=a.activeComponent;switch(b.type){case "graphic-mover":return[b.on("graphic-move-start",function(c){return a.addToHistory(G(c.allGraphics))})];case "box":return[b.on("move-start",function(c){return a.addToHistory(G(c.graphics))}),b.on("rotate-start",function(c){return a.addToHistory(G(c.graphics))}),b.on("scale-start",function(c){return a.addToHistory(G(c.graphics))})];case "reshape":return[b.on("move-start",function(c){return a.addToHistory(G([c.mover]))}),b.on("reshape-start",function(c){return a.addToHistory(G([c.graphic]))}),
b.on("vertex-add",function(c){return a.addToHistory(G([c.oldGraphic]))}),b.on("vertex-remove",function(c){return a.addToHistory(G([c.oldGraphic]))})];case "move-3d":return[b.on("graphic-move-start",function(c){a.addToHistory(G(c.allGraphics));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<c.allGraphics.length?c.allGraphics[0]:null,type:"move-start"}})}),b.on("graphic-move",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),
state:"active",tool:f.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move"}})}),b.on("graphic-move-stop",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"}})}),b.on("immediate-click",function(b){b.shiftKey?f._toggleSelection([b.graphic],a,c):a.toggleTool()})];case "transform-3d":return[b.on("graphic-translate-start",
function(c){a.addToHistory(G([c.graphic]));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:c.graphic,dx:0,dy:0,type:"move-start"}})}),b.on("graphic-translate-stop",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:a.graphic,dx:0,dy:0,type:"move-stop"}})}),b.on("graphic-rotate-start",function(c){a.addToHistory(w([c.graphic]));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),
state:"active",tool:f.activeTool,toolEventInfo:{mover:c.graphic,angle:0,type:"rotate-start"}})}),b.on("graphic-rotate-stop",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:a.graphic,angle:0,type:"rotate-stop"}})}),b.on("graphic-scale-start",function(c){a.addToHistory(w([c.graphic]));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:c.graphic,xScale:1,yScale:1,type:"scale-start"}})}),
b.on("graphic-scale-stop",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:a.graphic,xScale:1,yScale:1,type:"scale-stop"}})}),b.on("graphic-translate",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dx,dy:a.dy,type:"move"}})}),b.on("graphic-rotate",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,
toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate"}})}),b.on("graphic-scale",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"}})})];case "reshape-3d":return[b.on("reshape",function(c){"reshape-start"===c.type&&a.addToHistory(G([c.mover]));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:c})}),b.on("move",function(c){"move-start"===
c.type&&a.addToHistory(G([c.mover]));f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:c})}),b.on("vertex-add",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:a})}),b.on("vertex-remove",function(a){f._emitUpdateEvent({graphics:f.updateGraphics.toArray(),state:"active",tool:f.activeTool,toolEventInfo:a})}),b.on("immediate-click",function(){return a.toggleTool()})];case "draw":return null;
default:D.neverReached(b)}};m.prototype._setUpdateOperationHandle=function(a){var c=this;this._operationHandle=a;var f=this.view,b=f.map,k=f.popup,m=!0;k&&(m=k.autoOpenEnabled,k.autoOpenEnabled=!1);f=function(){if(a===c._operationHandle){var f=a.cancelled?"cancel":"complete",e=c.updateGraphics.toArray(),u=c._operationHandle.tool;c._operationHandle.destroy();c._operationHandle=null;c._internalGraphicsLayer.removeMany(c.updateGraphics.toArray());c.updateGraphics.removeAll();b&&b.remove(c._internalGraphicsLayer);
k&&(k.autoOpenEnabled=m);c._emitUpdateEvent({graphics:e,state:f,tool:u,toolEventInfo:null})}};a.on("complete",f);a.on("cancel",f)};m.prototype._getCommonUpdateOperationClickHandlers=function(a,c,f){var k=this,m=p.createScreenPointFromEvent(c);this._getFirstHit(m).then(function(m){m=m.results;m.length?c.native.shiftKey&&k._toggleSelection(m.map(function(a){return a.graphic}),a,f)?c.stopPropagation():m.some(function(a){return a.graphic&&-1<k.updateGraphics.indexOf(a.graphic)})?c.stopPropagation():b(a):
b(a)})};m.prototype._toggleSelection=function(a,c,f){var b=this,k=f?!!f.multipleSelectionEnabled:!0;return a.some(function(a){return null==a?!1:k&&a.layer===b.layer?(-1===b.updateGraphics.indexOf(a)?c.addToSelection(a):c.removeFromSelection(a),!0):!1})};m.prototype._getCommonUpdateOperationKeyDownHandlers=function(a,c){if(a){var k=c.key;"z"===k&&a.canUndo()?(c.stopPropagation(),a.undo()):"r"===k&&a.canRedo()?(c.stopPropagation(),a.redo()):"Escape"===k?b(a):0<=f.indexOf(k)&&this._onDeleteKey()}};m.prototype._onDeleteKey=
function(){if(this._operationHandle&&"update"===this._operationHandle.type){var a=this.activeComponent;a&&"reshape"!==a.type&&"reshape-3d"!==a.type&&(a=this.updateGraphics.toArray(),this.layer.removeMany(a),this._emitDeleteEvent({graphics:a,tool:this.activeTool}))}};m.prototype._getCreateSymbol=function(a,c){void 0===c&&(c=!1);c="3d"!==this.view.type&&c;switch(a.type){case "point":case "multipoint":return c?this.activePointSymbol:this.pointSymbol;case "polyline":return c?this.activeLineSymbol:this.polylineSymbol;
case "polygon":return c?this.activeFillSymbol:this.polygonSymbol}return null};m.prototype._getUpdateSymbol=function(a){if(q.isNone(a))return null;switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;case "polygon":case "extent":return this.updatePolygonSymbol}return null};m.prototype._drawMultipointGraphic=function(a,c){var f=null;!c&&1<a.length?(f=a.slice(0),f.pop(),f=T.createMultipoint(f,this.view.spatialReference)):f=T.createMultipoint(a,
this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new H(f,this.pointSymbol));c&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};m.prototype._drawVertexGraphics=function(a,c,f){f=!(!f||!f.userClicked);var b="polygon"===a,k=b?this.polygonSymbol:this.polylineSymbol;if(1===c.length){this._removeLineGraphic();this._removeActiveLineGraphic();a=c[0];var m=a[0],e=a[1],u=new h.Point(m,e,this.view.spatialReference),b=b?T.createPolygon([c],
this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([c],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=u:this._vertexGraphics.push(new H(u,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=b:this._set("createGraphic",new H(b,k));f&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===c.length)k=c[1],m=k[0],e=k[1],a=new h.Point(m,e,this.view.spatialReference),m=this.vertexSymbol,
k=T.createPolyline([c],this.view.spatialReference,this._doUnnormalization),b=b?T.createPolygon([c],this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([c],this.view.spatialReference,this._doUnnormalization),this._vertexGraphics.length||(c=c[0],u=new h.Point(c[0],c[1],this.view.spatialReference),c=new H(u,m),this._vertexGraphics.push(c)),1===this._vertexGraphics.length?(c=this._vertexGraphics[0],a=new H(a,m),this._removeLineGraphic(),this._removeActiveFillGraphic(),this._vertexGraphics.push(a),
this._internalGraphicsLayer.remove(c),this._internalGraphicsLayer.add(c)):this._vertexGraphics[1].geometry=a,this._showActiveLineGraphic(k),c=this._vertexGraphics[0],f&&(this._activeLineGraphic.symbol=this.polylineSymbol,c.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1])),this.createGraphic?this.createGraphic.geometry=b:this._set("createGraphic",new H(b,this.polygonSymbol)),this._internalGraphicsLayer.remove(c),this._internalGraphicsLayer.add(c);else if(2<c.length){b=
b?T.createPolygon([c],this.view.spatialReference,this._doUnnormalization,!0):T.createPolyline([c],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(b);a=c.map(function(a){return[a[0],a[1]]});m=a.pop();u=[a[a.length-1],m];m=T.createPolyline([a],this.view.spatialReference,this._doUnnormalization);u=T.createPolyline([u],this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(m);this._showActiveLineGraphic(u);for(u=0;u<a.length;u++)(m=this._vertexGraphics[u])?
m.symbol=f||u!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(e=c[u],m=e[0],e=e[1],this._showVertexGraphic(new h.Point(m,e,this.view.spatialReference)));f?(this._activeLineGraphic.symbol=this.polylineSymbol,f=c[c.length-1],m=f[0],e=f[1],this._showVertexGraphic(new h.Point(m,e,this.view.spatialReference))):this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?this.createGraphic.geometry=b:(this._removeCreateGraphic(),this._set("createGraphic",new H(b,k)));
f=0;for(b=this._vertexGraphics;f<b.length;f++)c=b[f],this._internalGraphicsLayer.remove(c),this._internalGraphicsLayer.add(c)}};m.prototype._drawSegmentGraphic=function(a,c,f){if(c.length){var b=T.createViewAlignedCoordinateSystem(this.view,c[0]),k=!(!f||!f.centered);f=!(!f||!f.constrained);var m=null;1===c.length?this._removeCenterIndicatorGraphic():("rectangle"===a?m=f?T.createSquare(c,b,k):T.createRectangle(c,b,k):"circle"===a&&(m=f?T.createEllipse(c,b,k):T.createCircle(c,b,k)),m.extent&&m.extent.center&&
this._showCenterIndicatorGraphic(m.extent.center));m?this.createGraphic?this.createGraphic.geometry=m:(this._removeCreateGraphic(),this._set("createGraphic",new H(m,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};m.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new H(a,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};
m.prototype._removeCenterIndicatorGraphic=function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};m.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=new H(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,0))};m.prototype._showFillGraphic=function(a){this._activeFillGraphic?
this._activeFillGraphic.geometry=a:(this._activeFillGraphic=new H(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};m.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new H(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,0))};m.prototype._showVertexGraphic=function(a,c){a=new H(a,c?this.activeVertexSymbol:this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};
m.prototype._resetCreateOperationGraphics=function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};m.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};m.prototype._removeCreateOperationGraphics=function(){this._removeCenterIndicatorGraphic();this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();
this._removeVertexGraphics()};m.prototype._removeActiveLineGraphic=function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};m.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)};m.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),
this._lineGraphic.destroy(),this._lineGraphic=null)};m.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};m.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&(this.view&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};m.prototype._operationHandleForCreateAction=
function(a,c,f){var b=this;return new ba.OperationHandle({activeComponent:this._draw,tool:f,type:"create",onEnd:function(){c.forEach(function(a){return a.remove()});c.length=0;b._removeCreateOperationGraphics();b._internalGraphicsLayer&&b._internalGraphicsLayer.remove(b.createGraphic);b._displayDefaultCursor()},undo:function(){a.undo();b._emitUndoEvent({graphics:[b.createGraphic],tool:f})},redo:function(){a.redo();b._emitRedoEvent({graphics:[b.createGraphic],tool:f})},canUndo:function(){return a&&
a.canUndo()},canRedo:function(){return a&&a.canRedo()}})};m.prototype._snap=function(a,c,f){f&&this._snapLastVertexToAxis(c);"polygon"===a&&this._snapLastPolygonVertexToFirst(c)};m.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var c=a[0];a=a[a.length-1];var f=this.view.toScreen(new h.Point(c[0],c[1],this.view.spatialReference)),b=this.view.toScreen(new h.Point(a[0],a[1],this.view.spatialReference));this._isWithinScreenDistance(f,b,this._getVertexIntersectDistance())&&(a[0]=
c[0],a[1]=c[1])}};m.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?p.pt2px(this.vertexSymbol.size)/2+3:3};m.prototype._isWithinScreenDistance=function(a,c,f){var b=a.x-c.x;a=a.y-c.y;return Math.sqrt(b*b+a*a)<=f};m.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var c=a.pop(),f=a[a.length-1],b=T.createViewAlignedCoordinateSystem(this.view,f),f=b.mapToLocal(f),c=b.mapToLocal(c),k=Math.abs(c.x-f.x),m=Math.abs(c.y-f.y),
b=b.localToMap(T.makeSurfacePoint(k>m?c.x:f.x,k>m?f.y:c.y));a.push(b)}};m.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};m.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};m.prototype._logError=function(a,f,b){c.error(new z(a,f,b))};m.prototype._generateSceneViewHighlightHandles=function(){var a=this,c=function(c,f){var b=a.view;
if(b&&"2d"!==b.type){var k=b.allLayerViews.find(function(a){return a.layer.uid===f.uid});k&&(c.added&&c.added.forEach(function(c){a._highlightHandlesByGraphic.add(k.highlight(c),c.uid)}),c.removed&&c.removed.forEach(function(c){a._highlightHandlesByGraphic.remove(c.uid)}))}};return[this.updateGraphics.on("after-add",function(f){c({added:[f.item]},a.layer)}),this.updateGraphics.on("after-remove",function(f){c({removed:[f.item]},a.layer)}),this._internalGraphicsLayer.graphics.on("after-add",function(f){c({added:[f.item]},
a._internalGraphicsLayer)}),this._internalGraphicsLayer.graphics.on("after-remove",function(f){c({removed:[f.item]},a._internalGraphicsLayer)}),J.on(this,"view.allLayerViews","change",function(f){if(f.added){var b=0;for(f=f.added;b<f.length;b++){var k=f[b];k.layer===a.layer?c({added:a.updateGraphics.toArray(),removed:[]},k.layer):k.layer===a._internalGraphicsLayer&&c({added:a._internalGraphicsLayer.graphics.toArray(),removed:[]},k.layer)}}})]};m.prototype._requireModule=function(a){return n(this,
void 0,void 0,function(){var c,f;return d(this,function(b){switch(b.label){case 0:return this._moduleLoaderAbortController=c=new AbortController,[4,a];case 1:return f=b.sent(),this._moduleLoaderAbortController!==c||c.signal.aborted?[2,{requireError:"aborted"}]:[2,{module:f}]}})})};m.prototype._emitCreateEvent=function(a){this.emit("create",y({},a,{type:"create"}))};m.prototype._emitUpdateEvent=function(a){this.emit("update",y({},a,{type:"update"}))};m.prototype._emitUndoEvent=function(a){this.emit("undo",
y({},a,{type:"undo"}))};m.prototype._emitRedoEvent=function(a){this.emit("redo",y({},a,{type:"redo"}))};m.prototype._emitDeleteEvent=function(a){this.emit("delete",y({},a,{type:"delete"}))};x([P.property({dependsOn:["state"],readOnly:!0})],m.prototype,"_draw",null);x([P.property()],m.prototype,"_operationHandle",void 0);x([P.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],m.prototype,"activeTool",null);x([P.property()],m.prototype,"activeFillSymbol",void 0);x([P.property()],
m.prototype,"activeLineSymbol",void 0);x([P.property()],m.prototype,"activePointSymbol",void 0);x([P.property()],m.prototype,"activeVertexSymbol",void 0);x([P.property({readOnly:!0})],m.prototype,"createGraphic",void 0);x([P.property()],m.prototype,"defaultCreateOptions",void 0);x([P.property()],m.prototype,"defaultUpdateOptions",void 0);x([P.property()],m.prototype,"layer",void 0);x([P.property({types:I.symbolTypes})],m.prototype,"pointSymbol",void 0);x([P.property({types:I.symbolTypes})],m.prototype,
"polygonSymbol",void 0);x([P.property({types:I.symbolTypes})],m.prototype,"polylineSymbol",void 0);x([P.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],m.prototype,"state",null);x([P.property({readOnly:!0})],m.prototype,"updateGraphics",void 0);x([P.property()],m.prototype,"updateOnGraphicClick",void 0);x([P.property({types:I.symbolTypes})],m.prototype,"updatePointSymbol",void 0);x([P.property({types:I.symbolTypes})],m.prototype,"updatePolygonSymbol",void 0);x([P.property({types:I.symbolTypes})],
m.prototype,"updatePolylineSymbol",void 0);x([P.property({types:I.symbolTypes})],m.prototype,"vertexSymbol",void 0);x([P.property({value:null})],m.prototype,"view",null);x([P.property()],m.prototype,"cancel",null);x([P.property()],m.prototype,"complete",null);x([P.property()],m.prototype,"delete",null);x([P.property()],m.prototype,"create",null);x([P.property()],m.prototype,"update",null);x([P.property()],m.prototype,"undo",null);x([P.property()],m.prototype,"redo",null);x([P.property()],m.prototype,
"canUndo",null);x([P.property()],m.prototype,"canRedo",null);x([P.property()],m.prototype,"toggleUpdateTool",null);return m=x([P.subclass("esri.widgets.Sketch.SketchViewModel")],m)}(P.declared(E.EventedAccessor))})},"esri/views/3d/interactive/editingTools/isSupportedGraphicUtils":function(){define(["require","exports","../../../../core/compilerUtils"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.isSupportedGraphicResultMessage=function(r){switch(r){case 0:break;case 1:return"not owned by a graphics layer";
case 2:return"no geometry";case 3:return"the geometry type is not supported";case 4:return"the elevation mode is not supported";case 5:return"the symbol type is not supported";default:y.neverReached(r)}return""}})},"esri/views/3d/interactive/editingTools/graphicMove3D/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../support/elevationInfoUtils ../../../../../support/featureFlags".split(" "),function(F,v,y,r,x,d){Object.defineProperty(v,
"__esModule",{value:!0});v.isSupportedGraphic=function(n){if("graphics"!==n.layer.type)return 1;if(r.isNone(n.geometry))return 2;var h=n.geometry.type;switch(h){case "polygon":case "point":case "polyline":break;case "multipoint":case "extent":case "mesh":return 3;default:return y.neverReached(h),3}h=x.getGraphicEffectiveElevationMode(n);return"on-the-ground"===h||d.enableEditing3D()&&"absolute-height"===h&&!x.hasGraphicFeatureExpressionInfo(n)?0:4}})},"esri/support/elevationInfoUtils":function(){define(["require",
"exports","../core/maybe"],function(F,v,y){function r(d,h){var n=y.isSome(d)?d.hasZ:!1;return y.isNone(h)?n?"absolute-height":"on-the-ground":"relative-to-ground"!==h.mode||!y.isNone(h.offset)&&0!==h.offset||!y.isSome(d)||"point"!==d.type||n&&0!==d.z?h.mode:"on-the-ground"}function x(n){var h=d(n);return r(n.geometry,h)}function d(d){return d.layer&&"elevationInfo"in d.layer?d.layer.elevationInfo:null}Object.defineProperty(v,"__esModule",{value:!0});v.getGeometryEffectiveElevationMode=r;v.getGraphicEffectiveElevationMode=
x;v.getGraphicEffectiveElevationInfo=function(n){var h=d(n);n=r(n.geometry,h);var x=y.isSome(h)&&"on-the-ground"!==n?h.offset:0,h=y.isSome(h)&&"on-the-ground"!==n?h.featureExpressionInfo:null;return{mode:n,offset:x,featureExpressionInfo:h}};v.hasGraphicFeatureExpressionInfo=function(n){if("on-the-ground"===x(n))return!1;n=d(n);n=y.isSome(n)&&n.featureExpressionInfo?n.featureExpressionInfo.expression:null;return!(!n||"0"===n)}})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils ../../../../../support/featureFlags".split(" "),
function(F,v,y,r,x,d,n){Object.defineProperty(v,"__esModule",{value:!0});v.isSupportedGraphic=function(h){if("graphics"!==h.layer.type)return 1;var v=h.geometry;if(r.isNone(v))return 2;var I=v.type;switch(I){case "polygon":if(v instanceof x)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return y.neverReached(I),3}v=d.getGraphicEffectiveElevationMode(h);return"on-the-ground"===v||n.enableEditing3D()&&"absolute-height"===v&&!d.hasGraphicFeatureExpressionInfo(h)?
0:4}})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){return function(z){function v(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];g=z.apply(this,g)||this;g.center=null;g.geodesic=
!1;g.numberOfPoints=60;g.radius=1E3;g.radiusUnit="meters";return g}r(v,z);l=v;v.prototype.normalizeCtorArgs=function(g,d){var l;if(g&&g.center)l=g;else{if(g&&g.rings)return this.inherited(arguments);l={center:g}}return y({},this.inherited(arguments,[]),l,d)};v.prototype.initialize=function(){var g=this.center,l=this.numberOfPoints;this.hasZ=g&&g.hasZ;if(0===this.rings.length&&g){var p=d.convertUnit(this.radius,this.radiusUnit,"meters"),h=g.spatialReference,n="geographic";if(h.isWebMercator)n="webMercator";
else if(null!=D[h.wkid]||h.wkt&&0===h.wkt.indexOf("PROJCS"))n="projected";if(this.geodesic){h=void 0;switch(n){case "webMercator":h=B.webMercatorToGeographic(g);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":h=g}g=this._createGeodesicCircle(h,p,l);"webMercator"===n&&(g=B.geographicToWebMercator(g))}else h=void 0,"webMercator"===n||"projected"===n?h=p/this._convert2Meters(1,
g.spatialReference):"geographic"===n&&(h=d.lengthToDegrees(p,"meters")),g=this._createPlanarCircle(g,h,l);this.spatialReference=g.spatialReference;this.addRing(g.rings[0])}};v.prototype.clone=function(){var g=this.numberOfPoints,d=this.radius,p=this.radiusUnit,h=this.geodesic;return new l({center:this.center.clone(),numberOfPoints:g,radius:d,radiusUnit:p,geodesic:h})};v.prototype._createGeodesicCircle=function(g,d,l){for(var p=0,h=[];360>p;){var q=[0,0];I.directGeodeticSolver(q,[g.x,g.y],p,d);this.hasZ&&
q.push(g.z);h.push(q);p+=360/l}h.push(h[0]);return new H(h)};v.prototype._createPlanarCircle=function(g,d,l){for(var p=0,h=[];p<2*Math.PI;){var q=[g.x+Math.cos(-p)*d,g.y+Math.sin(-p)*d];this.hasZ&&q.push(g.z);h.push(q);p+=Math.PI/(l/2)}h.push(h[0]);return new H({spatialReference:g.spatialReference,rings:[h]})};v.prototype._convert2Meters=function(g,d){if(null!=D[d.wkid])d=D.values[D[d.wkid]];else{d=d.wkt;var l=d.lastIndexOf(",")+1,h=d.lastIndexOf("]]");d=parseFloat(d.substring(l,h))}return g*d};var l;
x([n.property({type:h})],v.prototype,"center",void 0);x([n.property()],v.prototype,"geodesic",void 0);x([n.property()],v.prototype,"numberOfPoints",void 0);x([n.property()],v.prototype,"radius",void 0);x([n.property()],v.prototype,"radiusUnit",void 0);return v=l=x([n.subclass("esri.geometry.Circle")],v)}(n.declared(H))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils".split(" "),function(F,v,y,r,x,d){function n(d){if(!d||
!d.isGeographic)return null;if(d.wkid){var l=q[d.wkid];if(l)return l}if(d.wkt){d=g.exec(d.wkt);if(!d||2!==d.length)return null;l=d[1].split(",");if(!l||3!==l.length)return null;d=parseFloat(l[1]);l=parseFloat(l[2]);return isNaN(d)||isNaN(l)?null:{a:d,f:0===l?0:1/l}}return null}function h(g){g=n(g||l);if("b"in g&&"eSq"in g&&"radius"in g)return g;var d=g.a*(1-g.f);return y.assign(g,{b:d,eSq:1-Math.pow(d/g.a,2),radius:(2*g.a+d)/3})}function H(g,d,l){var p=h(l);l=p.a;var p=p.eSq,q=Math.sqrt(p),t=Math.sin(d[1]*
E);d=l*d[0]*E;l=0<p?l*(1-p)*(t/(1-p*t*t)-1/(2*q)*Math.log((1-q*t)/(1+q*t)))*.5:l*t;g[0]=d;g[1]=l;return g}function I(g){return null!==n(g)}function B(g,d){if("polyline"!==g.type&&"polygon"!==g.type)throw new x("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var l=g.spatialReference;if(!I(l))throw new x("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var p=h(l).radius/1E4;d<p&&(d=p);for(var p=[],q=[0,0],
t={distance:null},n=0,v="polyline"===g.type?g.paths:g.rings;n<v.length;n++){var y=v[n],E=[];p.push(E);E.push([y[0][0],y[0][1]]);for(var B=y[0][0],J=y[0][1],H=void 0,F=void 0,aa=0;aa<y.length-1;aa++)if(H=y[aa+1][0],F=y[aa+1][1],B!==H||J!==F){var S=[B,J];z(t,[B,J],[H,F],l);B=t.azimuth;J=t.distance;H=J/d;if(1<H){for(F=1;F<=H-1;F++)D(q,S,B,F*d,l),E.push(q.slice(0));D(q,S,B,(J+Math.floor(H-1)*d)/2,l);E.push(q.slice(0))}D(q,S,B,J,l);E.push(q.slice(0));B=q[0];J=q[1]}}return"polyline"===g.type?new r.Polyline({paths:p,
spatialReference:l}):new r.Polygon({rings:p,spatialReference:l})}function D(g,d,l,q,n){var p=d[0]*E,r=d[1]*E;d=l*E;n=h(n);var z=n.a,x=n.b;n=n.f;l=Math.sin(d);d=Math.cos(d);for(var v=(1-n)*Math.tan(r),r=1/Math.sqrt(1+v*v),y=v*r,B=Math.atan2(v,d),v=r*l,D=v*v,J=1-D,z=J*(z*z-x*x)/(x*x),H=1+z/16384*(4096+z*(-768+z*(320-175*z))),K=z/1024*(256+z*(-128+z*(74-47*z))),z=q/(x*H),I=2*Math.PI,F,e,G,w;1E-12<Math.abs(z-I);)G=Math.cos(2*B+z),F=Math.sin(z),e=Math.cos(z),w=K*F*(G+K/4*(e*(-1+2*G*G)-K/6*G*(-3+4*F*F)*
(-3+4*G*G))),I=z,z=q/(x*H)+w;q=y*F-r*e*d;x=n/16*J*(4+n*(4-3*J));q=Math.atan2(y*e+r*F*d,(1-n)*Math.sqrt(D+q*q))/E;p=(p+(Math.atan2(F*l,r*e-y*F*d)-(1-x)*n*v*(z+x*F*(G+x*e*(-1+2*G*G)))))/E;g.splice(0,g.length);g.push(p,q);return g}function z(g,d,l,q){var p=d[0]*E;d=d[1]*E;var t=l[0]*E;l=l[1]*E;var n=h(q),r=n.a;q=n.b;var z=n.f,x=n.radius,v=t-p,y=Math.atan((1-z)*Math.tan(d)),B=Math.atan((1-z)*Math.tan(l)),n=Math.sin(y),y=Math.cos(y),D=Math.sin(B),B=Math.cos(B),J=1E3,H=v,I,K,e,G,w,b,a,c;do{G=Math.sin(H);
w=Math.cos(H);e=Math.sqrt(B*G*B*G+(y*D-n*B*w)*(y*D-n*B*w));if(0===e)return{distance:0};w=n*D+y*B*w;b=Math.atan2(e,w);a=y*B*G/e;K=1-a*a;G=w-2*n*D/K;isNaN(G)&&(G=0);c=z/16*K*(4+z*(4-3*K));I=H;H=v+(1-c)*z*a*(b+c*e*(G+c*w*(-1+2*G*G)))}while(1E-12<Math.abs(H-I)&&0<--J);if(0===J)return g=t-p,{azimuth:Math.atan2(Math.sin(g)*Math.cos(l),Math.cos(d)*Math.sin(l)-Math.sin(d)*Math.cos(l)*Math.cos(g))/E,distance:Math.acos(Math.sin(d)*Math.sin(l)+Math.cos(d)*Math.cos(l)*Math.cos(t-p))*x};p=K*(r*r-q*q)/(q*q);d=
p/1024*(256+p*(-128+p*(74-47*p)));t=Math.atan2(y*Math.sin(H),y*D*Math.cos(H)-n*B);g.azimuth=Math.atan2(B*Math.sin(H),y*D-n*B*Math.cos(H))/E;g.distance=q*(1+p/16384*(4096+p*(-768+p*(320-175*p))))*(b-d*e*(G+d/4*(w*(-1+2*G*G)-d/6*G*(-3+4*e*e)*(-3+4*G*G))));g.reverseAzimuth=t/E;return g}Object.defineProperty(v,"__esModule",{value:!0});var E=Math.PI/180,l=r.SpatialReference.WGS84,g=/SPHEROID\[([^\]]+)]/i,q={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,
f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,
f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},
104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,
f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};v.isSupported=I;v.geodesicAreas=function(g,l){void 0===l&&(l="square-meters");if(g.some(function(g){return!I(g.spatialReference)}))throw new x("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var q=[],p=0;p<g.length;p++){var n=g[p],t=n.spatialReference,t=.0015696101447650193*h(t).radius;q.push(B(n,t))}g=[];for(var p=[0,0],n=[0,0],
r=0;r<q.length;r++){for(var t=q[r],z=t.rings,t=t.spatialReference,v=0,y=0;y<z.length;y++){var E=z[y];H(p,E[0],t);H(n,E[E.length-1],t);for(var D=n[0]*p[1]-p[0]*n[1],J=0;J<E.length-1;J++)H(p,E[J+1],t),H(n,E[J],t),D+=n[0]*p[1]-p[0]*n[1];v+=D}v=d.convertUnit(v,"square-meters",l);g.push(v/-2)}return g};v.geodesicLengths=function(g,l){void 0===l&&(l="meters");if(!g&&!g)throw new x("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(g.some(function(g){return!I(g.spatialReference)}))throw new x("geodesic-lengths:invalid-spatial-reference",
"the input geometries spatial reference is not supported");for(var q=[],h=0;h<g.length;h++){for(var p=g[h],t=p.spatialReference,p="polyline"===p.type?p.paths:p.rings,n=0,r=0;r<p.length;r++){for(var v=p[r],y=0,E=1;E<v.length;E++){var B=v[E-1][0],D=v[E][0],J=v[E-1][1],H=v[E][1];if(J!==H||B!==D){var F={distance:null};z(F,[B,J],[D,H],t);y+=F.distance}}n+=y}n=d.convertUnit(n,"meters",l);q.push(n)}return q};v.geodesicDensify=B;v.directGeodeticSolver=D;v.inverseGeodeticSolver=z;v.geodesicDistance=function(g,
l,q){void 0===q&&(q="meters");if(!g||!l)throw new x("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!g.spatialReference||!l.spatialReference)throw new x("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!g.spatialReference.equals(l.spatialReference))throw new x("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");var h=g.spatialReference;if(!I(h))throw new x("geodesic-distance:not-supported",
"input geometry spatial reference is not supported");if(g.equals(l))return{distance:0,azimuth:0,reverseAzimuth:0};var p={distance:null};z(p,[g.x,g.y],[l.x,l.y],h);p.distance=d.convertUnit(p.distance,"meters",q);return p};v.pointFromDistance=function(g,d,l){if(!g||null==d||null==l)throw new x("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>l||360<l)throw new x("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");
if(!g.spatialReference)throw new x("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");var q=g.spatialReference;if(!I(q))throw new x("geodesic-distance:not-supported","input geometry spatial reference is not supported");var h=[0,0];D(h,[g.x,g.y],l,d,q);return new r.Point({x:h[0],y:h[1],spatialReference:q})}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../support/elevationInfoUtils ../../../../../support/featureFlags".split(" "),
function(F,v,y,r,x,d){Object.defineProperty(v,"__esModule",{value:!0});v.isSupportedGraphic=function(n){if("graphics"!==n.layer.type)return 1;if(r.isNone(n.geometry))return 2;var h=n.geometry.type;switch(h){case "point":break;case "polygon":case "polyline":case "multipoint":case "extent":case "mesh":return 3;default:return y.neverReached(h),3}h=r.isSome(n.symbol)&&"point-3d"===n.symbol.type&&n.symbol.symbolLayers;if(!(h&&0<h.length&&h.some(function(d){return"object"===d.type})))return 5;h=x.getGraphicEffectiveElevationMode(n);
return"on-the-ground"===h||d.enableEditing3D()&&"absolute-height"===h&&!x.hasGraphicFeatureExpressionInfo(n)?0:4}})},"esri/views/draw/Draw":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){return function(d){function z(){var l=
null!==d&&d.apply(this,arguments)||this;l.activeAction=null;l.type="draw";l.view=null;return l}y(z,d);z.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};z.prototype.create=function(d,g){this.reset();g=x({view:this.view},g);switch(d){case "point":this.activeAction=new H(g);break;case "polygon":this.activeAction=new I(g);break;case "polyline":this.activeAction=new B(g);break;case "multipoint":this.activeAction=new h(g);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=
new D(g)}return this.activeAction};z.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};z.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};r([n.property()],z.prototype,"activeAction",void 0);r([n.property({readOnly:!0})],z.prototype,"type",void 0);r([n.property()],z.prototype,"view",void 0);return z=r([n.subclass("esri.views.draw.Draw")],z)}(n.declared(d))})},"esri/views/draw/MultipointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D){return function(z){function v(d){d=z.call(this,d)||this;d._cursorMoved=!1;d._cursorScreenPoint=null;d._dragEnabled=!0;d._pointerDownEvent=null;d._viewHandles=new x;d.vertices=[];d.view=null;return d}y(v,z);v.prototype.initialize=function(){this._addViewHandles()};v.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};v.prototype.addVertex=function(d,g){var l=this;isNaN(g)?(g=this.vertices.length,this.vertices.push(d)):
this.vertices.splice(g,0,d);this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexAdd(null,g)},redo:function(){return l._redoVertexAdd(null,d,g)}});this._set("redoHistory",[]);var h=new I.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",h);h.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};v.prototype.removeVertex=function(d){var g=this,l=this.vertices.splice(d,1)[0];this.history.push({vertex:l,vertexIndex:d,undo:function(){return g._undoVertexRemove(null,
l,d)},redo:function(){return g._redoVertexRemove(null,d)}});this._set("redoHistory",[]);this.emit("vertex-remove",new I.VertexRemoveEvent(this.view,null,d,this.vertices))};v.prototype.updateVertex=function(d,g){var l=this,h=this.vertices[g];this.vertices[g]=d;this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexUpdate(null,h,g)},redo:function(){return l._redoVertexUpdate(null,d,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new I.VertexUpdateEvent(this.view,null,
g,this.vertices))};v.prototype.complete=function(){this._completeDrawing()};v.prototype._addViewHandles=function(){var d=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(g){g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(g){d._cursorMoved&&d.vertices.pop();d._pointerDownEvent=g;d._cursorMoved=!1;d._cursorScreenPoint=n.createScreenPointFromEvent(g)},D.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(g){d._cursorMoved&&
d.vertices.pop();d._cursorMoved=!0;d._cursorScreenPoint=n.createScreenPointFromEvent(g);d._cursorUpdateHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(g){d._pointerDownEvent&&(d._cursorMoved?(d.vertices.pop(),d._cursorMoved=!1):(d._pointerDownEvent=null,d._vertexAddHandler(g)))},D.ViewEventPriorities.TOOL),this.view.on("drag",function(g){d._dragEnabled&&d._pointerDownEvent&&g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(g){g.stopPropagation()},
D.ViewEventPriorities.TOOL),this.view.on("double-click",function(g){g.stopPropagation();d._drawCompleteHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(g){g.stopPropagation();d._drawCompleteHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("key-down",function(g){g.key===B.KEYS.vertexAddKey&&!g.repeat&&d._cursorScreenPoint?(d._cursorMoved&&(d.vertices.pop(),d._cursorMoved=!1),d._vertexAddHandler(g)):g.key===B.KEYS.drawCompleteKey&&!g.repeat&&d._cursorScreenPoint?
(d._cursorMoved&&(d.vertices.pop(),d._cursorMoved=!1),d._vertexAddHandler(g),d._drawCompleteHandler(g)):g.key!==B.KEYS.undoKey||g.repeat?g.key!==B.KEYS.redoKey||g.repeat||d.redo():d.undo()},D.ViewEventPriorities.TOOL)])};v.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};v.prototype._addVertex=function(d,g){var l=this;this.vertices.push(d);var h=this.vertices.indexOf(d);this.history.push({vertex:d,vertexIndex:h,undo:function(){return l._undoVertexAdd(g,h)},redo:function(){return l._redoVertexAdd(g,
d,h)}});this._set("redoHistory",[]);var n=new I.VertexAddEvent(this.view,g,h,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};v.prototype._updateCursor=function(d,g){this.vertices.push(d);d=this.vertices.indexOf(d);g=new I.CursorUpdateEvent(this.view,g,d,this.vertices);this.emit("cursor-update",g)};v.prototype._completeDrawing=function(d){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(d=new I.DrawCompleteEvent(d,this.vertices),
this.emit("draw-complete",d),d.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};v.prototype._undoVertexAdd=function(d,g){this.vertices.splice(g,1);this.emit("undo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};v.prototype._redoVertexAdd=function(d,g,h){this.vertices.splice(h,0,g);this.emit("redo",new I.VertexAddEvent(this.view,d,h,this.vertices))};v.prototype._undoVertexRemove=function(d,g,h){this.vertices.splice(h,0,g);this.emit("undo",new I.VertexAddEvent(this.view,d,h,
this.vertices))};v.prototype._redoVertexRemove=function(d,g){this.vertices.splice(g,1);this.emit("redo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};v.prototype._undoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("undo",new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._redoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("redo",new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._vertexAddHandler=function(l){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);
d.isSome(g)&&this._addVertex(g,l.native)};v.prototype._cursorUpdateHandler=function(l){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(g)&&this._updateCursor(g,l.native)};v.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};r([h.property({readOnly:!0})],v.prototype,"vertices",void 0);r([h.property()],v.prototype,"view",void 0);return v=r([h.subclass("esri.views.draw.MultipointDrawAction")],v)}(h.declared(H))})},"esri/views/draw/DrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/accessorSupport/decorators".split(" "),
function(F,v,y,r,x,d){return function(n){function h(){var d=null!==n&&n.apply(this,arguments)||this;d.history=[];d.redoHistory=[];d.view=null;return d}y(h,n);h.prototype.canUndo=function(){return 0<this.history.length};h.prototype.canRedo=function(){return 0<this.redoHistory.length};h.prototype.undo=function(){if(this.canUndo()){var d=this.history.pop();d.undo();this.redoHistory.push(d)}};h.prototype.redo=function(){if(this.canRedo()){var d=this.redoHistory.pop();d.redo();this.history.push(d)}};h.prototype.getCoordsFromScreenPoint=
function(d){return(d=this.view.toMap(d))?[d.x,d.y]:null};h.prototype.isDuplicateVertex=function(d,h){if(d.length){d=d[d.length-1];var n=d[1];return d[0]===h[0]&&n===h[1]}return!1};r([d.property({readOnly:!0})],h.prototype,"history",void 0);r([d.property({readOnly:!0})],h.prototype,"redoHistory",void 0);r([d.property()],h.prototype,"view",void 0);return h=r([d.subclass("esri.views.draw.DrawAction")],h)}(d.declared(x.EventedAccessor))})},"esri/views/draw/input/DrawEvents":function(){define(["require",
"exports","../../../core/tsSupport/declareExtendsHelper"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});F=function(){function r(r,d,n,h){this.view=r;this.native=d;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-add"}r.prototype.preventDefault=function(){this.defaultPrevented=!0};return r}();v.VertexAddEvent=F;F=function(){function r(r,d,n,h){this.view=r;this.native=d;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-update"}
r.prototype.preventDefault=function(){this.defaultPrevented=!0};return r}();v.VertexUpdateEvent=F;F=function(){function r(r,d,n,h){this.view=r;this.native=d;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-remove"}r.prototype.preventDefault=function(){this.defaultPrevented=!0};return r}();v.VertexRemoveEvent=F;F=function(){function r(r,d,n,h,v){void 0===v&&(v=null);this.view=r;this.native=d;this.vertexIndex=n;this.vertices=h;this.mapPoint=v;this.defaultPrevented=!1;this.type=
"cursor-update"}r.prototype.preventDefault=function(){this.defaultPrevented=!0};return r}();v.CursorUpdateEvent=F;F=function(){function r(r,d){this.native=r;this.vertices=d;this.defaultPrevented=!1;this.type="draw-complete"}r.prototype.preventDefault=function(){this.defaultPrevented=!0};return r}();v.DrawCompleteEvent=F})},"esri/views/draw/input/Keys":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",
vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/Keys ../input/InputManager ../input/recognizers/PointerClickHoldAndDrag".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){var z=function(){function d(g,d,l){this.view=g;this.native=d;this.coordinates=l;this.defaultPrevented=
!1;this.type="cursor-update"}d.prototype.preventDefault=function(){this.defaultPrevented=!0};return d}(),E=function(){function d(g,d){this.native=g;this.coordinates=d;this.defaultPrevented=!1;this.type="draw-complete"}d.prototype.preventDefault=function(){this.defaultPrevented=!0};return d}();return function(l){function g(g){g=l.call(this,g)||this;g._clickDelay=D.DefaultParameters.maximumClickDelay;g._cursorMoved=!1;g._cursorScreenPoint=null;g._pointerDownEvent=null;g._viewHandles=new x;g.coordinates=
[];g.view=null;return g}y(g,l);g.prototype.initialize=function(){this._addViewHandles()};g.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};g.prototype.complete=function(){if(this._cursorScreenPoint){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(g)&&(this._set("coordinates",g),this._completeDrawing())}};g.prototype._addViewHandles=function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(l){l.stopPropagation();var h=g.getCoordsFromScreenPoint(l.screenPoint);d.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(l))},B.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(d){g._pointerDownEvent=d;g._cursorMoved=!1},B.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(d){g._cursorMoved=!0;g._cursorScreenPoint=n.createScreenPointFromEvent(d);g._cursorUpdateHandler(d)},B.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(l){if(g._pointerDownEvent&&
!g._cursorMoved&&l.timestamp-g._pointerDownEvent.timestamp>g._clickDelay){g._cursorScreenPoint=n.createScreenPointFromEvent(l);var h=g.getCoordsFromScreenPoint(g._cursorScreenPoint);d.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(l))}},B.ViewEventPriorities.TOOL),this.view.on("key-down",function(l){if(l.key===I.KEYS.drawCompleteKey&&g._cursorScreenPoint){var h=g.getCoordsFromScreenPoint(g._cursorScreenPoint);d.isSome(h)&&(g._set("coordinates",h),g._drawCompleteHandler(l))}},B.ViewEventPriorities.TOOL)])};
g.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};g.prototype._updateCursor=function(g,d){this.emit("cursor-update",new z(this.view,d,g))};g.prototype._completeDrawing=function(g){this._cursorMoved=!1;this._pointerDownEvent=null;g=new E(g,this.coordinates);this.emit("draw-complete",g);g.defaultPrevented||this._removeViewHandles()};g.prototype._cursorUpdateHandler=function(g){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),g.native)};g.prototype._drawCompleteHandler=
function(g){this._completeDrawing(g.native)};r([h.property({readOnly:!0})],g.prototype,"coordinates",void 0);r([h.property()],g.prototype,"view",void 0);return g=r([h.subclass("esri.views.draw.PointDrawAction")],g)}(h.declared(H))})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/clock ../InputHandler ./support".split(" "),function(F,v,y,r,x,d){Object.defineProperty(v,"__esModule",{value:!0});v.DefaultParameters=
{maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilTouchDrag:6,holdDelay:500};F=function(n){function h(d,h,x,y,z){void 0===d&&(d=v.DefaultParameters.maximumClickDelay);void 0===h&&(h=v.DefaultParameters.movementUntilMouseDrag);void 0===x&&(x=v.DefaultParameters.movementUntilTouchDrag);void 0===y&&(y=v.DefaultParameters.holdDelay);void 0===z&&(z=r.default);var B=n.call(this,!1)||this;B.maximumClickDelay=d;B.movementUntilMouseDrag=h;B.movementUntilTouchDrag=x;B.holdDelay=y;B._clock=z;B._pointerState=
new Map;B._pointerDrag=B.registerOutgoing("pointer-drag");B._immediateClick=B.registerOutgoing("immediate-click");B._pointerHold=B.registerOutgoing("hold");B.registerIncoming("pointer-down",B._handlePointerDown.bind(B));B.registerIncoming("pointer-up",function(d){B._handlePointerLoss(d,"pointer-up")});B.registerIncoming("pointer-capture-lost",function(d){B._handlePointerLoss(d,"pointer-capture-lost")});B.registerIncoming("pointer-cancel",function(d){B._handlePointerLoss(d,"pointer-cancel")});B._moveHandle=
B.registerIncoming("pointer-move",B._handlePointerMove.bind(B));B._moveHandle.pause();return B}y(h,n);h.prototype.onUninstall=function(){this._pointerState.forEach(function(d){null!=d.holdTimeout&&(d.holdTimeout.remove(),d.holdTimeout=null)});n.prototype.onUninstall.call(this)};h.prototype._handlePointerDown=function(d){var h=this,n=d.data,r=n.native.pointerId,z=null;0===this._pointerState.size&&(z=this._clock.setTimeout(function(){var n=h._pointerState.get(r);n&&(n.isDragging||(h._pointerHold.emit(n.previousEvent,
void 0,d.modifiers),n.holdEmitted=!0),n.holdTimeout=null)},this.holdDelay));z={startEvent:n,previousEvent:n,startTimestamp:d.timestamp,isDragging:!1,downButton:n.native.button,holdTimeout:z,modifiers:new Set};this._pointerState.set(r,z);this.startCapturingPointer(n.native);this._moveHandle.resume();1<this._pointerState.size&&this.startDragging(d)};h.prototype._createPointerDragData=function(d,h,n){return{action:d,startEvent:h.startEvent,previousEvent:h.previousEvent,currentEvent:n}};h.prototype._handlePointerMove=
function(h){var n=h.data,r=this._pointerState.get(n.native.pointerId);r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,n),void 0,r.modifiers):d.euclideanDistance(n,r.startEvent)>("touch"===n.native.pointerType?this.movementUntilTouchDrag:this.movementUntilMouseDrag)&&this.startDragging(h),r.previousEvent=n)};h.prototype.startDragging=function(d){var h=this,n=d.data,r=n.native.pointerId;this._pointerState.forEach(function(z){null!=z.holdTimeout&&(z.holdTimeout.remove(),
z.holdTimeout=null);z.isDragging||(z.modifiers=d.modifiers,z.isDragging=!0,r===z.startEvent.native.pointerId?h._pointerDrag.emit(h._createPointerDragData("start",z,n)):h._pointerDrag.emit(h._createPointerDragData("start",z,z.previousEvent),d.timestamp))})};h.prototype._handlePointerLoss=function(d,h){var n=d.data,r=n.native.pointerId,z=this._pointerState.get(r);z&&(null!=z.holdTimeout&&(z.holdTimeout.remove(),z.holdTimeout=null),z.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",
z,"pointer-up"===h?n:z.previousEvent),void 0,z.modifiers):"pointer-up"===h&&z.downButton===n.native.button&&d.timestamp-z.startTimestamp<=this.maximumClickDelay&&!z.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())};return h}(x.InputHandler);v.PointerClickHoldAndDrag=F})},"esri/views/input/recognizers/support":function(){define(["require","exports","../../../core/screenUtils"],function(F,
v,y){Object.defineProperty(v,"__esModule",{value:!0});v.manhattanDistance=function(r,x){return Math.abs(x.x-r.x)+Math.abs(x.y-r.y)};v.euclideanDistance=function(r,x){var d=x.x-r.x;r=x.y-r.y;return Math.sqrt(d*d+r*r)};v.fitCircleLSQ=function(r,x){x?(x.radius=0,x.center.x=0,x.center.y=0):x={radius:0,center:y.createScreenPoint()};if(0===r.length)return x;if(1===r.length)return x.center.x=r[0].x,x.center.y=r[0].y,x;if(2===r.length){var d=r[0];r=r[1];var n=[r.x-d.x,r.y-d.y],h=n[0],n=n[1];x.radius=Math.sqrt(h*
h+n*n)/2;x.center.x=(d.x+r.x)/2;x.center.y=(d.y+r.y)/2;return x}for(var v=0,I=0,B=0;B<r.length;B++)v+=r[B].x,I+=r[B].y;for(var v=v/r.length,I=I/r.length,D=r.map(function(g){return g.x-v}),z=r.map(function(g){return g.y-I}),E=d=x=0,l=0,g=h=0,B=n=0;B<D.length;B++){var q=D[B],p=z[B],J=q*q,F=p*p;x+=J;d+=F;E+=q*p;l+=J*q;h+=F*p;g+=q*F;n+=p*J}B=x;D=E;z=d;l=.5*(l+g);h=.5*(h+n);n=B*z-E*D;g=(l*z-h*D)/n;h=(B*h-E*l)/n;n=y.createScreenPoint(g+v,h+I);return{radius:Math.sqrt(g*g+h*h+(x+d)/r.length),center:n}}})},
"esri/views/draw/PolygonDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){return function(z){function v(d){d=z.call(this,d)||this;d._cursorScreenPoint=null;d._panEnabled=!1;d._cursorVertexAdded=!1;d._popVertexOnPointerMove=
!1;d._addVertexOnPointerUp=!1;d._activePointerId=null;d._viewHandles=new x;d.mode="hybrid";d.vertices=[];d.view=null;return d}y(v,z);v.prototype.initialize=function(){this._addViewHandles()};v.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(v.prototype,"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"_dragEnabled",{get:function(){return-1!==
["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});v.prototype.addVertex=function(d,g){var l=this;this.vertices.splice(g,0,d);this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexAdd(null,g)},redo:function(){return l._redoVertexAdd(null,d,g)}});this._set("redoHistory",[]);var h=new I.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",h);h.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};v.prototype.removeVertex=
function(d){var g=this,l=this.vertices.splice(d,1)[0];this.history.push({vertex:l,vertexIndex:d,undo:function(){return g._undoVertexRemove(null,l,d)},redo:function(){return g._redoVertexRemove(null,d)}});this._set("redoHistory",[]);this.emit("vertex-remove",new I.VertexRemoveEvent(this.view,null,d,this.vertices))};v.prototype.updateVertex=function(d,g){var l=this,h=this.vertices[g];this.vertices[g]=d;this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexUpdate(null,h,g)},redo:function(){return l._redoVertexUpdate(null,
d,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new I.VertexUpdateEvent(this.view,null,g,this.vertices))};v.prototype.complete=function(){this._completeDrawing()};v.prototype._addViewHandles=function(){var l=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(g){g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(g){l._shouldHandlePointerEvent(g)&&!l._panEnabled&&(l._activePointerId=g.pointerId,l._addVertexOnPointerUp=
!0,l._cursorScreenPoint=n.createScreenPointFromEvent(g),"touch"===g.pointerType&&l._updateCursor(g.native))},D.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(g){l._popVertexOnPointerMove&&(l.vertices.pop(),l._popVertexOnPointerMove=!1);l._cursorScreenPoint=n.createScreenPointFromEvent(g);"touch"!==g.pointerType&&l._updateCursor(g.native)},D.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(g){l._shouldHandlePointerEvent(g)&&(l._cursorScreenPoint=n.createScreenPointFromEvent(g),
l._dragEnabled&&!l._panEnabled?l._vertexAddHandler(g):l._addVertexOnPointerUp=!1)},D.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(g){l._shouldHandlePointerEvent(g)&&(l._activePointerId=null,l._addVertexOnPointerUp?l._clickEnabled?l._vertexAddHandler(g):(1===l.vertices.length&&l.vertices.pop(),l._drawCompleteHandler(g)):l._updateCursor(g.native,"touch"===g.pointerType))},D.ViewEventPriorities.TOOL),this.view.on("drag",function(g){l._dragEnabled&&d.isSome(l._activePointerId)&&!l._panEnabled&&
g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(g){g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("double-click",function(g){g.stopPropagation();l._drawCompleteHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(g){g.stopPropagation();l._drawCompleteHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("key-down",function(g){var d=g.key,h=g.repeat;d===B.KEYS.vertexAddKey&&!h&&l._cursorScreenPoint?l._vertexAddHandler(g):
d===B.KEYS.drawCompleteKey&&!h&&l._cursorScreenPoint&&2<l.vertices.length?(l._vertexAddHandler(g),l._drawCompleteHandler(g)):d!==B.KEYS.undoKey||h?d!==B.KEYS.redoKey||h?d!==B.KEYS.panKey||h||(l._panEnabled=!0):l.redo():l.undo()},D.ViewEventPriorities.TOOL),this.view.on("key-up",function(g){g.key===B.KEYS.panKey&&(l._panEnabled=!1)},D.ViewEventPriorities.TOOL)])};v.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};v.prototype._addVertex=function(d,g){var l=this;this._popCursorVertex();
if(!this.isDuplicateVertex(this.vertices,d)){var h=this.vertices.length;this.vertices.push(d);this.history.push({vertex:d,vertexIndex:h,undo:function(){return l._undoVertexAdd(g,h)},redo:function(){return l._redoVertexAdd(g,d,h)}});this._set("redoHistory",[]);var n=new I.VertexAddEvent(this.view,g,h,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&this.history.pop()}};v.prototype._updateCursor=function(d,g){void 0===g&&(g=!1);this._popCursorVertex();if(this._cursorScreenPoint){var l=this.view.toMap(this._cursorScreenPoint),
h=null;l&&!g&&(h=this._pushCursorVertex([l.x,l.y]));d=new I.CursorUpdateEvent(this.view,d,h,this.vertices,l);this.emit("cursor-update",d)}};v.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();3>this.vertices.length||(d=new I.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};v.prototype._undoVertexAdd=function(d,g){this.vertices.splice(g,1);this.emit("undo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};
v.prototype._redoVertexAdd=function(d,g,h){this.vertices.splice(h,0,g);this.emit("redo",new I.VertexAddEvent(this.view,d,h,this.vertices))};v.prototype._undoVertexRemove=function(d,g,h){this.vertices.splice(h,0,g);this.emit("undo",new I.VertexAddEvent(this.view,d,h,this.vertices))};v.prototype._redoVertexRemove=function(d,g){this.vertices.splice(g,1);this.emit("redo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};v.prototype._undoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("undo",
new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._redoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("redo",new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};v.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};v.prototype._shouldHandlePointerEvent=function(l){return("mouse"!==
l.pointerType||0===l.button)&&(d.isNone(this._activePointerId)||this._activePointerId===l.pointerId)};v.prototype._vertexAddHandler=function(l){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],l.native);else{var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(g)&&this._addVertex(g,l.native)}};v.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};r([h.property({dependsOn:["mode"]})],v.prototype,"_clickEnabled",null);r([h.property({dependsOn:["mode"]})],
v.prototype,"_dragEnabled",null);r([h.property({cast:function(d){return-1===["hybrid","freehand","click"].indexOf(d)?"hybrid":d}})],v.prototype,"mode",void 0);r([h.property({readOnly:!0})],v.prototype,"vertices",void 0);r([h.property()],v.prototype,"view",void 0);return v=r([h.subclass("esri.views.draw.PolygonDrawAction")],v)}(h.declared(H))})},"esri/views/draw/PolylineDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D){return function(z){function v(d){d=z.call(this,d)||this;d._cursorScreenPoint=null;d._panEnabled=!1;d._cursorVertexAdded=!1;d._popVertexOnPointerMove=!1;d._addVertexOnPointerUp=!1;d._activePointerId=null;d._viewHandles=new x;d.mode="hybrid";d.vertices=[];d.view=null;return d}y(v,z);v.prototype.initialize=function(){this._addViewHandles()};v.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(v.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(v.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});v.prototype.addVertex=function(d,g){var l=this;this.vertices.splice(g,0,d);this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexAdd(null,g)},redo:function(){return l._redoVertexAdd(null,d,g)}});this._set("redoHistory",
[]);var h=new I.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",h);h.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};v.prototype.removeVertex=function(d){var g=this,l=this.vertices.splice(d,1)[0];this.history.push({vertex:l,vertexIndex:d,undo:function(){return g._undoVertexRemove(null,l,d)},redo:function(){return g._redoVertexRemove(null,d)}});this._set("redoHistory",[]);this.emit("vertex-remove",new I.VertexRemoveEvent(this.view,null,d,this.vertices))};
v.prototype.updateVertex=function(d,g){var l=this,h=this.vertices[g];this.vertices[g]=d;this.history.push({vertex:d,vertexIndex:g,undo:function(){return l._undoVertexUpdate(null,h,g)},redo:function(){return l._redoVertexUpdate(null,d,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new I.VertexUpdateEvent(this.view,null,g,this.vertices))};v.prototype.complete=function(){this._completeDrawing()};v.prototype._addViewHandles=function(){var l=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(d){d.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(d){l._shouldHandlePointerEvent(d)&&!l._panEnabled&&(l._activePointerId=d.pointerId,l._addVertexOnPointerUp=!0,l._cursorScreenPoint=n.createScreenPointFromEvent(d),"touch"===d.pointerType&&l._updateCursor(d.native))},D.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(d){l._popVertexOnPointerMove&&(l.vertices.pop(),l._popVertexOnPointerMove=!1);l._cursorScreenPoint=n.createScreenPointFromEvent(d);
"touch"!==d.pointerType&&l._updateCursor(d.native)},D.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(d){l._shouldHandlePointerEvent(d)&&(l._cursorScreenPoint=n.createScreenPointFromEvent(d),l._dragEnabled&&!l._panEnabled?l._vertexAddHandler(d):l._addVertexOnPointerUp=!1)},D.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(d){l._shouldHandlePointerEvent(d)&&(l._activePointerId=null,l._addVertexOnPointerUp?l._clickEnabled?l._vertexAddHandler(d):(1===l.vertices.length&&l.vertices.pop(),
l._drawCompleteHandler(d)):l._updateCursor(d.native,"touch"===d.pointerType))},D.ViewEventPriorities.TOOL),this.view.on("drag",function(g){l._dragEnabled&&d.isSome(l._activePointerId)&&!l._panEnabled&&g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(d){d.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("double-click",function(d){d.stopPropagation();l._drawCompleteHandler(d)},D.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(d){d.stopPropagation();
l._drawCompleteHandler(d)},D.ViewEventPriorities.TOOL),this.view.on("key-down",function(d){var g=d.key,h=d.repeat;g===B.KEYS.vertexAddKey&&!h&&l._cursorScreenPoint?l._vertexAddHandler(d):g===B.KEYS.drawCompleteKey&&!h&&l._cursorScreenPoint&&1<l.vertices.length?(l._vertexAddHandler(d),l._drawCompleteHandler(d)):g!==B.KEYS.undoKey||h?g!==B.KEYS.redoKey||h?g!==B.KEYS.panKey||h||(l._panEnabled=!0):l.redo():l.undo()},D.ViewEventPriorities.TOOL),this.view.on("key-up",function(d){d.key===B.KEYS.panKey&&
(l._panEnabled=!1)},D.ViewEventPriorities.TOOL)])};v.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};v.prototype._addVertex=function(d,g){var l=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,d)){this.vertices.push(d);var h=this.vertices.length-1;this.history.push({vertex:d,vertexIndex:h,undo:function(){return l._undoVertexAdd(g,h)},redo:function(){return l._redoVertexAdd(g,d,h)}});this._set("redoHistory",[]);var n=new I.VertexAddEvent(this.view,g,h,this.vertices);
this.emit("vertex-add",n);n.defaultPrevented&&this.history.pop()}};v.prototype._updateCursor=function(d,g){void 0===g&&(g=!1);this._popCursorVertex();if(this._cursorScreenPoint){var l=this.view.toMap(this._cursorScreenPoint),h=null;l&&!g&&(h=this._pushCursorVertex([l.x,l.y]));d=new I.CursorUpdateEvent(this.view,d,h,this.vertices,l);this.emit("cursor-update",d)}};v.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();2>this.vertices.length||(d=new I.DrawCompleteEvent(d,
this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};v.prototype._undoVertexAdd=function(d,g){this.vertices.splice(g,1);this.emit("undo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};v.prototype._redoVertexAdd=function(d,g,h){this.vertices.splice(h,0,g);this.emit("redo",new I.VertexAddEvent(this.view,d,h,this.vertices))};v.prototype._undoVertexRemove=function(d,g,h){this.vertices.splice(h,0,g);this.emit("undo",new I.VertexAddEvent(this.view,d,h,this.vertices))};
v.prototype._redoVertexRemove=function(d,g){this.vertices.splice(g,1);this.emit("redo",new I.VertexRemoveEvent(this.view,d,g,this.vertices))};v.prototype._undoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("undo",new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._redoVertexUpdate=function(d,g,h){this.vertices[h]=g;this.emit("redo",new I.VertexUpdateEvent(this.view,d,h,this.vertices))};v.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);
this._cursorVertexAdded=!0;return this.vertices.length-1};v.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};v.prototype._shouldHandlePointerEvent=function(l){return("mouse"!==l.pointerType||0===l.button)&&(d.isNone(this._activePointerId)||this._activePointerId===l.pointerId)};v.prototype._vertexAddHandler=function(l){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-1],l.native);else{var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);
d.isSome(g)&&this._addVertex(g,l.native)}};v.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};r([h.property({dependsOn:["mode"]})],v.prototype,"_clickEnabled",null);r([h.property({dependsOn:["mode"]})],v.prototype,"_dragEnabled",null);r([h.property({cast:function(d){return-1===["hybrid","freehand","click"].indexOf(d)?"hybrid":d}})],v.prototype,"mode",void 0);r([h.property({readOnly:!0})],v.prototype,"vertices",void 0);r([h.property()],v.prototype,"view",void 0);return v=
r([h.subclass("esri.views.draw.PolylineDrawAction")],v)}(h.declared(H))})},"esri/views/draw/SegmentDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){return function(v){function z(d){d=v.call(this,d)||this;d._isDragging=
!1;d._panEnabled=!1;d._cursorScreenPoint=null;d._viewHandles=new x;d._cursorVertexAdded=!1;d._activePointerId=null;d.mode="freehand";d.vertices=[];d.view=null;return d}y(z,v);z.prototype.initialize=function(){this._addViewHandles()};z.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};z.prototype.complete=function(){this._completeDrawing()};z.prototype._addViewHandles=function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):
this._viewHandles.add(this._getDragModeViewHandles())};z.prototype._getDragModeViewHandles=function(){var l=this;return[this.view.on("click",function(d){d.stopPropagation();d.mapPoint&&!l._panEnabled&&(l._set("vertices",[[d.mapPoint.x,d.mapPoint.y]]),l._drawCompleteHandler(d))},D.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(d){l._shouldHandlePointerEvent(d)&&!l._panEnabled&&(l._cursorScreenPoint=n.createScreenPointFromEvent(d),l._set("vertices",[]),l._activePointerId=d.pointerId,
l._vertexAddHandler(d),l._isDragging=!1,"touch"===d.pointerType&&l._cursorUpdateHandler(d))},D.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(g){l._cursorScreenPoint=n.createScreenPointFromEvent(g);d.isNone(l._activePointerId)&&"touch"!==g.pointerType&&0===l.vertices.length&&l._cursorUpdateHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(d){l._shouldHandlePointerEvent(d)&&(l._isDragging=!0,l._cursorScreenPoint=n.createScreenPointFromEvent(d),l._cursorUpdateHandler(d))},
D.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(d){l._shouldHandlePointerEvent(d)&&(l._activePointerId=null,l._popCursorVertex(),l._isDragging&&!l._panEnabled&&(l._vertexAddHandler(d),l._drawCompleteHandler(d)),l._isDragging=!1)},D.ViewEventPriorities.TOOL),this.view.on("key-down",function(d){d.key===B.KEYS.drawCompleteKey&&l._cursorScreenPoint?l._drawCompleteHandler(d):d.key===B.KEYS.panKey&&(l._panEnabled=!0)},D.ViewEventPriorities.TOOL),this.view.on("key-up",function(d){d.key===
B.KEYS.panKey&&(l._panEnabled=!1)},D.ViewEventPriorities.TOOL),this.view.on("drag",function(g){d.isSome(l._activePointerId)&&g.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(d){d.stopPropagation()},D.ViewEventPriorities.TOOL)]};z.prototype._getClickModeViewHandles=function(){var l=this;return[this.view.on("click",function(d){d.stopPropagation()},D.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(d){l._cursorScreenPoint=n.createScreenPointFromEvent(d);
l._activePointerId=d.pointerId;l._isDragging=!1;"touch"===d.pointerType&&l._cursorUpdateHandler(d)},D.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(g){l._cursorScreenPoint=n.createScreenPointFromEvent(g);d.isNone(l._activePointerId)&&"touch"!==g.pointerType&&l._cursorUpdateHandler(g)},D.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(d){l._shouldHandlePointerEvent(d)&&(l._isDragging=!0)},D.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(d){l._shouldHandlePointerEvent(d)&&
(l._activePointerId=null,l._isDragging||l._vertexAddHandler(d),2!==l.vertices.length||l._isDragging||l._drawCompleteHandler(d),l._isDragging=!1)},D.ViewEventPriorities.TOOL),this.view.on("key-down",function(d){d.key===B.KEYS.vertexAddKey&&l._cursorScreenPoint&&(l._vertexAddHandler(d),2===l.vertices.length&&l._drawCompleteHandler(d));d.key===B.KEYS.drawCompleteKey&&l._cursorScreenPoint&&2===l.vertices.length&&l._drawCompleteHandler(d)},D.ViewEventPriorities.TOOL)]};z.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};
z.prototype._addVertex=function(d,g){this._popCursorVertex();this.isDuplicateVertex(this.vertices,d)||(this.vertices.push(d),d=this.vertices.indexOf(d),g=new I.VertexAddEvent(this.view,g,d,this.vertices),this.emit("vertex-add",g))};z.prototype._updateCursor=function(l,g){var h=null;d.isSome(l)&&(h=this._pushCursorVertex(l));l=new I.CursorUpdateEvent(this.view,g,h,this.vertices);this.emit("cursor-update",l)};z.prototype._completeDrawing=function(d){this._activePointerId=null;this._popCursorVertex();
this._isDragging=!1;this._cursorScreenPoint=null;1>this.vertices.length||(d=new I.DrawCompleteEvent(d,this.vertices),this.emit("draw-complete",d),d.defaultPrevented||this._removeViewHandles())};z.prototype._pushCursorVertex=function(d){this._popCursorVertex();this.vertices.push(d);this._cursorVertexAdded=!0;return this.vertices.length-1};z.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};z.prototype._shouldHandlePointerEvent=function(l){return("mouse"!==
l.pointerType||0===l.button)&&(d.isNone(this._activePointerId)||this._activePointerId===l.pointerId)};z.prototype._vertexAddHandler=function(l){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);d.isSome(g)&&this._addVertex(g,l.native)};z.prototype._cursorUpdateHandler=function(d){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(g,d.native)};z.prototype._drawCompleteHandler=function(d){this._completeDrawing(d.native)};r([h.property({cast:function(d){return-1===
["freehand","click"].indexOf(d)?"freehand":d}})],z.prototype,"mode",void 0);r([h.property({readOnly:!0})],z.prototype,"vertices",void 0);r([h.property()],z.prototype,"view",void 0);return z=r([h.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],z)}(h.declared(H))})},"esri/views/draw/support/createUtils":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../geometry ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(F,v,y,r,x,d,n,h,H,I,B,D,z,E,l,g){function q(d,g){return{x:d,y:g}}function p(d,h,n,p){void 0===p&&(p=!0);d=d.map(function(d){return Array.apply([],d)});d.forEach(function(d){d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push(d[0])});var t=new x.Polygon({rings:d,spatialReference:h});t.rings.forEach(function(d){t.isClockwise(d)||d.reverse()});n&&l.unnormalizeGeometryOnDatelineCrossing(t);p&&t.isSelfIntersecting&&g.isValid(h)&&(t=E.simplify(t));return t}Object.defineProperty(v,"__esModule",
{value:!0});v.makeMapPoint=function(d,g){return[d,g]};v.makeSurfacePoint=q;F=function(){function d(d){this.spatialReference=d}d.prototype.mapToLocalMultiple=function(d){var g=this;return d.map(function(d){return g.mapToLocal(d)})};Object.defineProperty(d.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,configurable:!0});return d}();var J=function(d){function g(g,l){l=d.call(this,l)||this;l.transform=h.mat2df64.create();l.transformInv=h.mat2df64.create();l.transform=h.mat2df64.clone(g);
n.mat2d.invert(l.transformInv,l.transform);return l}y(g,d);g.prototype.mapToLocal=function(d){return q(this.transform[0]*d[0]+this.transform[2]*d[1]+this.transform[4],this.transform[1]*d[0]+this.transform[3]*d[1]+this.transform[5])};g.prototype.localToMap=function(d){return[this.transformInv[0]*d.x+this.transformInv[2]*d.y+this.transformInv[4],this.transformInv[1]*d.x+this.transformInv[3]*d.y+this.transformInv[5]]};return g}(F);v.AffineCoordinateSystem=J;var P=function(d){function g(g,l){var h=d.call(this,
g.spatialReference)||this;h.view=g;h.pWS=D.vec3f64.create();h.tangentFrameUpWS=D.vec3f64.create();h.tangentFrameRightWS=D.vec3f64.create();h.tangentFrameForwardWS=D.vec3f64.create();h.localFrameRightWS=D.vec3f64.create();h.localFrameUpWS=D.vec3f64.create();h.worldToLocalTransform=I.quatf64.create();h.localToWorldTransform=I.quatf64.create();h.scale=1;h.scale=g.resolution;h.pMS=l;g=g.state.camera.viewRight;h.view.renderCoordsHelper.toRenderCoords(h.pMS,h.pWS);h.view.renderCoordsHelper.worldBasisAtPosition(h.pWS,
0,h.tangentFrameRightWS);h.view.renderCoordsHelper.worldBasisAtPosition(h.pWS,1,h.tangentFrameUpWS);h.view.renderCoordsHelper.worldBasisAtPosition(h.pWS,2,h.tangentFrameForwardWS);l=D.vec3f64.create();B.vec3.scale(l,h.tangentFrameForwardWS,B.vec3.dot(g,h.tangentFrameForwardWS));B.vec3.subtract(h.localFrameRightWS,g,l);B.vec3.normalize(h.localFrameRightWS,h.localFrameRightWS);B.vec3.cross(h.localFrameUpWS,h.tangentFrameForwardWS,h.localFrameRightWS);H.quat.rotationTo(h.worldToLocalTransform,h.localFrameRightWS,
h.tangentFrameRightWS);H.quat.invert(h.localToWorldTransform,h.worldToLocalTransform);return h}y(g,d);Object.defineProperty(g.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});g.prototype.mapToLocal=function(d){var g=D.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new x.Point({x:d[0],y:d[1],spatialReference:this.spatialReference}),g);B.vec3.transformQuat(g,g,this.worldToLocalTransform);d=this.view.renderCoordsHelper.fromRenderCoords(g,
this.view.spatialReference);return q(d.x/this.scale,d.y/this.scale)};g.prototype.localToMap=function(d){var g=D.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new x.Point({x:d.x*this.scale,y:d.y*this.scale,spatialReference:this.spatialReference}),g);B.vec3.transformQuat(g,g,this.localToWorldTransform);d=this.view.renderCoordsHelper.fromRenderCoords(g,this.view.spatialReference);return[d.x,d.y]};return g}(F);v.SceneViewCoordinateSystem=P;v.createViewAlignedCoordinateSystem=function(d,
g){return"2d"===d.type?new J(d.state.transform,d.spatialReference):"3d"===d.type?new P(d,new x.Point({x:g[0],y:g[1],spatialReference:d.spatialReference})):null};v.createPoint=function(d,g){return new x.Point({x:d[0],y:d[1],spatialReference:g})};v.createMultipoint=function(d,g){return new x.Multipoint({points:d,spatialReference:g})};v.createPolyline=function(d,g,h){d=new x.Polyline({paths:d,spatialReference:g});h&&l.unnormalizeGeometryOnDatelineCrossing(d);return d};v.createPolygon=p;v.createTriangleMS=
function(d,g,l,h){var n=g.mapToLocalMultiple(d);d=n[0];var t=n[1],r=Math.round(t.x-d.x),v=Math.round(t.y-d.y),z=n=null,x=null;l&&h?(l=Math.sqrt(r*r+v*v),n=q(-.8660254037844386*l+d.x,.5*l+d.y),z=q(.8660254037844386*l+d.x,.5*l+d.y),x=q(d.x,d.y-l)):l?(n=q(0<v?t.x:d.x,d.y+v),z=q(d.x-r,0<v?t.y:d.y-v),x=q(0<v?d.x:t.x,d.y-v)):h?(l=Math.max(Math.abs(r),Math.abs(v)),h=l*Math.sqrt(3)/2,n=q(d.x,0<v?d.y+l:d.y),z=q(0<r?d.x+l:d.x-l,0<v?d.y+l:d.y),x=q(0<r?d.x+l/2:d.x-l/2,0<v?d.y+l-h:d.y-h)):(n=q(0<v?d.x+r/2:t.x,
d.y),z=q(0<v?d.x:d.x+r/2,t.y),x=q(0<v?t.x:d.x,0<v?t.y:d.y));return p([[n,x,z].map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!0)};v.createSquare=function(d,g,l){var h=g.mapToLocalMultiple(d);d=[];var n=h[0].x,t=h[0].y,r=Math.round(h[1].x-n),v=Math.round(h[1].y-t),h=Math.max(Math.abs(r),Math.abs(v));l?(l=n+h,r=t+h,n-=h,t-=h,d.push(q(l,t),q(n,t),q(n,r),q(l,r))):(l=0<r?n+h:n-h,h=0<v?t+h:t-h,d.push(q(n,t),q(l,t),q(l,h),q(n,h)));return p([d.map(function(d){return g.localToMap(d)})],
g.spatialReference,g.doUnnormalization,!0)};v.createRectangle=function(d,g,l){var h=g.mapToLocalMultiple(d);1===h.length&&(d=h[0],h=[q(d.x-48,d.y+48),q(d.x+48,d.y-48),q(d.x+48,d.y-48),q(d.x-48,d.y+48)]);d=[];var n=h[0].x,t=h[0].y,r=h[1].x,h=h[1].y;if(l){l=Math.round(r-n);var v=Math.round(h-t);d.push(q(n-l,t-v),q(r,t-v),q(r,h),q(n-l,h))}else d.push(q(n,t),q(r,t),q(r,h),q(n,h));return p([d.map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!0)};v.createCircle=function(g,
h,n){var t=h.mapToLocalMultiple(g),r=g=null;n?(g=t[0],r=t[1]):(g=t[0],t=t[1],n=Math.round(t.x-g.x),t=Math.round(t.y-g.y),r=Math.max(Math.abs(n),Math.abs(t)),g=q(0<n?g.x+r/2:g.x-r/2,0<t?g.y+r/2:g.y-r/2),r=q(Math.abs(n)>Math.abs(t)?g.x-r/2:g.x,Math.abs(n)>Math.abs(t)?g.y:g.y-r/2));g=h.localToMap(g);n=h.localToMap(r);h.doUnnormalization&&l.unnormalizeVerticesOnDatelineCrossing([[g,n]],h.spatialReference);g=new x.Point({x:g[0],y:g[1],spatialReference:h.spatialReference});n=new x.Point({x:n[0],y:n[1],
spatialReference:h.spatialReference});n=d.getMetersPerUnitForSR(h.spatialReference)*E.distance(g,n,null);h=new z({center:g,radius:n,radiusUnit:"meters",spatialReference:h.spatialReference});return p(h.rings,h.spatialReference,!1)};v.createEllipse=function(d,g,l){var h=g.mapToLocalMultiple(d);d=h[0];var n=h[1],h=Math.round(n.x-d.x),n=Math.round(n.y-d.y);d=q(l?d.x:d.x+h/2,l?d.y:d.y+n/2);h=l?h:h/2;l=l?n:n/2;for(var n=[],t=2*Math.PI/60,r=0;60>r;r++){var v=q(h*Math.cos(r*t)+d.x,l*Math.sin(r*t)+d.y);n.push(v)}n.push(n[0]);
return p([n.map(function(d){return g.localToMap(d)})],g.spatialReference,g.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/mat2d":function(){define(["require","exports","./math/mat2d"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.mat2d=y})},"esri/core/libs/gl-matrix-2/mat2df64":function(){define(["require","exports","./factories/mat2df64"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.mat2df64=y})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require",
"exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.create=function(){return[1,0,0,1,0,0]};v.clone=function(v){return[v[0],v[1],v[2],v[3],v[4],v[5]]};v.fromValues=function(v,r,x,d,n,h){return[v,r,x,d,n,h]};v.createView=function(v,r){return new Float64Array(v,r,6)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.quat=y})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(F,v,y,r,x,d,n,h){function H(d,g,l){l*=.5;var h=Math.sin(l);d[0]=h*g[0];d[1]=h*g[1];d[2]=h*g[2];d[3]=Math.cos(l);return d}function I(d,g,l){var h=g[0],n=g[1],p=g[2];g=g[3];var q=l[0],r=l[1],v=l[2];l=l[3];d[0]=h*l+g*q+n*v-p*r;d[1]=n*l+g*r+p*q-h*v;d[2]=p*l+g*v+h*r-n*q;d[3]=g*l-h*q-n*r-p*v;return d}function B(g,l,h,n){var p=l[0],q=l[1],r=l[2];l=l[3];var v=h[0],z=h[1],x=h[2];h=h[3];var y,B,D;B=p*v+q*z+r*x+l*h;0>B&&(B=-B,v=-v,z=-z,x=-x,h=-h);1-B>d.EPSILON?(y=Math.acos(B),D=Math.sin(y),B=Math.sin((1-
n)*y)/D,n=Math.sin(n*y)/D):B=1-n;g[0]=B*p+n*v;g[1]=B*q+n*z;g[2]=B*r+n*x;g[3]=B*l+n*h;return g}function D(d,g){var l=g[0]+g[4]+g[8];if(0<l)l=Math.sqrt(l+1),d[3]=.5*l,l=.5/l,d[0]=(g[5]-g[7])*l,d[1]=(g[6]-g[2])*l,d[2]=(g[1]-g[3])*l;else{var h=0;g[4]>g[0]&&(h=1);g[8]>g[3*h+h]&&(h=2);var n=(h+1)%3,p=(h+2)%3,l=Math.sqrt(g[3*h+h]-g[3*n+n]-g[3*p+p]+1);d[h]=.5*l;l=.5/l;d[3]=(g[3*n+p]-g[3*p+n])*l;d[n]=(g[3*n+h]+g[3*h+n])*l;d[p]=(g[3*p+h]+g[3*h+p])*l}return d}Object.defineProperty(v,"__esModule",{value:!0});
v.identity=function(d){d[0]=0;d[1]=0;d[2]=0;d[3]=1;return d};v.setAxisAngle=H;v.getAxisAngle=function(g,l){var h=2*Math.acos(l[3]),n=Math.sin(h/2);n>d.EPSILON?(g[0]=l[0]/n,g[1]=l[1]/n,g[2]=l[2]/n):(g[0]=1,g[1]=0,g[2]=0);return h};v.multiply=I;v.rotateX=function(d,g,l){l*=.5;var h=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(l);l=Math.cos(l);d[0]=h*l+g*q;d[1]=n*l+p*q;d[2]=p*l-n*q;d[3]=g*l-h*q;return d};v.rotateY=function(d,g,l){l*=.5;var h=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(l);l=Math.cos(l);d[0]=
h*l-p*q;d[1]=n*l+g*q;d[2]=p*l+h*q;d[3]=g*l-n*q;return d};v.rotateZ=function(d,g,l){l*=.5;var h=g[0],n=g[1],p=g[2];g=g[3];var q=Math.sin(l);l=Math.cos(l);d[0]=h*l+n*q;d[1]=n*l-h*q;d[2]=p*l+g*q;d[3]=g*l-p*q;return d};v.calculateW=function(d,g){var l=g[0],h=g[1];g=g[2];d[0]=l;d[1]=h;d[2]=g;d[3]=Math.sqrt(Math.abs(1-l*l-h*h-g*g));return d};v.slerp=B;v.random=function(g){var l=d.RANDOM(),h=d.RANDOM(),n=d.RANDOM(),p=Math.sqrt(1-l),l=Math.sqrt(l);g[0]=p*Math.sin(2*Math.PI*h);g[1]=p*Math.cos(2*Math.PI*h);
g[2]=l*Math.sin(2*Math.PI*n);g[3]=l*Math.cos(2*Math.PI*n);return g};v.invert=function(d,g){var l=g[0],h=g[1],n=g[2];g=g[3];var p=l*l+h*h+n*n+g*g,p=p?1/p:0;d[0]=-l*p;d[1]=-h*p;d[2]=-n*p;d[3]=g*p;return d};v.conjugate=function(d,g){d[0]=-g[0];d[1]=-g[1];d[2]=-g[2];d[3]=g[3];return d};v.fromMat3=D;v.fromEuler=function(d,g,l,h){var n=.5*Math.PI/180;g*=n;l*=n;h*=n;n=Math.sin(g);g=Math.cos(g);var p=Math.sin(l);l=Math.cos(l);var q=Math.sin(h);h=Math.cos(h);d[0]=n*l*h-g*p*q;d[1]=g*p*h+n*l*q;d[2]=g*l*q-n*
p*h;d[3]=g*l*h+n*p*q;return d};v.str=function(d){return"quat("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};v.copy=h.copy;v.set=h.set;v.add=h.add;v.mul=I;v.scale=h.scale;v.dot=h.dot;v.lerp=h.lerp;v.length=h.length;v.len=v.length;v.squaredLength=h.squaredLength;v.sqrLen=v.squaredLength;v.normalize=h.normalize;v.exactEquals=h.exactEquals;v.equals=h.equals;v.rotationTo=function(d,g,h){var p=n.dot(g,h);if(-.999999>p)return n.cross(z,E,g),1E-6>n.len(z)&&n.cross(z,l,g),n.normalize(z,z),H(d,z,Math.PI),d;if(.999999<
p)return d[0]=0,d[1]=0,d[2]=0,d[3]=1,d;n.cross(z,g,h);d[0]=z[0];d[1]=z[1];d[2]=z[2];d[3]=1+p;return v.normalize(d,d)};var z=x.create(),E=x.fromValues(1,0,0),l=x.fromValues(0,1,0);v.sqlerp=function(d,l,h,n,p,r){B(g,l,p,r);B(q,h,n,r);B(d,g,q,2*r*(1-r));return d};var g=r.create(),q=r.create();v.setAxes=function(d,g,l,h){var n=p;n[0]=l[0];n[3]=l[1];n[6]=l[2];n[1]=h[0];n[4]=h[1];n[7]=h[2];n[2]=-g[0];n[5]=-g[1];n[8]=-g[2];return v.normalize(d,D(d,n))};var p=y.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.create=function(){return[1,0,0,0,1,0,0,0,1]};v.clone=function(v){return[v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8]]};v.fromValues=function(v,r,x,d,n,h,H,I,B){return[v,r,x,d,n,h,H,I,B]};v.createView=function(v,r){return new Float64Array(v,r,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.create=function(){return[0,
0,0,1]};v.clone=function(v){return[v[0],v[1],v[2],v[3]]};v.fromValues=function(v,r,x,d){return[v,r,x,d]};v.createView=function(v,r){return new Float64Array(v,r,4)}})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(F,v,y){function r(d,h,n){d[0]=h[0]-n[0];d[1]=h[1]-n[1];d[2]=h[2]-n[2];d[3]=h[3]-n[3];return d}function x(d,h,n){d[0]=h[0]*n[0];d[1]=h[1]*n[1];d[2]=h[2]*n[2];d[3]=h[3]*n[3];return d}function d(d,h,n){d[0]=h[0]/n[0];d[1]=h[1]/n[1];d[2]=h[2]/
n[2];d[3]=h[3]/n[3];return d}function n(d,h){var n=h[0]-d[0],r=h[1]-d[1],l=h[2]-d[2];d=h[3]-d[3];return Math.sqrt(n*n+r*r+l*l+d*d)}function h(d,h){var n=h[0]-d[0],r=h[1]-d[1],l=h[2]-d[2];d=h[3]-d[3];return n*n+r*r+l*l+d*d}function H(d){var h=d[0],n=d[1],r=d[2];d=d[3];return Math.sqrt(h*h+n*n+r*r+d*d)}function I(d){var h=d[0],n=d[1],r=d[2];d=d[3];return h*h+n*n+r*r+d*d}Object.defineProperty(v,"__esModule",{value:!0});v.copy=function(d,h){d[0]=h[0];d[1]=h[1];d[2]=h[2];d[3]=h[3];return d};v.set=function(d,
h,n,r,l){d[0]=h;d[1]=n;d[2]=r;d[3]=l;return d};v.add=function(d,h,n){d[0]=h[0]+n[0];d[1]=h[1]+n[1];d[2]=h[2]+n[2];d[3]=h[3]+n[3];return d};v.subtract=r;v.multiply=x;v.divide=d;v.ceil=function(d,h){d[0]=Math.ceil(h[0]);d[1]=Math.ceil(h[1]);d[2]=Math.ceil(h[2]);d[3]=Math.ceil(h[3]);return d};v.floor=function(d,h){d[0]=Math.floor(h[0]);d[1]=Math.floor(h[1]);d[2]=Math.floor(h[2]);d[3]=Math.floor(h[3]);return d};v.min=function(d,h,n){d[0]=Math.min(h[0],n[0]);d[1]=Math.min(h[1],n[1]);d[2]=Math.min(h[2],
n[2]);d[3]=Math.min(h[3],n[3]);return d};v.max=function(d,h,n){d[0]=Math.max(h[0],n[0]);d[1]=Math.max(h[1],n[1]);d[2]=Math.max(h[2],n[2]);d[3]=Math.max(h[3],n[3]);return d};v.round=function(d,h){d[0]=Math.round(h[0]);d[1]=Math.round(h[1]);d[2]=Math.round(h[2]);d[3]=Math.round(h[3]);return d};v.scale=function(d,h,n){d[0]=h[0]*n;d[1]=h[1]*n;d[2]=h[2]*n;d[3]=h[3]*n;return d};v.scaleAndAdd=function(d,h,n,r){d[0]=h[0]+n[0]*r;d[1]=h[1]+n[1]*r;d[2]=h[2]+n[2]*r;d[3]=h[3]+n[3]*r;return d};v.distance=n;v.squaredDistance=
h;v.length=H;v.squaredLength=I;v.negate=function(d,h){d[0]=-h[0];d[1]=-h[1];d[2]=-h[2];d[3]=-h[3];return d};v.inverse=function(d,h){d[0]=1/h[0];d[1]=1/h[1];d[2]=1/h[2];d[3]=1/h[3];return d};v.normalize=function(d,h){var n=h[0],r=h[1],l=h[2];h=h[3];var g=n*n+r*r+l*l+h*h;0<g&&(g=1/Math.sqrt(g),d[0]=n*g,d[1]=r*g,d[2]=l*g,d[3]=h*g);return d};v.dot=function(d,h){return d[0]*h[0]+d[1]*h[1]+d[2]*h[2]+d[3]*h[3]};v.lerp=function(d,h,n,r){var l=h[0],g=h[1],q=h[2];h=h[3];d[0]=l+r*(n[0]-l);d[1]=g+r*(n[1]-g);
d[2]=q+r*(n[2]-q);d[3]=h+r*(n[3]-h);return d};v.random=function(d,h){h=h||1;var n,r,l,g,q,p;do n=2*y.RANDOM()-1,r=2*y.RANDOM()-1,q=n*n+r*r;while(1<=q);do l=2*y.RANDOM()-1,g=2*y.RANDOM()-1,p=l*l+g*g;while(1<=p);q=Math.sqrt((1-q)/p);d[0]=h*n;d[1]=h*r;d[2]=h*l*q;d[3]=h*g*q;return d};v.transformMat4=function(d,h,n){var r=h[0],l=h[1],g=h[2];h=h[3];d[0]=n[0]*r+n[4]*l+n[8]*g+n[12]*h;d[1]=n[1]*r+n[5]*l+n[9]*g+n[13]*h;d[2]=n[2]*r+n[6]*l+n[10]*g+n[14]*h;d[3]=n[3]*r+n[7]*l+n[11]*g+n[15]*h;return d};v.transformQuat=
function(d,h,n){var r=h[0],l=h[1],g=h[2],q=n[0],p=n[1],v=n[2];n=n[3];var x=n*r+p*g-v*l,z=n*l+v*r-q*g,y=n*g+q*l-p*r,r=-q*r-p*l-v*g;d[0]=x*n+r*-q+z*-v-y*-p;d[1]=z*n+r*-p+y*-q-x*-v;d[2]=y*n+r*-v+x*-p-z*-q;d[3]=h[3];return d};v.str=function(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"};v.exactEquals=function(d,h){return d[0]===h[0]&&d[1]===h[1]&&d[2]===h[2]&&d[3]===h[3]};v.equals=function(d,h){var n=d[0],r=d[1],l=d[2];d=d[3];var g=h[0],q=h[1],p=h[2];h=h[3];return Math.abs(n-g)<=y.EPSILON*Math.max(1,
Math.abs(n),Math.abs(g))&&Math.abs(r-q)<=y.EPSILON*Math.max(1,Math.abs(r),Math.abs(q))&&Math.abs(l-p)<=y.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(d-h)<=y.EPSILON*Math.max(1,Math.abs(d),Math.abs(h))};v.sub=r;v.mul=x;v.div=d;v.dist=n;v.sqrDist=h;v.len=H;v.sqrLen=I})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(F,v,y){Object.defineProperty(v,"__esModule",{value:!0});v.quatf64=y})},"esri/geometry/geometryEngine":function(){define("require exports esri/kernel esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint dojo/_base/lang".split(" "),
function(F,v,y,r,x,d,n,h,H,I){function B(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new d(e);if(void 0!==e.rings)return new x(e);if(void 0!==e.points)return new H(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new h(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJson(e);if(void 0!==e.paths)return d.fromJson(e);if(void 0!==e.rings)return x.fromJson(e);if(void 0!==e.points)return H.fromJson(e);if(void 0!==
e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return h.fromJson(e)}}function D(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new d(e);if(void 0!==e.rings)return new x(e);if(void 0!==e.points)return new H(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new h(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJSON(e);if(void 0!==e.paths)return d.fromJSON(e);if(void 0!==e.rings)return x.fromJSON(e);if(void 0!==
e.points)return H.fromJSON(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return h.fromJSON(e)}}function z(e,d){var g;if(null==e||void 0===e||"number"===typeof e)return e;var b=e.toString();if(""===b)return null;if(2==d){if(g=aa[b],void 0!==g)return g}else if(0==d){g=T[b];if(void 0!==g)return g;g=S[e];if(void 0!==g)return g}else if(3==d&&(g=T[b],void 0!==g))return g;if(1==d&&(g=S[e],void 0!==g))return g;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");
}function E(e){if(void 0!==e&&null!==e)switch(e){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function l(e,l){if(null===e||void 0===e||e.u())return null;switch(e.G()){case t.Fj.Point:var w=new n(e.Be(),e.nf(),l);if(O){var b=e.hasAttribute(t.Wc.M);e.hasAttribute(t.Wc.Z)&&w.set("z",e.rH());b&&w.set("m",e.aH())}return w;case t.Fj.Polygon:var w=e.hasAttribute(t.Wc.Z),b=e.hasAttribute(t.Wc.M),a=g(e,w,b),w=new x({rings:a,
hasZ:w,hasM:b});O?w.set("spatialReference",l):w.setSpatialReference(l);w.setCacheValue("_geVersion",e);return w;case t.Fj.Polyline:return w=e.hasAttribute(t.Wc.Z),b=e.hasAttribute(t.Wc.M),a=g(e,w,b),w=new d({paths:a,hasZ:w,hasM:b}),O?w.set("spatialReference",l):w.setSpatialReference(l),w.setCacheValue("_geVersion",e),w;case t.Fj.MultiPoint:var w=e.hasAttribute(t.Wc.Z),b=e.hasAttribute(t.Wc.M),c=a=null;w&&(a=e.Pa(t.Wc.Z));b&&(c=e.Pa(t.Wc.M));var f=new t.b,k=e.D();l=new H(l);O&&(l.set("hasZ",w),l.set("hasM",
b));for(var m=0;m<k;m++){e.w(m,f);var u=[f.x,f.y];w&&u.push(a.get(m));b&&u.push(c.get(m));l.addPoint(u)}l.setCacheValue("_geVersion",e);return l;case t.Fj.Envelope:return a=e.hasAttribute(t.Wc.Z),w=e.hasAttribute(t.Wc.M),b=new h(e.R.o,e.R.A,e.R.v,e.R.B,l),O&&(a&&(a=e.xf(t.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),w&&(a=e.xf(t.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",e),b}return null}function g(e,d,g){var b=[],a=e.aa(),c=null,f=null;d&&(c=e.Pa(t.Wc.Z));g&&(f=
e.Pa(t.Wc.M));for(var k=new t.b,m=0;m<a;m++){for(var u=e.wa(m),C=e.La(m),A=0,w=0,l=NaN,h=NaN,n=NaN,p=NaN,q=e.Qb(m),r=[],v=u;v<u+C;v++){e.w(v,k);var p=n=NaN,G=[k.x,k.y];d&&(n=c.get(v),G.push(n));g&&(p=f.get(v),G.push(p));v==u&&q&&(A=k.x,w=k.y,l=n,h=p);r.push(G)}!q||A==k.x&&w==k.y&&(!d||isNaN(l)&&isNaN(n)||l==n)&&(!g||isNaN(h)&&isNaN(p)||h==p)||r.push(r[0].slice(0));b.push(r)}return b}function q(e){var d=e._geVersion;if(null==d||void 0==d){if(Object.freeze&&Object.isFrozen(e))return 102100===e.wkid?
X:4326===e.wkid?ba:d=t.Sd.create(e.wkid);-1!=e.wkid&&null!==e.wkid&&void 0!==e.wkid?(d=t.Sd.create(e.wkid),e._geVersion=d):""!==e.wkt&&void 0!==e.wkt&&null!==e.wkt&&(d=t.Sd.qR(e.wkt),e._geVersion=d)}return d}function p(e){if(null==e)return null;if(void 0===e.getCacheValue){var d=e._geVersion;if(null==d||void 0==d)d=t.cc.dG(e),e._geVersion=d}else if(d=e.getCacheValue("_geVersion"),null==d||void 0==d)d=t.cc.dG(e),e.setCacheValue("_geVersion",d);return d}function J(e){return null===e.spatialReference?
null:q(e.spatialReference)}function P(e){return"[object Array]"===Object.prototype.toString.call(e)}function K(e){if(null===e||void 0===e||e.u())return null;switch(e.G()){case t.Fj.Point:var d={};d.x=e.Be();d.y=e.nf();if(O){var w=e.hasAttribute(t.Wc.M);e.hasAttribute(t.Wc.Z)&&(d.z=e.rH());w&&(d.m=e.aH())}return d;case t.Fj.Polygon:return d=e.hasAttribute(t.Wc.Z),w=e.hasAttribute(t.Wc.M),{rings:g(e,d,w),hasZ:d,hasM:w};case t.Fj.Polyline:return d=e.hasAttribute(t.Wc.Z),w=e.hasAttribute(t.Wc.M),{paths:g(e,
d,w),hasZ:d,hasM:w};case t.Fj.MultiPoint:var d=e.hasAttribute(t.Wc.Z),w=e.hasAttribute(t.Wc.M),b=null,a=null;d&&(b=e.Pa(t.Wc.Z));w&&(a=e.Pa(t.Wc.M));var c=new t.b,f=e.D(),k={points:[]};O&&(k.hasZ=d,k.hasM=w);for(var m=0;m<f;m++){e.w(m,c);var u=[c.x,c.y];d&&u.push(b.get(m));w&&u.push(a.get(m));k.points.push(u)}return k;case t.Fj.Envelope:return b=e.hasAttribute(t.Wc.Z),d=e.hasAttribute(t.Wc.M),w={},w.xmin=e.R.o,w.ymin=e.R.A,w.xmax=e.R.v,w.ymax=e.R.B,O&&(b&&(b=e.xf(t.Wc.Z,0),w.zmin=b.ca,w.zmax=b.ha),
d&&(b=e.xf(t.Wc.M,0),w.mmin=b.ca,w.mmax=b.ha)),w}return null}var N=this&&this.__extends||function(e,d){function g(){this.constructor=e}for(var b in d)d.hasOwnProperty(b)&&(e[b]=d[b]);e.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)},t;(function(e){var d=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();e.Xh=d;if("undefined"!==typeof window)e.Xh.yz="browser","Float64Array"in window&&(e.Xh.jw=!0),"ArrayBuffer"in window&&(e.Xh.Bm=!0);else if("undefined"!==typeof process)d.yz=
"node",e.Xh.Bm=!0,e.Xh.jw=!0;else{d.yz="browser";try{var g=new ArrayBuffer(0);new Uint8Array(g);e.Xh.Bm=!0;e.Xh.jw=!0}catch(b){e.Xh.Bm=!1}}})(t||(t={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.Fj||(e.Fj={}));(function(e){e[e.enumMild=0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.uM||(e.uM={}));
var d=function(){function d(){this.description=null;this.CB=0}d.prototype.G=function(){return 0};d.prototype.tb=function(){return-1};d.prototype.Fg=function(b){this.Bc();b!=this.description&&this.mo(b)};d.prototype.mo=function(){};d.prototype.om=function(b){this.Bc();b!=this.description&&(b=e.ye.wT(this.description,b),b!=this.description&&this.mo(b))};d.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};d.prototype.Ud=function(b){this.Bc();this.description.hasAttribute(b)||
(b=e.ye.vT(this.description,b),this.mo(b))};d.prototype.xf=function(){return null};d.prototype.Qn=function(){};d.prototype.s=function(){};d.prototype.Cp=function(){};d.prototype.ac=function(b){this.s(b)};d.prototype.u=function(){return!0};d.prototype.Oa=function(){};d.prototype.Xc=function(){};d.prototype.Ka=function(){return null};d.prototype.copyTo=function(){};d.prototype.hf=function(){return 0};d.prototype.Rb=function(){return 0};d.prototype.uH=function(){return this.hasAttribute(1)};d.lf=function(b){return((b&
192)>>6)+1>>1};d.Jo=function(b){return 0!=(b&32)};d.l_=function(b){return 0!=(b&64)};d.PU=function(b){return 0!=(b&128)};d.Oc=function(b){return 0!=(b&256)};d.gh=function(b){return 0!=(b&512)};d.Ic=function(b){return 0!=(b&1024)};d.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};d.prototype.Gg=function(){return null};d.oe=function(b){var a=b.Ka();b.copyTo(a);return a};d.prototype.Bc=function(){0<=this.CB&&(this.CB+=2147483649)};d.gy=function(b){var a=b.G();if(d.gh(a))return b.D();
if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(d.Oc(a))return 2;throw e.g.X("missing type");};return d}();e.T=d})(t||(t={}));(function(e){var d=function(){function d(){this.y=this.x=0}d.pa=function(b,a){var c=new d;c.x=b;c.y=a;return c};d.El=function(b){var a=new d;a.x=b.x;a.y=b.y;return a};d.prototype.ka=function(b,a){this.x=b;this.y=a};d.prototype.L=function(b){this.x=b.x;this.y=b.y};d.prototype.Uq=function(b,a){return this.x===b&&this.y===a};d.prototype.xA=function(b){return 2.220446049250313E-16>=
Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};d.prototype.ub=function(b){return this.x===b.x&&this.y===b.y};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?this.x==b.x&&this.y==b.y:!1};d.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};d.prototype.zc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};d.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};d.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};d.prototype.bu=
function(b){this.x=-b.x;this.y=-b.y};d.prototype.JU=function(b,a,c){this.x=b.x*(1-c)+a.x*c;this.y=b.y*(1-c)+a.y*c};d.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};d.prototype.FX=function(b,a,c){this.x=a.x*b+c.x;this.y=a.y*b+c.y};d.prototype.scale=function(b){this.x*=b;this.y*=b};d.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};d.prototype.length=
function(){return Math.sqrt(this.x*this.x+this.y*this.y)};d.prototype.qk=function(){return this.x*this.x+this.y*this.y};d.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};d.xz=function(b,a,c,f){b-=c;a-=f;return Math.sqrt(b*b+a*a)};d.prototype.oi=function(b){return this.x*b.x+this.y*b.y};d.prototype.zE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};d.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};d.prototype.qu=function(b,a){var c=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;
this.y=c};d.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};d.prototype.aI=function(b){this.x=-b.y;this.y=b.x};d.prototype.Ur=function(){var b=this.x;this.x=this.y;this.y=-b};d.prototype.dv=function(){this.y=this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};d.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};d.vs=function(b,a){var c=b.$u(),f=a.$u();return f==c?(c=b.Ui(a),0>c?1:0<c?-1:0):c<f?-1:1};d.AZ=function(b,a){return d.vs(b,a)};d.sc=function(b,
a){var c=b.x-a.x;b=b.y-a.y;return c*c+b*b};d.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};d.prototype.$c=function(){this.y=this.x=NaN};d.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};d.prototype.SO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};d.prototype.offset=function(b,a){var c=d.Cb(b,a),f=d.pa(this.x,this.y);if(0==c)return d.Cb(f,b);var k=new d;k.L(a);k.sub(b);f.sub(b);return f.Ui(k)/c};d.zp=function(b,
a,c){var f=new e.Xb;f.set(a.x);f.sub(b.x);var k=new e.Xb;k.set(c.y);k.sub(b.y);var m=new e.Xb;m.set(a.y);m.sub(b.y);var u=new e.Xb;u.set(c.x);u.sub(b.x);f.Vg(k);m.Vg(u);f.sub(m);if(!f.lt())return c=f.value(),0>c?-1:0<c?1:0;f=new e.Tp(a.x);k=new e.Tp(b.x);m=new e.Tp(b.y);f=f.Zt(k);b=new e.Tp(c.y);b=b.Zt(m);a=new e.Tp(a.y);a=a.Zt(m);c=new e.Tp(c.x);c=c.Zt(k);f=f.ds(b);a=a.ds(c);f=f.ds(a);return f.pV()?-1:f.aU()?1:0};d.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return d}();e.b=d})(t||(t={}));(function(e){var d=
function(){function e(b){this.kz=this.Au=0;this.IY=b}e.prototype.reset=function(){this.kz=this.Au=0};e.prototype.add=function(b){b-=this.kz;var a=this.Au+b;this.kz=a-this.Au-b;this.Au=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.en=function(){return this.IY+this.Au};return e}();e.ry=d;d=function(){function e(){}e.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=function(b){return 0>b?-1:0<b?1:0};e.hM=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+
.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,c){var f;.5>=c?f=b+(a-b)*c:f=a-(a-b)*(1-c);return f};e.cI=function(b,a,c,f){.5>=c?(f.x=b.x+(a.x-b.x)*c,f.y=b.y+(a.y-b.y)*c):(f.x=a.x-(a.x-b.x)*(1-c),f.y=a.y-(a.y-b.y)*(1-c))};e.nV=function(b,a,c,f,k,m){.5>=k?(m.x=b+(c-b)*k,m.y=a+(f-a)*k):(m.x=c-(c-b)*(1-k),m.y=f-(f-a)*(1-k))};return e}();e.Ub=d})(t||(t={}));(function(e){var d=function(d){function b(){d.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}N(b,d);b.prototype.ec=function(){return e.b.pa(this.ua,
this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.xC=function(a,c){this.Qm(0,e.b.pa(a,c))};b.prototype.Dp=function(a){this.BE(0,a)};b.prototype.setStart=function(a){this.LE(0,a)};b.prototype.dt=function(a,c){return this.ae(0,a,c)};b.prototype.Tx=function(a,c,f){this.oo(0,a,c,f)};b.prototype.Cc=function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=
function(a,c){this.Qm(1,e.b.pa(a,c))};b.prototype.Bp=function(a){this.BE(1,a)};b.prototype.setEnd=function(a){this.LE(1,a)};b.prototype.Os=function(a,c){return this.ae(1,a,c)};b.prototype.Lx=function(a,c,f){this.oo(1,a,c,f)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,c,f,b,m){return this.QO(a,c,f,b,m)};b.prototype.Yb=function(a,c){return 0!=this.ys(a,c,!1)};b.prototype.mt=
function(a,c){return this.av(a,c,!1)};b.prototype.av=function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=function(a){this.Bc();if(null==this.la&&0<a)this.la=e.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var c=this.la.slice(0),f=this.la.length;f<2*a;f++)c[f]=0;this.la=c}};b.cX=function(a,c,f){if(0<f)var b=0;for(var m=0;m<f;m++)c[0+b]=a[0],b++};b.prototype.Qm=function(a,c){0!=a?(this.sa=c.x,this.oa=c.y):(this.ua=c.x,this.ra=c.y)};b.prototype.mo=function(a){if(null!=
this.la){for(var c=e.ye.vx(a,this.description),f=[],k=b.vl(this.description,0),m=b.vl(this.description,1),u=b.vl(a,0),C=b.vl(a,1),d=0,g=1,w=a.Ga;g<w;g++){var l=a.rd(g),h=e.ma.Xa(l);if(-1==c[g])for(var n=e.ma.de(l),l=0;l<h;l++)f[u+d]=n,f[C+d]=n,d++;else for(n=this.description.xk(c[g])-2,l=0;l<h;l++)f[u+d]=this.la[k+n],f[C+d]=this.la[m+n],d++,n++}this.la=f}this.description=a};b.prototype.BE=function(a,c){if(this.Hc())throw e.g.X("empty geometry");c.Fg(this.description);c.Hc()&&c.nq();for(var f=0;f<
this.description.Ga;f++)for(var b=this.description.Td(f),m=0,u=e.ma.Xa(b);m<u;m++){var C=this.ae(a,b,m);c.setAttribute(b,m,C)}};b.prototype.LE=function(a,c){this.Bc();if(c.Hc())throw e.g.X("empty geometry");for(var f=c.description,b=0,m=f.Ga;b<m;b++)for(var u=f.Td(b),C=e.ma.Xa(u),d=0;d<C;d++){var g=c.Yc(u,d);this.oo(a,u,d,g)}};b.prototype.ae=function(a,c,f){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==c)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;
if(f>=e.ma.Xa(c))throw e.g.wd();var k=this.description.mg(c);return 0<=k?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(k)-2+f]):e.ma.de(c)};b.prototype.oo=function(a,c,f,k){this.Bc();if(f>=e.ma.Xa(c))throw e.g.wd();var m=this.description.mg(c);0>m&&(this.Ud(c),m=this.description.mg(c));0==c?0!=a?0!=f?this.oa=k:this.sa=k:0!=f?this.ra=k:this.ua=k:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.vl(this.description,a)+this.description.xk(m)-
2+f]=k)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.cX(this.la,a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Bc();this.iq(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),f;f.ca=this.ae(0,a,c);f.ha=f.ca;f.ml(this.ae(1,a,c));return f};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ml(this.ae(1,0,0)))};b.prototype.Fx=
function(a,c){c.Fg(this.description);c.rb(this.gc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var m=this.description.Td(f),u=e.ma.Xa(m),C=0;C<u;C++){var d=this.Yc(a,m,C);c.setAttribute(m,C,d)}};b.prototype.NO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var c=0;c<2*(this.description.af.length-2);c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=
function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,c=this.description.Ga;a<c;a++)for(var f=this.description.rd(a),b=0,m=e.ma.Xa(f);b<m;b++){var u=this.ae(0,f,b),C=this.ae(1,f,b);this.oo(0,f,b,C);this.oo(1,f,b,u)}};b.prototype.ys=function(a,c,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.RO(this,a,c,f);throw e.g.za();default:throw e.g.za();}};b.prototype.QO=function(a,c,f,b,m){var k=a.G();switch(this.G()){case 322:if(322==k)return e.Hb.Gy(this,
a,c,f,b,m);throw e.g.za();default:throw e.g.za();}};b.prototype.Cy=function(){return null};b.vl=function(a,c){return c*(a.af.length-2)};b.prototype.gc=function(a,c){if(void 0===c)return c=new e.b,this.gc(a,c),c;e.Ub.nV(this.ua,this.ra,this.sa,this.oa,a,c)};b.prototype.pe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=
function(a,c){return void 0!==c?this.cy(c)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,c){if(!c&&0!=this.ys(a,0,!1))return 0;c=1.7976931348623157E308;var f,b;f=this.ec();b=a.pe(f,!1);f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=this.Cc();b=a.pe(f,!1);
f.sub(a.gc(b));f=f.length();f<c&&(c=f);f=a.ec();b=this.pe(f,!1);f.sub(this.gc(b));f=f.length();f<c&&(c=f);f=a.Cc();b=this.pe(f,!1);f.sub(this.gc(b));f=f.length();f<c&&(c=f);return c};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};return b}(e.T);e.dE=d})(t||(t={}));new t.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.wM||(e.wM={}));(function(e){e[e.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";
e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=
16777215]="DirtyAll"})(e.aM||(e.aM={}));var d=function(d){function b(){d.call(this);this.tn=65535;this.qa=0;this.lh=-1;this.ob=null}N(b,d);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.yk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,c){this.tn=c?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.yk(32)&&
this.$O()};b.prototype.Cu=function(){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.Ae=function(a,c){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.wc();c.Fg(this.description);c.u()&&c.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Td(f),m=0,u=e.ma.Xa(b);m<u;m++){var C=this.ya[f].Of(u*a+m);c.setAttribute(b,m,C)}};b.prototype.vu=function(a,c){this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var m=f.Td(b),u=e.ma.Xa(m),
C=0;C<u;C++){var d=c.Yc(m,C);this.setAttribute(m,a,C,d)}};b.prototype.w=function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.wc();this.ya[0].fc(2*a,c)};b.prototype.Ba=function(a){var c=new e.b;this.w(a,c);return c};b.prototype.Nc=function(a,c){this.ya[0].fc(2*a,c)};b.prototype.rb=function(a,c,f){if(0>a||a>=this.qa)throw e.g.wd();this.wc();var b=this.ya[0];void 0!==f?(b.write(2*a,c),b.write(2*a+1,f)):b.fo(2*a,c);this.Dc(1993)};b.prototype.mA=function(a){if(0>a||a>=this.D())throw e.g.wd();this.wc();
var c=this.ya[0],f=new e.qd;f.x=c.read(2*a);f.y=c.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Of(a):e.ma.de(1);return f};b.prototype.CC=function(a,c){if(0>a||a>=this.D())throw e.g.wd();this.Ud(1);this.wc();this.Dc(1993);var f=this.ya[0];f.write(2*a,c.x);f.write(2*a+1,c.y);this.ya[1].Dm(a,c.z)};b.prototype.Yc=function(a,c,f){if(0>c||c>=this.qa)throw e.g.wd();var b=e.ma.Xa(a);if(f>=b)throw e.g.wd();this.wc();var m=this.description.mg(a);return 0<=m?this.ya[m].Of(c*b+f):e.ma.de(a)};b.prototype.KG=
function(a,c,f){return this.Yc(a,c,f)};b.prototype.setAttribute=function(a,c,f,b){if(0>c||c>=this.qa)throw e.g.wd();var k=e.ma.Xa(a);if(f>=k)throw e.g.wd();this.Ud(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(c*k+f,b)};b.prototype.Pa=function(a){this.Cu();this.Ud(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,c){if(null!=c&&e.ma.si(a)!=c.si())throw e.g.F();this.Ud(a);a=this.description.mg(a);null==this.ya&&(this.ya=e.Uc.JB(this.description.Ga));
this.ya[a]=c;this.Dc(16777215)};b.prototype.mo=function(a){var c=null;if(null!=this.ya)for(var f=e.ye.vx(a,this.description),c=[],b=0,m=a.Ga;b<m;b++)-1!=f[b]&&(c[b]=this.ya[f[b]]);this.description=a;this.ya=c;this.lh=-1;this.Dc(16777215)};b.prototype.QE=function(a){this.fv(!0);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.ZO=function(a){this.fv(!1);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.QE(a)};b.prototype.Cp=
function(a){this.QE(a)};b.prototype.ac=function(a){this.ZO(a)};b.prototype.xf=function(a,c){var f=new e.Ac;if(this.Hc())return f.Oa(),f;this.fv(!0);return this.R.xf(a,c)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].Ak(a,0,c*e.ma.Xa(this.description.Td(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;
var c=this.D();if(c!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var k=this.description.rd(f),m=this.Pa(k),u=a.Pa(k);if(!m.Eb(u,0,c*e.ma.Xa(k)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.yE(a)};b.prototype.yE=function(a){this.wc();a.description=this.description;a.ya=null;var c=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<c;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Tr(this.D()*e.ma.Xa(this.description.Td(b))));null!=this.R?(a.R=
this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=f;try{this.iq(a)}catch(m){throw a.Oa(),e.g.UN();}};b.prototype.NE=function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.EO();this.Bc()};b.prototype.fv=function(a){this.wc();if(this.yk(192))if(null==this.R?this.R=new e.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var c=1;c<this.description.Ga;c++)for(var f=
this.description.Td(c),b=e.ma.Xa(f),m=this.ya[c],u=0;u<b;u++){var C=new e.Ac;C.Oa();for(var d=0;d<this.qa;d++){var g=m.Of(d*b+u);C.Nb(g)}this.R.setInterval(f,u,C)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],c=new e.b,f=0;f<this.qa;f++)a.fc(2*f,c),this.R.Nb(c)};b.prototype.uo=function(a){a.Oa();for(var c=this.ya[0],f=new e.b,b=0;b<this.qa;b++)c.fc(2*b,f),a.Nb(f)};b.prototype.$O=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=e.Uc.JB(this.description.Ga));
this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var c=this.description.Td(a);if(null!=this.ya[a]){var f=e.ma.Xa(c),b=e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.de(c)));b<this.lh&&(this.lh=b)}else this.ya[a]=e.Uc.qz(c,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Lk=function(a){if(!this.yk(1)){if(!this.yk(2))return 0;
if(this.PV>=a)return this.yk(8)?1:2}return-1};b.prototype.Zg=function(a,c){this.PV=c;if(-1==a)this.lg(1,!0),this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw e.g.X("internal error.");};b.prototype.EO=function(){null!=this.ob&&(this.ob=null)};b.prototype.EE=function(a,c,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>c||c>=this.qa)throw e.g.X("index out of bounds");
this.wc();b.Fg(this.description);b.u()&&b.nq();for(var k=0;k<this.description.Ga;k++)for(var u=this.description.Td(k),C=0,d=e.ma.Xa(u);C<d;C++){var g=this.ya[k].Of(d*a+C),w=this.ya[k].Of(d*c+C);b.setAttribute(u,C,e.Ub.Xq(g,w,f))}};b.prototype.xs=function(a,c){var f=this.ya[0].f,b=f[2*a]-f[2*c],f=f[2*a+1]-f[2*c+1];return Math.sqrt(b*b+f*f)};b.prototype.Yh=function(a,c){if(0>a||a>=this.qa)throw e.g.wd();if(c.u())throw e.g.F();this.wc();for(var f=c.description,b=0;b<f.Ga;b++)for(var m=f.rd(b),u=e.ma.Xa(m),
C=0;C<u;C++){var d=c.Yc(m,C);this.setAttribute(m,a,C,d)}};b.prototype.Xu=function(){return null};b.prototype.Hj=function(){return null};return b}(e.T);e.Mu=d})(t||(t={}));(function(e){var d=function(){function d(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new e.ad(7);this.Oo=null}d.prototype.Ep=function(b){this.Oo=b};d.prototype.PR=function(){this.Dw=!1};d.prototype.Qe=function(b){this.pb.Qe(b)};d.prototype.Ks=function(b){var a=this.pb.Pe();this.nY(a);this.qY(b,a);return a};
d.prototype.JR=function(b){this.pb.kd(b)};d.prototype.addElement=function(b,a){var c;-1==a?(-1==this.qf&&(this.qf=this.Ks(-1)),c=this.qf):c=a;return this.XE(b,0,c)};d.prototype.aF=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.XE(b,1,this.qf)};d.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var c=this.pb.f;if(-1==a||-1==c[7*a])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),c=this.pb.f,c[7*a]=b,this.pq(-1,b,a,c),b;var f=-1==a?-1:c[7*a+2];b=this.pb.nl([-1,
-1,f,b,this.Ll(),-1,-1]);c=this.pb.f;c[7*f+1]=b;this.Vy(b,c);-1===c[7*b+2]&&(c[7*a]=b);this.pq(-1,b,a,c);return b};d.prototype.jv=function(b,a,c,f){var k=-1;-1==k&&(-1==this.qf&&(this.qf=this.Ks(-1)),k=this.qf);var m=this.pb.f;if(-1==k||-1==m[7*k])return c=this.pb.nl([-1,-1,-1,c,this.Ll(),-1,-1]),m=this.pb.f,m[7*k]=c,this.pq(-1,c,k,m),c;var u;f?(f=-1!=a?this.Oo.compare(this,c,a):-1,u=-1!=b?this.Oo.compare(this,c,b):1):(f=-1,u=1);if(0==f||0==u)return m[7*k+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Gn>e.J.IB(this.Gn)>>
1:-1!=a)?b=a:f=u;for(a=!0;;){if(0>f)if(u=m[7*b],-1!=u)b=u;else{f=b;c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,-1]);m=this.pb.f;m[7*b]=c;break}else if(u=m[7*b+1],-1!=u)b=u;else{f=m[7*b+6];c=this.pb.nl([-1,-1,b,c,this.Ll(),-1,-1]);m=this.pb.f;m[7*b+1]=c;break}a&&(f*=-1,a=!1)}this.Vy(c,m);-1===m[7*c+2]&&(m[7*k]=c);this.pq(f,c,k,m);return c};d.prototype.QG=function(){return this.aT(this.qf)};d.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.IR(b,a):this.gZ(b,a)};d.prototype.search=function(b,a){for(a=
this.fw(a);-1!=a;){var c=this.Oo.compare(this,b,a);if(0==c)return a;a=0>c?this.Pl(a):this.Nq(a)}return-1};d.prototype.IX=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Pl(a):(c=a,a=this.Nq(a))}return c};d.prototype.lK=function(b){for(var a=this.fw(-1),c=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(c=a,a=this.Pl(a)):a=this.Nq(a)}return c};d.prototype.ja=function(b){return this.pb.S(b,3)};d.prototype.Pl=function(b){return this.pb.S(b,0)};
d.prototype.Nq=function(b){return this.pb.S(b,1)};d.prototype.getParent=function(b){return this.pb.S(b,2)};d.prototype.nb=function(b){return this.pb.S(b,6)};d.prototype.Ve=function(b){return this.pb.S(b,5)};d.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};d.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};d.prototype.TT=function(b){return-1==b?this.nH(this.qf):this.nH(b)};d.prototype.kk=function(b,a){this.oC(b,a)};d.prototype.fw=function(b){return-1==b?this.iH(this.qf):
this.iH(b)};d.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};d.prototype.size=function(b){return-1==b?this.kH(this.qf):this.kH(b)};d.prototype.PP=function(b,a){for(var c=a[7*b],f=a[7*b+1],k=a[7*b+4];-1!=c||-1!=f;){var m=-1!=c?a[7*c+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(k<=Math.min(m,f))break;m<=f?this.iK(c,a):this.hK(b,a);c=a[7*b];f=a[7*b+1]}};d.prototype.Vy=function(b,a){if(this.Dw)for(var c=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>c;)a[7*f]==b?this.iK(b,a):this.hK(f,a),f=a[7*b+2]};d.prototype.hK=
function(b,a){var c=a[7*b+1],f;a[7*c+2]=a[7*b+2];a[7*b+2]=c;f=a[7*c];a[7*b+1]=f;-1!=f&&(a[7*f+2]=b);a[7*c]=b;f=a[7*c+2];-1!=f&&(a[7*f]==b?a[7*f]=c:a[7*f+1]=c)};d.prototype.iK=function(b,a){var c=a[7*b+2],f;a[7*b+2]=a[7*c+2];a[7*c+2]=b;f=a[7*b+1];a[7*c]=f;-1!=f&&(a[7*f+2]=c);a[7*b+1]=c;f=a[7*b+2];-1!=f&&(a[7*f]===c?a[7*f]=b:a[7*f+1]=b)};d.prototype.sl=function(b,a){this.pb.P(b,2,a)};d.prototype.sC=function(b,a){this.pb.P(b,0,a)};d.prototype.wC=function(b,a){this.pb.P(b,1,a)};d.prototype.vC=function(b,
a){this.pb.P(b,5,a)};d.prototype.Qx=function(b,a){this.pb.P(b,6,a)};d.prototype.OK=function(b,a){this.pb.P(a,0,b)};d.prototype.nY=function(b){this.pb.P(b,4,0)};d.prototype.qY=function(b,a){this.pb.P(a,5,b)};d.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};d.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};d.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};d.prototype.aT=function(b){return-1==b?-1:this.pb.S(b,3)};d.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};d.prototype.nH=
function(b){return this.pb.S(b,5)};d.prototype.Bx=function(b){return this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1])};d.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};d.prototype.Ll=function(){this.Gn=e.J.IB(this.Gn);return this.Gn&1073741823};d.prototype.XE=function(b,a,c){var f=this.pb.f;if(-1==c||-1==f[7*c])return b=this.pb.nl([-1,-1,-1,b,this.Ll(),-1,-1]),f=this.pb.f,f[7*c]=b,this.pq(-1,b,c,f),b;for(var k=-1==c?-1:f[7*c];;){var m=-1==a?1:this.Oo.compare(this,b,k);if(0>m)if(m=this.Pl(k),-1!=m)k=m;else{a=
k;b=this.pb.nl([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k]=b;break}else{if(1==a&&0==m)return f[7*c+3]=k,-1;m=f[7*k+1];if(-1!=m)k=m;else{a=f[7*k+6];b=this.pb.nl([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k+1]=b;break}}}this.Vy(b,f);-1===f[7*b+2]&&(f[7*c]=b);this.pq(a,b,c,f);return b};d.prototype.pq=function(b,a,c,f){var k;-1!=b?(k=f[7*b+5],f[7*b+5]=a):k=-1==c?-1:f[7*c+2];f[7*a+5]=k;-1!=k&&(f[7*k+6]=a);f[7*a+6]=b;b==(-1==c?-1:f[7*c+1])&&(f[7*c+1]=a);-1==b&&(f[7*c+2]=a);f[7*c+4]=(-1==c?0:f[7*c+
4])+1};d.prototype.aC=function(b,a){var c=this.pb.f,f=c[7*b+5];b=c[7*b+6];-1!=f?c[7*f+6]=b:c[7*a+1]=b;-1!=b?c[7*b+5]=f:c[7*a+2]=f;c[7*a+4]=-1===a?-1:c[7*a+4]-1};d.prototype.gZ=function(b,a){this.aC(b,a);var c=this.Pl(b),f=this.Nq(b),k=this.getParent(b),m=b;if(-1!=c&&-1!=f){this.Gn=e.J.IB(this.Gn);var u;u=1073741823<this.Gn?this.nb(b):this.Ve(b);var C=this.getParent(u)==b;this.pb.ay(b,u,0);this.pb.ay(b,u,1);this.pb.ay(b,u,2);-1!=k?this.Pl(k)==b?this.sC(k,u):this.wC(k,u):this.OK(u,a);C?(c==u?(this.sC(u,
b),this.sl(f,u)):f==u&&(this.wC(u,b),this.sl(c,u)),this.sl(b,u),k=u):(this.sl(c,u),this.sl(f,u),k=this.getParent(b),m=u);c=this.Pl(b);f=this.Nq(b);-1!=c&&this.sl(c,b);-1!=f&&this.sl(f,b)}c=-1!=c?c:f;-1==k?this.OK(c,a):this.Pl(k)==m?this.sC(k,c):this.wC(k,c);-1!=c&&this.sl(c,k);this.Kl(b,a)};d.prototype.IR=function(b,a){var c=this.pb.f;c[7*b+4]=2147483647;var f=-1,k=-1,m=-1===a?-1:c[7*a],e=m==b;e&&(f=c[7*m],k=c[7*m+1],-1==f&&-1==k)?(this.aC(m,a),this.Kl(m,a),c[7*a]=-1):(this.PP(b,c),m=c[7*b+2],-1!=
m&&(c[7*m]==b?c[7*m]=-1:c[7*m+1]=-1),this.aC(b,a),this.Kl(b,a),e&&(c[7*a]=-1==f||-1!=c[7*f+2]?k:f))};d.prototype.oC=function(b,a){this.pb.P(b,3,a)};return d}();e.uk=d})(t||(t={}));(function(e){var d=function(){function d(b,a){void 0!==b&&this.I(b,a)}d.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};d.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};d.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};d.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>
this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&this.Oa()}};d.prototype.Oa=function(){this.ha=this.ca=NaN};d.prototype.u=function(){return isNaN(this.ca)};d.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ml(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};d.prototype.ml=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};d.prototype.contains=function(b){return"number"===
typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};d.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};d.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};d.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};d.prototype.lC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};d.prototype.wu=
function(b){return e.J.pk(b,this.ca,this.ha)};d.prototype.N=function(){return this.ha-this.ca};d.prototype.Wf=function(){return.5*(this.ca+this.ha)};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};d.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return d}();e.Ac=d})(t||(t={}));(function(e){var d=new e.Ac,g=new e.Ac,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new e.Hb;this.ZA=55555555;this.Fw=this.Iw=!1;this.rg=
new e.Ac;this.rg.lC(0,0)}}();e.k_=b;var a=function(){function a(a,c,m){this.a=a;this.il=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=c;this.Dr=10*c;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.QA=m;this.AB=new b;this.kJ=new b;e.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,c,b,e){a.Le=null===e?null:e[b[5*c]];a.Fw=null!=a.Le;a.Fw||(e=b[5*c+2],-1!==e&&this.a.hX(b[5*c],b[5*e],a.wb),a.Le=a.wb,a.rg.lC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||
(a.ZA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.SQ=function(a,c){var f=a.ys(c,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Wi();a.Oq(Q);a.Ps(R);c.Oq(Y);c.Ps(V);M.ka(this.Ar,this.il);Q.ub(Y)&&this.il==Q.y?0>R.compare(V)?M.L(R):M.L(V):Q.ub(V)&&this.il==Q.y?0>R.compare(Y)?M.L(R):M.L(Y):Y.ub(R)&&this.il==Y.y?0>Q.compare(V)?M.L(Q):M.L(V):R.ub(V)&&this.il==R.y&&(0>Q.compare(Y)?M.L(Q):M.L(Y));return a.pf(M.y,M.x)<c.pf(M.y,M.x)?-1:1};a.prototype.QQ=function(a,c){if(a.wb.ra==c.wb.ra&&a.wb.ua==c.wb.ua)return a.wb.oa==
c.wb.oa&&a.wb.sa==c.wb.sa?this.QA?this.Az():0:this.WF(a,c);if(a.wb.oa==c.wb.oa&&a.wb.sa==c.wb.sa)return this.VF(a,c);var f=this.VF(a,c);a=this.WF(a,c);return 0>f&&0>a?-1:0<f&&0<a?1:this.Wi()};a.prototype.MQ=function(a,c){if(a.sa>c.sa){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.sa-a.ua)<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.NQ=function(a,c){if(a.ua<c.ua){if(c.sa>c.ua&&c.oa-c.ra<2*this.ta&&a.Si(c.sa,
c.oa,this.ta))return this.Wi()}else if((c.oa-c.ra)/(c.sa-c.ua)*(a.ua-a.sa)<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.OQ=function(a,c){var f=new e.b;f.zc(c.Cc(),c.ec());f.Ur();f.normalize();var b=new e.b;b.zc(a.ec(),c.ec());var k=new e.b;k.zc(a.Cc(),c.ec());var b=b.oi(f),f=k.oi(f),k=Math.abs(b),d=Math.abs(f);if(k<d){if(k<this.Dr&&c.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(d<this.Dr&&c.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>f?-1:0<b&&0<f?1:this.Wi()};
a.prototype.UF=function(a,c){return a.ra==c.ra&&a.ua==c.ua?this.MQ(a,c):a.oa==c.oa&&a.sa==c.sa?this.NQ(a,c):this.OQ(a,c)};a.prototype.PQ=function(a,c){return a.oa==c.oa&&a.sa==c.sa&&a.ra==c.ra&&a.ua==c.ua?this.QA?this.Az():0:this.Wi()};a.prototype.VF=function(a,c){var f=1;if(a.wb.ra<c.wb.ra){var f=-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var k=b.ua-a.ua;c=c.ZA*(b.ra-a.ra);var e=this.Dr;return k<c-e?-f:k>c+e?f:a.Si(b.ua,b.ra,this.ta)?this.Wi():k<c?-f:f};a.prototype.WF=function(a,c){var f=1;if(c.wb.oa<a.wb.oa){var f=
-1,b=a;a=c;c=b}b=a.wb;a=c.wb;var k=b.sa-a.ua;c=c.ZA*(b.oa-a.ra);var e=this.Dr;return k<c-e?-f:k>c+e?f:a.Si(b.sa,b.oa,this.ta)?this.Wi():k<c?-f:f};a.prototype.Az=function(){this.Ng=!0;this.mj=new e.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.QA?this.mj=new e.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.RQ=function(a,c,b,e){if(this.Ng)return-1;var f=this.bJ==this.il&&this.aJ==this.Ar,k;f&&a==this.Rt?k=this.cJ:(k=NaN,this.Rt=-1);f&&c==this.St?
f=this.dJ:(f=NaN,this.St=-1);b.Le.SJ(d);e.Le.SJ(g);if(d.ha<g.ca)return-1;if(g.ha<d.ca)return 1;this.bJ=this.il;this.aJ=this.Ar;isNaN(k)&&(this.Rt=a,this.cJ=k=a=b.Le.pf(this.il,this.Ar));isNaN(f)&&(this.St=c,this.dJ=f=a=e.Le.pf(this.il,this.Ar));return Math.abs(k-f)<=this.ta?this.SQ(b.Le,e.Le):k<f?-1:k>f?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,c){this.il=a;this.Ar=c;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,
c,b){if(this.Ng)return-1;a=a.ja(b);this.rn=b;return this.YF(c,c,a,a)};a.prototype.YF=function(a,c,b,e){var f;this.vp==c?f=this.AB:(this.vp=c,f=this.AB,this.AB.qb=a,this.AH(f,c,this.a.Dd.f,this.a.wf));var k;null==k&&(this.Yt=e,k=this.kJ,this.kJ.qb=b,this.AH(k,e,this.a.Dd.f,this.a.wf));if(f.Fw||k.Fw)return this.RQ(c,e,f,k);if(f.rg.ha<k.rg.ca)return-1;if(k.rg.ha<f.rg.ca)return 1;a=f.Iw?1:0;a|=k.Iw?2:0;return 0==a?this.QQ(f,k):1==a?this.UF(f.wb,k.wb):2==a?-1*this.UF(k.wb,f.wb):this.PQ(f.wb,k.wb)};return a}();
e.gE=a})(t||(t={}));(function(e){var d=function(){function d(b,a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new e.Ac;this.wr=new e.b;this.wr.$c();this.Fe=new e.Hb;this.rn=-1;this.iB=1.7976931348623157E308}d.prototype.Gs=function(){this.Ng=!1;this.iB=1.7976931348623157E308};d.prototype.Yh=function(b){this.wr.L(b)};d.prototype.compare=function(b,a){return this.ZF(a,b.ja(a))};d.prototype.ZF=function(b,a){var c=null!=this.a.ic(a);c||(this.a.pd(a,this.Fe),this.rg.lC(this.Fe.ua,this.Fe.sa));if(c)throw e.g.X("not implemented");
if(this.wr.x+this.ta<this.rg.ca)return-1;if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();c=new e.b;c.zc(this.Fe.Cc(),a);c.Ur();var f=new e.b;f.zc(this.wr,a);a=c.oi(f);a/=c.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(c=Math.abs(a),c<this.iB&&(this.rn=b,this.iB=c),this.Ng=!0,c<.25*this.ta)?0:0>a?-1:1};return d}();e.bO=d})(t||(t={}));(function(e){function d(b,a,c,f){c=new Float64Array(b.subarray(c,
f));b.set(c,a)}var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,
f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.pX=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=
function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=
c;this.f=f}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=
a.read(c))return!1;return!0};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;u-=a;for(var k=this.f.slice(a,a+u),d=0;d<u;d++)this.f[a+2*b+d]=k[d];if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--};b.prototype.Rk=function(a,c,f,b,m,u,C){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();var k=this.size-C;
k<b&&this.resize(this.size+b-k);for(k=0;k<C-a;k++)this.f[a+b+k]=this.f[a+k];this.f==c.f&&a<f&&(f+=b);if(m)for(k=0;k<b;k++)this.f[k+a]=c.f[f+k];else for(m=b,C=0;C<b;C+=u)for(m-=u,k=0;k<u;k++)this.f[a+C+k]=c.f[f+m+k]};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var k=this.f.slice(a,a+b),u=0;u<b;u++)this.f[a+f+u]=k[u];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),m=0;m<f-a;m++)this.f[m+a+2]=b[m];this.f[a]=
c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=f[b+m];else for(m||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,
b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),m=0;m<f;m++)this.f[a+m]=b[m]}this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var C=this.f[a+
m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=C}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f){for(var k=0;k<c;k++)this.f[a+k]=this.f[f+k];if(!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(k=0;k<m;k++){var C=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=C}f+=m;a-=m}}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<
1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=m};b.prototype.hy=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=m};b.prototype.pl=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,c,f,b,m){if(0>a||0>c||0>
b||this.size<(c>>1)+a)throw e.g.F();if(0!=c)for(m||(a+=c-1),m=m?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=m};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){var b=this.f.slice(0,a),m=this.f.slice(c);a=this.f.slice(a,c).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(m))};b.prototype.si=function(){return 1};b.Bb=0;return b}();e.Rd=g;g=function(){function b(a){this.xa=this.Ce=
!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Float64Array(c);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Float64Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>
c&&(c=2);f.f=new Float64Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=
function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=
new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.Zi(this.read(c));
return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,f,b,m,u,C){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();var k=this.size-C;k<b&&this.resize(this.size+b-k);d(this.f,a+b,a,a+(C-a));this.f==c.f&&a<f&&(f+=b);if(m)this.f.set(c.f.subarray(f,f+b),a);else for(m=b,C=0;C<b;C+=u)for(m-=u,k=0;k<u;k++)this.f[a+C+k]=c.f[f+
m+k]};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;d(this.f,a+2*b,a,a+(u-a));if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;for(var k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--}};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;d(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();d(this.f,
a+2,a,a+(f-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(f.length<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(f.subarray(b,c),a);else for(m||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=
f.f[b],a++,b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<f-(a+c)&&d(this.f,a,a+c,a+(f-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var C=this.f[a+m+u];this.f[a+m+u]=this.f[a+
c+u];this.f[a+c+u]=C}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f)if(this.f.set(this.f.subarray(f,f+c),a),!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(var k=0;k<m;k++){var C=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=C}f+=m;a-=m}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=
m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=m};b.prototype.hy=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=m};b.prototype.pl=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<(c>>1)+a)throw e.g.F();
if(0!=c)for(m||(a+=c-1),m=m?2:-2,c=b+c;b<c;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=m};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){Array.prototype.sort.call(this.f.subarray(a,c),f)};b.prototype.si=function(){return 1};return b}();e.LL=g})(t||(t={}));!0===t.Xh.Bm&&!0===t.Xh.jw&&(t.Rd=t.LL);(function(e){function d(b,a,c,f){c=new Int32Array(b.subarray(c,f));b.set(c,a)}e.BZ=function(){return function(){this.random=
1973}}();var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,
f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};
b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=c;this.f=f}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,
c,f,b,m,u,d){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();for(var k=0;k<d-a;k++)this.f[a+b+k]=this.f[a+k];this.f==c.f&&a<f&&(f+=b);if(m)for(k=0;k<b;k++)this.f[k+a]=c.f[f+k];else for(m=b,d=0;d<b;d+=u)for(m-=u,k=0;k<u;k++)this.f[a+d+k]=c.f[f+m+k]};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;u-=a;for(var k=this.f.slice(a,a+u),d=0;d<u;d++)this.f[a+2*b+d]=k[d];if(m)for(m=0;m<b;m++)u=
c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--};b.prototype.Vj=function(a,c,f,b){if(this.xa)throw e.g.Da();b-=a;for(var k=this.f.slice(a,a+b),u=0;u<b;u++)this.f[a+f+u]=k[u];for(b=0;b<f;b++)this.f[a+b]=c};b.prototype.eh=function(a,c,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),m=0;m<f-a;m++)this.f[m+a+2]=b[m];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(f.length<
b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=f[b+m];else for(m||(a+=c-1),c=b+c;b<c;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,c,f,b,m,u){if(0>a||0>c||0>b)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(f.size<b+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),f==this)this.Ij(a,c,b,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b++;else if(b=b+c-u,1==u)for(m=0;m<c;m++)this.f[a]=f.f[b],a++,b--;else for(m=0,c=e.J.truncate(c/u);m<
c;m++){for(var k=0;k<u;k++)this.f[a+k]=f.f[b+k];a+=u;b-=u}};b.prototype.Fk=function(a,c,f){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<f-(a+c)){f-=a+c;for(var b=this.f.slice(a+c,a+f+c),m=0;m<f;m++)this.f[a+m]=b[m]}this.size-=c};b.prototype.Zd=function(a,c,f){if(this.xa)throw e.g.Da();if(1>f||0!=c%f)throw e.g.Da();for(var b=c>>1,m=0;m<b;m+=f){c-=f;for(var u=0;u<f;u++){var d=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=d}}};b.prototype.Zh=function(a,c,f){if(0>c||0>f||0>
c||f+c>this.size)throw e.g.F();for(var b=c;b<c+f;b++)this.f[b]=a};b.prototype.Ij=function(a,c,f,b,m){if(!b||a!=f){for(var k=0;k<c;k++)this.f[a+k]=this.f[f+k];if(!b)for(f=a,a=a+c-m,b=0,c=e.J.truncate(c/2);b<c;b++){for(k=0;k<m;k++){var d=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=d}f+=m;a-=m}}};b.prototype.ks=function(a,c,f,b,m){if(0>a||0>c||0>b)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=b;b<c;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=m};b.prototype.pl=
function(a,c,f,b,m){if(0>a||0>c||0>b||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)f[b+m]=this.f[a+m];else for(b=b+c-1;a<c;a++)f[b]=this.f[a],b--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){var b=this.f.slice(0,a),m=this.f.slice(c);a=this.f.slice(a,c).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(m))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-
1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,f=this.size;c<f;c++)if(this.f[c]==a)return c;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();e.ia=g;g=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var c=a;2>c&&(c=2);this.f=new Int32Array(c);this.size=a}b.prototype.rotate=
function(a,c,f){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>f||a>f)throw e.g.F();a!=c&&f!=c&&(this.Zd(a,c-a,1),this.Zd(c,f-c,1),this.Zd(a,f-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int32Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int32Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=
function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();
this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=new Int32Array(this.f,0,a);this.f=f}}else{a>this.f.length&&(f=e.J.truncate(64>a?Math.max(2*a,
4):5*a/4),f=new Int32Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,f){for(var b=this.size;c<b&&c<f;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;
var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,f,b,m,u,C){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=b%u))throw e.g.F();d(this.f,a+b,a,a+(C-a));this.f==c.f&&a<f&&(f+=b);if(m)this.f.set(c.f.subarray(f,f+b),a);else for(m=b,C=0;C<b;C+=u){m-=u;for(var k=0;k<u;k++)this.f[a+C+k]=c.f[f+m+k]}};b.prototype.Sq=function(a,c,f,b,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*b>this.f.length?this.resize(this.size+
2*b):this.size+=2*b;d(this.f,a+2*b,a,a+(u-a));if(m)for(m=0;m<b;m++)u=c[f++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;for(var k=b-1;m<b;++m)u=c[f+k],this.f[a++]=u.x,this.f[a++]=u.y,k--}};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;d(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(b.subarray(k,c),a);else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<
u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var d=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=d}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=
a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/2);k<c;k++){for(var f=0;f<m;f++){var d=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=d}b+=m;a-=m}};b.prototype.ks=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();
if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,f){10>c-a?b.ul(this.f,a,c,f):b.Oi(this.f,a,c-1,f)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&
(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var c=0,b=this.size;c<b;c++)if(this.f[c]==a)return c;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.ul=function(a,c,b,k){for(var f=c;f<b;f++){for(var e=a[f],d=f-1;d>=c&&0<k(a[d],e);)a[d+1]=a[d],d--;a[d+1]=e}};b.Wg=function(a,c,b){var f=a[b];a[b]=a[c];a[c]=f};b.Oi=function(a,c,f,k){if(!(c>=f))for(;;){if(9>f-c){b.ul(a,c,f+1,k);break}var m=a[c];b.Wg(a,c,f);for(var e=c,d=c;d<f;d++)0>=k(a[d],m)&&(b.Wg(a,
e,d),e+=1);b.Wg(a,e,f);e-c<f-e?(b.Oi(a,c,e-1,k),c=e+1):(b.Oi(a,e+1,f,k),f=e-1)}};return b}();e.jy=g})(t||(t={}));!0===t.Xh.Bm&&(t.ia=t.jy);(function(e){function d(b,a,c,f){c=new Int8Array(b.subarray(c,f));b.set(c,a)}var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var c=a;2>c&&(c=2);this.f=e.J.gf(c,b.Bb);this.size=a}b.prototype.rotate=function(a,c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=
function(a,c){b.Bb=c;a=new b(a);b.Bb=0;return a};b.Bk=function(a){var c=new b(0);c.f=a.f.slice(0);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,
c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=
this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),k=this.f.length;k<a;k++)b[k]=c;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=
function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,k,m,u,d){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=k%u))throw e.g.F();for(var f=0;f<d-a;f++)this.f[a+k+f]=this.f[a+f];this.f==c.f&&a<b&&(b+=k);if(m)for(f=0;f<k;f++)this.f[f+a]=c.f[b+f];else for(m=k,d=0;d<k;d+=u)for(m-=u,f=0;f<u;f++)this.f[a+d+f]=c.f[b+m+f]};b.prototype.Sq=function(a,c,b,k,m,u){if(this.xa)throw e.g.Da();
0>u&&(u=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;u-=a;for(var f=this.f.slice(a,a+u),d=0;d<u;d++)this.f[a+2*k+d]=f[d];if(m)for(m=0;m<k;m++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else for(m=0,f=k-1;m<k;++m)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;for(var f=this.f.slice(a,a+k),u=0;u<k;u++)this.f[a+b+u]=f[u];for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();
for(var f=this.f.slice(a,a+(b-a)),m=0;m<b-a;m++)this.f[m+a+2]=f[m];this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),m)for(m=0;m<c;m++)this.f[a+m]=b[k+m];else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+
a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();if(0<b-(a+c)){b-=a+c;for(var f=this.f.slice(a+c,a+b+c),m=0;m<b;m++)this.f[a+m]=f[m]}this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();
for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var d=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=d}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b){for(var f=0;f<c;f++)this.f[a+f]=this.f[b+f];if(!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/2);k<c;k++){for(f=0;f<m;f++){var d=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=d}b+=m;a-=m}}};b.prototype.ks=function(a,c,b,k,m){if(0>
a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){var f=this.f.slice(0,a),m=this.f.slice(c);
a=this.f.slice(a,c).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(m))};b.prototype.si=function(){return 1};b.prototype.jC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~c};b.Bb=0;return b}();e.Fm=g;g=function(){function b(a){this.f=null;var c=a;2>c&&(c=2);this.f=new Int8Array(c);this.size=a}b.prototype.rotate=function(a,
c,b){if(this.xa)throw e.g.X("invalid_call");if(c<a||c>b||a>b)throw e.g.F();a!=c&&b!=c&&(this.Zd(a,c-a,1),this.Zd(c,b-c,1),this.Zd(a,b-a,1))};b.zd=function(a,c){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==c)for(var m=0;m<a;m++)k[m]=c;return f};b.Bk=function(a){var c=new b(0);c.f=new Int8Array(a.f);c.size=a.size;return c};b.$=function(a,c){var f=new b(0);f.size=a.size;f.size>c&&(f.size=c);c=f.size;2>c&&(c=2);f.f=new Int8Array(c);f.f.set(a.f.length<=c?a.f:a.f.subarray(0,c),0);return f};b.prototype.yb=function(a){0>=
a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,c){c.x=this.f[a];c.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.set=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=c};b.prototype.fo=function(a,c){if(this.xa)throw e.g.Da();this.f[a]=
c.x;this.f[a+1]=c.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,c){void 0===c&&(c=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=
new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,k=this.size;k<a;k++)b[k]=c}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,c){this.write(a,c)};b.prototype.Ak=function(a,c,b){for(var f=this.size;c<f&&c<b;c++)a=e.J.dh(this.read(c),a);return a};b.prototype.Eb=function(a,c,f){if(null==a||!(a instanceof b))return!1;var k=this.size,
m=a.size;if(f>k||f>m&&k!=m)return!1;for(f>k&&(f=k);c<f;c++)if(this.read(c)!=a.read(c))return!1;return!0};b.prototype.Rk=function(a,c,b,k,m,u,C){if(this.xa)throw e.g.Da();if(!m&&(1>u||0!=k%u))throw e.g.F();d(this.f,a+k,a,a+(C-a));this.f==c.f&&a<b&&(b+=k);if(m)this.f.set(c.f.subarray(b,b+k),a);else for(m=k,C=0;C<k;C+=u){m-=u;for(var f=0;f<u;f++)this.f[a+C+f]=c.f[b+m+f]}};b.prototype.Vj=function(a,c,b,k){if(this.xa)throw e.g.Da();k-=a;d(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=c};b.prototype.Sq=
function(a,c,b,k,m,u){if(this.xa)throw e.g.Da();0>u&&(u=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;d(this.f,a+2*k,a,a+(u-a));if(m)for(m=0;m<k;m++)u=c[b++],this.f[a++]=u.x,this.f[a++]=u.y;else{m=0;for(var f=k-1;m<k;++m)u=c[b+f],this.f[a++]=u.x,this.f[a++]=u.y,f--}};b.prototype.eh=function(a,c,b){if(this.xa)throw e.g.Da();d(this.f,a+2,a,a+(b-a));this.f[a]=c.x;this.f[a+1]=c.y};b.prototype.js=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(b.length<k+c)throw e.g.F();
if(0!=c)if(this.size<c+a&&this.resize(c+a),m)this.f.set(b.subarray(k,c),a);else for(m||(a+=c-1),c=k+c;k<c;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,c,b,k,m,u){if(0>a||0>c||0>k)throw e.g.F();if(!m&&(0>=u||0!=c%u))throw e.g.F();if(b.size<k+c)throw e.g.F();if(0!=c)if(this.size<c+a&&this.resize(c+a),b==this)this.Ij(a,c,k,m,u);else if(m)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k++;else if(k=k+c-u,1==u)for(m=0;m<c;m++)this.f[a]=b.f[k],a++,k--;else for(m=0,c=e.J.truncate(c/u);m<c;m++){for(var f=0;f<
u;f++)this.f[a+f]=b.f[k+f];a+=u;k-=u}};b.prototype.Fk=function(a,c,b){if(this.xa)throw e.g.Da();if(a+c>this.size)throw e.g.Da();0<b-(a+c)&&d(this.f,a,a+c,a+(b-(a+c))+c);this.size-=c};b.prototype.Zd=function(a,c,b){if(this.xa)throw e.g.Da();if(1>b||0!=c%b)throw e.g.Da();for(var f=c>>1,m=0;m<f;m+=b){c-=b;for(var u=0;u<b;u++){var d=this.f[a+m+u];this.f[a+m+u]=this.f[a+c+u];this.f[a+c+u]=d}}};b.prototype.Zh=function(a,c,b){if(0>c||0>b||0>c||b+c>this.size)throw e.g.F();for(var f=c;f<c+b;f++)this.f[f]=
a};b.prototype.Ij=function(a,c,b,k,m){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+c),a),!k)for(b=a,a=a+c-m,k=0,c=e.J.truncate(c/2);k<c;k++){for(var f=0;f<m;f++){var d=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=d}b+=m;a-=m}};b.prototype.ks=function(a,c,b,k,m){if(0>a||0>c||0>k)throw e.g.F();if(0!=c)for(this.size<(c<<1)+a&&this.resize((c<<1)+a),m||(a+=c-1<<1),m=m?2:-2,c+=k;k<c;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=m};b.prototype.pl=function(a,c,b,k,m){if(0>a||0>c||0>k||this.size<c+a)throw e.g.F();
if(m)for(m=0;m<c;m++)b[k+m]=this.f[a+m];else for(k=k+c-1;a<c;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,c,b){c=this.f.subarray(a,c);Array.prototype.sort.call(c,b);this.f.set(c,a)};b.prototype.jC=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=c};b.prototype.fz=function(a,c){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~c};b.prototype.si=function(){return 1};return b}();e.ky=g})(t||(t={}));!0===t.Xh.Bm&&(t.Fm=t.ky);(function(e){var d=function(){function d(){}d.vq=function(b,a){return e.Fm.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.ia.zd(a,c);break;case 4:b=e.Fm.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return d.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.ia.zd(b,a)};d.JB=function(b){var a,
c=[];for(a=0;a<b;a++)c.push(null);return c};return d}();e.Uc=d})(t||(t={}));(function(e){var d=function(){function d(){}d.vq=function(b,a){return e.ky.zd(b,a)};d.Um=function(b,a){return e.Rd.zd(b,a)};d.pz=function(b,a,c){switch(b){case 1:b=e.Rd.zd(a,c);break;case 2:b=e.jy.zd(a,c);break;case 4:b=e.ky.zd(a,c);break;default:throw e.g.za();}return b};d.qz=function(b,a){return e.Uc.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};d.wh=function(b,a){return e.jy.zd(b,a)};d.JB=function(b){var a,c=[];for(a=0;a<b;a++)c.push(null);
return c};return d}();e.ML=d})(t||(t={}));!0===t.Xh.Bm&&(t.Uc=t.ML);(function(e){e.ea=function(){return function(e){void 0===e&&(e=0);this.j=e}}()})(t||(t={}));(function(e){var d=function(){function d(){}d.bind=function(b){e.Vc=b.PeDefs;e.Tf=b.PeFactory;e.RD=b.PeVertcs;e.OD=b.PeCoordsys;e.fi=b.PeCSTransformations;e.QD=b.PeGTTransformations;e.zN=b.PeGeogtran;e.yN=b.PeFactoryCodechange;e.PD=b.PeGCSExtent;e.Bg=b.PePCSInfo;e.AN=b.PeHorizon;e.OD=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;e.Tf.initialize(null);e.wy=b.PeGTlistExtendedEntry;d.RY=e.Tf.fromString(e.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};d.w_=function(){};d.RY=null;return d}();e.BN=d;e.Tf=null;e.RD=null;e.OD=null;e.AN=null;e.Bg=null;e.fq=null;e.wy=null;e.PD=null;e.yN=null;e.zN=null;e.Vc=null;e.QD=null;e.fi=null})(t||(t={}));(function(e){var d=function(){function b(){}b.Ab=function(a,c){return 0<=c?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.ND=function(a,c,f){return b.K(a-
c)<=f*(1+(b.K(a)+b.K(c))/2)};b.W=function(a,c){return b.ND(a,c,3.552713678800501E-15)};b.kW=function(a){return 3.552713678800501E-15>=b.K(a)};b.xd=function(a){return b.kW(a)};return b}();e.l=d;var g=function(){function b(){}b.Sp=function(a,c){a=d.K(a);c=d.K(c);var b=0;0!=a+c&&(a>c?(b=c/a,b=a*Math.sqrt(1+b*b)):(b=a/c,b=c*Math.sqrt(1+b*b)));return b};b.Or=function(a,c,f,k,m){for(var e=[0,0,0],C=[0,0,0],A=0;2>=A;A++)c[A]-=a[A],f[A]-=c[A];f=e[1]*C[2]-e[2]*C[1];c=e[2]*C[0]-e[0]*C[2];e=e[0]*C[1]-e[1]*C[0];
a=-1*(f*a[0]+c*a[1]+e*a[2]);k[0]=f;k[1]=c;k[2]=e;k[3]=a;C=b.eo(k);k[0]/=C;k[1]/=C;k[2]/=C;k[3]/=C;0!=m&&(C=d.xd(e)?d.xd(a)?d.Ab(1,c):-d.Ab(1,a):d.Ab(1,e),C*=d.Ab(1,m),k[0]*=C,k[1]*=C,k[2]*=C,k[3]*=C)};b.fy=function(a,c,b){b[0]=a[1]*c[2]-c[1]*a[2];b[1]=a[2]*c[0]-c[2]*a[0];b[2]=a[0]*c[1]-c[0]*a[1]};b.Eu=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Dk=function(a,c,f,k,m,e,d,A){a=b.n(a,c,f);var u=Math.cos(f);e.j=(a+m)*u*Math.cos(k);d.j=(a+m)*
u*Math.sin(k);A.j=(a*(1-c)+m)*Math.sin(f)};b.kQ=function(a,c,f,k,m,e,C){var u=b.Sp(c,f),g=1*Math.sqrt(1-a),w=g/1;if(d.W(u,0))e.j=0,m.j=d.Ab(1.570796326794897,k),C.j=d.K(k)-g;else{e.j=Math.atan2(f,c);f=Math.atan2(1*k,g*u);e=Math.cos(f);var l=Math.sin(f);c=g*a/(1-a);a*=1;f=Math.atan2(k+c*l*l*l,u-a*e*e*e);3.141592653589793<d.K(f)&&(f=d.Ab(3.141592653589793,f)-f);f=Math.atan(w*Math.tan(f));l=Math.sin(f);e=Math.cos(f);m.j=Math.atan2(k+c*l*l*l,u-a*e*e*e);1.570796326794897<d.K(m.j)&&(m.j=d.Ab(3.141592653589793,
m.j)-m.j);f=Math.atan(w*Math.tan(m.j));l=Math.sin(f);e=Math.cos(f);C.j=(k-g*l)*Math.sin(m.j)+(u-1*e)*Math.cos(m.j)}};b.n=function(a,c,b){b=Math.sin(b);return a/Math.sqrt(1-c*b*b)};b.du=function(a,c){return Math.atan2(Math.sin(c)*(1-a),Math.cos(c))};b.ik=function(a,c){return Math.atan2(Math.sin(c),Math.cos(c)*(1-a))};b.xp=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var f,k,m,e,C,A,g,w,l;if(.006884661117170036>a){e=Math.sqrt(1-a);C=(1-e)/(1+e);A=C*C;g=C*A;w=C*g;f=C*w;l=C*
f;k=C*l;m=1.572916666666667*g-3.2578125*f+4.295068359375*k;e=2.142578125*w-6.071484375*l;a=3.129296875*f-11.249837239583334*k;var h=4.775276692708333*l,n=7.958636765252976*k,p=Math.cos(2*c);return c+Math.sin(2*c)*(1.5*C-.84375*g+.525390625*f-.2688395182291667*k-m+a-n+p*(2*(1.3125*A-1.71875*w+1.650146484375*l)-4*e+6*h+p*(4*m-12*a+24*n+p*(8*e-32*h+p*(16*a-80*n+p*(32*h+64*p*n))))))}e=1-a;C=a/2;A=d.K(c);g=A*b.Tu(a)/(1.570796326794897*e);w=9999;l=A;for(A=0;1E-16<w&&50>A;A++)k=b.Cm(a,l),f=(b.EG(l,a)-C*
Math.sin(2*l)/k)/e-g,k=1/(k*k*k),m=f/k,f=l-m,w=d.K(m),l=f;return 0<=c?l:-l};b.qX=function(a,c){return d.Qi(c)?a:a*b.Tu(c)/1.570796326794897};b.da=function(a){a=b.rG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>d.K(a)||d.W(d.K(a),3.141592653589793)?a:a-6.283185307179586};b.rG=function(a,c){return a-Math.floor(a/c)*c};b.Yg=function(a,c){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var f=c*c,k=f*f;return a/(1+c)*(1+.25*f+.015625*k+.00390625*f*k)*1.570796326794897}return a*
b.Tu(c)};b.Nr=function(a,c){var f=d.Ab(1,Math.sin(c));c=d.K(b.rG(c,3.141592653589793));c=1.570796326794897>=c?c:3.141592653589793-c;var k;d.W(c,1.570796326794897)?k=c:k=Math.atan(Math.sqrt(1-a)*Math.tan(c));return k*f};b.q=function(a,c,f){if(.006884661117170036>c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var k=c*c,m=c*k,e=c*m,d=c*e,A=c*d,g=c*A,w=-.7291666666666666*m+.2278645833333333*d+.03987630208333334*g,l=.615234375*e-.21533203125*A,h=-.54140625*d+.20302734375*g,n=.48876953125*A,p=-.4488699776785715*g,q=
Math.cos(2*f);return a/(1+c)*((1+.25*k+.015625*e+.00390625*A)*f+Math.sin(2*f)*(-1.5*c+.1875*m+.0234375*d+.00732421875*g-w+h-p+q*(2*(.9375*k-.234375*e-.03662109375*A)-4*l+6*n+q*(4*w-12*h+24*p+q*(8*l-32*n+q*(16*h-80*p+q*(32*n+64*q*p)))))))}return a*(b.EG(f,c)-.5*c*Math.sin(2*f)/b.Cm(c,f))};b.Cm=function(a,c){c=Math.sin(c);return Math.sqrt(1-a*c*c)};b.Tu=function(a){return d.ND(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,c){var f=d.Ab(1,a);a=d.K(a);var k=Math.floor(a/
1.570796326794897),m;if(1<c)m=0==a?0:NaN;else if(d.xd(k))m=b.sin(a),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m);else{m=e.J.truncate(k%2);var u=b.Tu(c);0<m?(m=Math.sin(1.570796326794897*(k+1)-a),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m),m=u*(k+1)-m):(m=Math.sin(a-1.570796326794897*k),m=m*b.Lv(1-m*m,1-c*m*m)-c/3*m*m*m*b.Iv(1-m*m,1-c*m*m),m=u*k+m)}return m*f};b.sin=function(a){a=b.da(a);var c=d.Ab(1,a);a=d.K(a);return d.W(a,3.141592653589793)?0:d.W(a,1.570796326794897)?1*c:Math.sin(a)*
c};b.Iv=function(a,c){for(var b=1,k=0,m=1,e,C,A,g;;){e=.2*(a+c+3*b);C=(e-a)/e;A=(e-c)/e;g=(e-b)/e;if(1E-4>d.K(C)&&1E-4>d.K(A)&&1E-4>d.K(g))break;g=Math.sqrt(c);e=Math.sqrt(b);g=Math.sqrt(a)*(g+e)+g*e;k+=m/(e*(b+g));m*=.25;a=.25*(a+g);c=.25*(c+g);b=.25*(b+g)}a=C*A;b=g*g;c=a-b;b=a-6*b;C=b+c+c;return 3*k+m*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*g*C)+g*(.1666666666666667*C+g*(-.4090909090909091*c+.1153846153846154*g*a)))/(e*Math.sqrt(e))};b.Lv=function(a,c){for(var b,k,m,e,C=
1;;C=.25*(C+b)){b=(a+c+C)/3;k=2-(b+a)/b;m=2-(b+c)/b;e=2-(b+C)/b;if(1E-4>d.K(k)&&1E-4>d.K(m)&&1E-4>d.K(e))break;b=Math.sqrt(c);k=Math.sqrt(C);b=Math.sqrt(a)*(b+k)+b*k;a=.25*(a+b);c=.25*(c+b)}a=k*m-e*e;c=k*m*e;return(1+(.04166666666666666*a-.1-.06818181818181818*c)*a+.07142857142857142*c)/Math.sqrt(b)};b.Cx=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,k,m;if(.006884661117170036>a){b=a*a;k=a*b;m=a*k;var e=a*m,C=a*e,A=a*C,g=-(.02708333333333333*k+.03430059523809524*m+.03149181547619048*
e+.02634359154541446*C+.02156896735835538*A),w=.007669890873015873*m+.01299603174603175*e+.0148051353064374*C+.01454454953803912*A,l=-(.002275545634920635*e+.004830845032667949*C+.006558395368616723*A),h=6.957236677288761E-4*C+.001775193002406544*A,n=-(2.17324089394402E-4*A),p=Math.cos(2*c);return c+Math.sin(2*c)*(-(.5*a+.2083333333333333*b+.09375*k+.04878472222222222*m+.02916666666666667*e+.01938905423280423*C+.01388255931712963*A)-g+l-n+p*(2*(.1041666666666667*b+.0875*k+.06050347222222222*m+.04151785714285714*
e+.02958958540013228*C+.02203667534722222*A)-4*w+6*h+p*(4*g-12*l+24*n+p*(8*w-32*h+p*(16*l-80*n+p*(32*h+64*p*n))))))}0==c||d.W(d.K(c),1.570796326794897)?b=c:(k=Math.sqrt(a),m=k*Math.sin(c),b=Math.tan(.7853981633974483+c/2)*Math.pow((1-m)/(1+m),k/2),b=2*Math.atan(b)-1.570796326794897);return b};b.CQ=function(a,c){if(d.Qi(a)||0==c||d.W(d.K(c),1.570796326794897))return c;var b,k;if(.006884661117170036>a){p=a*a;l=a*p;h=a*l;b=a*h;n=a*b;k=a*n;var m=.05833333333333333*l+.07232142857142858*h+.05634300595238095*
b+.0355325796406526*n+.020235546186067*k,e=.02653149801587302*h+.04379960317460317*b+.0429211791776896*n+.03255384637546096*k,C=.01294022817460318*b+.02668104344536636*n+.03155651254609588*k,A=.00659454790965208*n+.0163075268674227*k,g=.003463473736911237*k,w=Math.cos(2*c);return c+Math.sin(2*c)*(.5*a+.2083333333333333*p+.08333333333333333*l+.03611111111111111*h+.01875*b+.01195601851851852*n+.008863673941798942*k-m+C-g+w*(2*(.1458333333333333*p+.1208333333333333*l+.07039930555555556*h+.03616071428571429*
b+.01839451058201058*n+.01017113095238095*k)-4*e+6*A+w*(4*m-12*C+24*g+w*(8*e-32*A+w*(16*C-80*g+w*(32*A+64*w*g))))))}for(var l=Math.sqrt(a),h=l/2,n=Math.tan(.7853981633974483+c/2),m=0,e=1,p=c;0!=e;p=k)if(b=l*Math.sin(p),k=n*Math.pow((1+b)/(1-b),h),k=2*Math.atan(k)-1.570796326794897,m++,d.W(k,p)||3E4<m)e=0;return p};return b}();e.C=g})(t||(t={}));(function(e){var d=function(){function d(b){this.Zl=this.Pt=null;this.vw=!1;this.nB=this.oB=0;this.lB=new e.b;this.yB=new e.b;this.ix=!1;this.kr=new e.h;this.II=
this.fx=0;this.gx=null;this.al=!1;this.Fr=null;this.LA=0;this.uf=b;this.wt=e.Ib.iw(this.uf,0,!0);this.lB.$c();this.yB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.ll=a,e.Tf.getCode(b)):this.ll=e.Tf.getCode(b);0>this.ll&&(this.ll=0);var c=this.uf.getType();this.vI=c==e.Vc.PE_TYPE_PROJCS?2:1;if(c==e.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=c==e.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();c!=e.Vc.PE_TYPE_GEOGCS&&e.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=
a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.nB=b;0!=(c&e.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.oB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=e.Bg.generate(a,e.Bg.PE_PCSINFO_OPTION_NONE),this.al=this.gx.isPannableRectangle(),this.LA=e.Ib.rP(this.gx.getCentralMeridian(),this.nB)):(this.ix=this.al=!0,this.oB=0,c=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
c,this.LA=0);this.al&&(this.dy(),this.uL(),this.vL(),this.tL(),this.jZ(),this.kZ())}d.prototype.$s=function(){return this.ll};d.prototype.Sj=function(){return this.gx};d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.ll&&0==a.ll?b.wt===a.wt:!1};d.prototype.Jc=function(){return this.al};d.prototype.Bh=function(b){b.I(this.gp)};d.prototype.bw=function(){return this.gp.o};d.prototype.aw=function(){return this.gp.v};d.prototype.AT=function(b){b.I(this.hx)};d.prototype.jZ=function(){var b=this.uf.getType();
if(b==e.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),c=b.getGeogcs();if(null==c)throw e.g.X("internal error");c=1/c.getUnit().getUnitFactor()*Math.PI;a=[[a+c,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],c=b.getParameters()[e.Vc.PE_PARM_X0].getValue(),f=this.Mk(),b=new e.h;f.s(b);var f=Math.abs(a-c),a=f+c,c=-1*f+c,f=b.B,b=b.A,k=new e.h;k.I(c,b,a,f);null==this.gp&&(this.gp=k)}else if(b==e.Vc.PE_TYPE_GEOGCS)c=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-c,-c/2,c,c/2),null==
this.gp&&(this.gp=b);else throw e.g.X("internal error");};d.prototype.kZ=function(){var b=this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,c=this.Vs(),f=new e.h;c.s(f);c=new e.h;c.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=c)}else if(b==e.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw e.g.X("internal error");};d.prototype.ee=function(){return this.nB};d.prototype.bn=function(){return this.oB};d.prototype.Vs=function(){if(this.al)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};d.prototype.Ws=function(){if(this.al)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};d.prototype.dy=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),c=b.horizonGcsGenerate();if(null!=c){var f=c[0].getNump(),
k=c[0].getKind();b=0<c[0].getInclusive();var m=this.ee(),u=90*m,d=360*m,A=370*m,g=180*m*e.Vc.PE_HORIZON_DELTA/Math.PI,w=new e.h,l=null;if(1<f)for(var h=1;h<f;h++)if(c[h].getKind()==e.Vc.PE_HORIZON_LINE){null==l&&(l=new e.Ua);var n=c[h].getCoord();l.$x(n[0][0],n[0][1]);l.Xj(n[1][0],n[1][1])}if(k==e.Vc.PE_HORIZON_RECT)c=c[0].getCoord(),w.I(c[0][0],c[0][1]),w.Nb(c[1][0],c[1][1]),Math.abs(w.B-u)<1E-7*g&&(w.B=u),Math.abs(w.A+u)<1E-7*g&&(w.A=-u),w.N()>A&&(c=-400*m,w.I(c,w.A,c+5*d,w.B)),c=new e.ci(w),null==
this.Zl&&(this.Zl=c,this.vw=b);else{A=new e.Ja;d=this.Sj().isGcsHorizonMultiOverlap();w=e.Ou.jG(a,e.ts.Integer64);if(d){A=new e.RM;g=e.ei.local().V(A,w,null);for(h=0;h<f;h++)if(c[h].getKind()==e.Vc.PE_HORIZON_POLY){a=c[h].getSize();m=c[h].getCoord();k=[];for(u=0;u<a;u++)k[u]=e.b.pa(m[u][0],m[u][1]);c[h].getInclusive();d&&(m=new e.Ja,m.Bl(k,a-1),A.TY(m),g.Re())}A=g.next()}else for(h=0;h<f;h++)if(c[h].getKind()==e.Vc.PE_HORIZON_POLY){a=c[h].getSize();m=c[h].getCoord();d=[];for(u=0;u<a;u++)d[u]=e.b.pa(m[u][0],
m[u][1]);c[h].getInclusive();A.Bl(d,a-1)}b?e.tk.local().qo(A,w,1):e.cq.local().qo(A,w,1);e.Gj.local().qo(A,w,1);null==this.Zl&&(this.Zl=A,this.vw=b,this.hI=l)}}}};d.prototype.Uv=function(){if(this.al)return this.vw;null==this.Zl&&this.dy();return this.vw};d.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var c=b[0].getNump(),f=!1;if(a==e.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),c=new e.h,c.I(b[0][0],b[0][1]),c.Nb(b[1][0],b[1][1]),
b=new e.ci(c);else{a=-1;for(f=0;f<c;f++)b[f].getKind()==e.Vc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-1;b=b[a].getCoord();c=[];for(a=0;a<f;a++)c[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Bl(c,f);f=!0}this.Sj().isDensificationNeeded()&&(c=1E5*this.bn(),b=e.Jm.local().V(b,c,null));f&&(f=new e.ci,b.Qn(f),b.hf(),b.Rb(),b.hT(),e.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};d.prototype.Mk=function(){if(this.al)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};d.prototype.vL=
function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.uf,2,b);var a=this.Sj(),c=a.getNorthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(c&&this.lB.ka(b[0][0],b[0][1]),a&&this.yB.ka(b[1][0],b[1][1]))}this.ix=!0};d.prototype.eA=function(b,a){this.al||this.ix||this.vL();b?a.L(this.yB):a.L(this.lB)};d.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,
b)}else b=e.Bg.generate(this.uf,e.Bg.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};d.prototype.$S=function(b){this.al&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};d.prototype.dn=function(){return this.eJ};d.prototype.pi=function(){return this.LA};d.prototype.Nd=function(){return this.Fr};d.prototype.Xs=function(){return this.II};return d}();e.UD=d})(t||(t={}));(function(e){var d=function(){function d(b){this.JV=
b;this.wt=e.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:e.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.JV.getUnit();this.XI=1/a.getUnitFactor();e.Tf.getCode(b)}d.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};d.prototype.$s=function(){return this.nt};return d}();e.GN=d})(t||(t={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,d){if(null!=m||null!=u||null!=d){f=e.C.da(f);a=e.C.da(a);c=e.C.da(c);k=e.C.da(k);1.570796326794897<e.l.K(c)&&
(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));1.570796326794897<e.l.K(k)&&(k=e.l.Ab(3.141592653589793,k)-k,f=e.C.da(f+3.141592653589793));var C=e.C.da(f-a);if(e.l.W(c,k)&&(e.l.W(a,f)||e.l.W(e.l.K(c),1.570796326794897)))null!=m&&(m.j=0),null!=u&&(u.j=0),null!=d&&(d.j=0);else{if(e.l.W(c,-k)){if(e.l.W(e.l.K(c),1.570796326794897)){null!=m&&(m.j=3.141592653589793*b);null!=u&&(u.j=0<c?e.C.da(3.141592653589793-e.C.da(f)):e.C.da(f));null!=d&&(d.j=0<c?e.C.da(f):e.C.da(3.141592653589793-e.C.da(f)));
return}if(e.l.W(e.l.K(C),3.141592653589793)){null!=m&&(m.j=3.141592653589793*b);null!=u&&(u.j=0);null!=d&&(d.j=0);return}}var g=1.570796326794897==e.l.K(c)?0:Math.cos(c),w=Math.sin(c),l=1.570796326794897==e.l.K(k)?0:Math.cos(k),h=Math.sin(k),n=1.570796326794897==e.l.K(C)?0:Math.cos(C),p=3.141592653589793==e.l.K(C)?0:Math.sin(C);if(null!=m){var q=Math.sin((k-c)/2),C=Math.sin(C/2);m.j=2*Math.asin(Math.sqrt(q*q+g*l*C*C))*b}null!=u&&(e.l.W(e.l.K(c),1.570796326794897)?u.j=0>c?f:e.C.da(3.141592653589793-
f):u.j=Math.atan2(l*p,g*h-w*l*n));null!=d&&(e.l.W(e.l.K(k),1.570796326794897)?d.j=0>k?a:e.C.da(3.141592653589793-a):(d.j=Math.atan2(g*p,h*g*n-l*w),d.j=e.C.da(d.j+3.141592653589793)))}}};d.Uf=function(b,a,c,f,k,m,u){if(null!=m||null!=u){a=e.C.da(a);c=e.C.da(c);1.570796326794897<e.l.K(c)&&(c=e.l.Ab(3.141592653589793,c)-c,a=e.C.da(a+3.141592653589793));e.l.W(e.l.K(c),1.570796326794897)&&(a=0);k=e.C.da(k);var d=e.l.W(e.l.K(k),1.570796326794897)?0:Math.cos(k),A=e.l.W(e.l.K(k),3.141592653589793)?0:Math.sin(k),
g=e.l.W(e.l.K(c),1.570796326794897)?0:Math.cos(c),w=Math.sin(c);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?0:Math.cos(b);var l=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),h=Math.asin(w*f+g*l*d);null!=u&&(u.j=h);null!=m&&(m.j=e.l.W(e.l.K(h),1.570796326794897)?e.l.W(c,-h)?0>h?k:e.C.da(3.141592653589793-k):a:e.l.W(e.l.K(c),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>c?k:e.C.da(3.141592653589793-k):e.C.da(a+Math.atan2(l*A,g*f-w*l*d)))}};return d}();e.vh=d})(t||(t={}));(function(e){var d=function(){function d(){}
d.Cb=function(b,a,c,f,k,m,u,d,A){var C=new e.ea(0),g=new e.ea(0),w=[0,0,0],l=[0,0,0],h=[0,0,0],n=new e.ea(0),p=new e.ea(0),q=new e.ea(0),t=new e.ea(0),r=new e.ea(0);if(null!=u||null!=d||null!=A)if(e.l.Qi(a))e.vh.Cb(b,c,f,k,m,u,d,A);else{k=e.C.da(k);c=e.C.da(c);var v=e.C.da(k-c);if(e.l.W(f,m)&&(e.l.W(c,k)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=d&&(d.j=0),null!=A&&(A.j=0);else{if(e.l.W(f,-m)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=d&&(d.j=0<f?e.C.da(3.141592653589793-
e.C.da(k)):e.C.da(k));null!=A&&(A.j=0<f?e.C.da(k):e.C.da(3.141592653589793-e.C.da(k)));return}e.l.W(e.l.K(v),3.141592653589793)&&(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=d&&(d.j=0),null!=A&&(A.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(m),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?c=k:k=c;var x=0,G;0>v&&(x=1,G=c,c=k,k=G,G=f,f=m,m=G);var v=e.C.du(a,f),z=e.C.du(a,m);if(null!=d||null!=A)e.vh.Cb(b,c,v,k,z,null,C,g),C=Math.atan2(Math.sin(C.j)*Math.cos(f-v),Math.cos(C.j)),g=Math.atan2(Math.sin(g.j)*
Math.cos(m-z),Math.cos(g.j)),0!=x&&(G=C,C=g,g=G),null!=d&&(d.j=C),null!=A&&(A.j=g);null!=u&&(e.C.Dk(1,a,f,c,0,q,t,r),w[0]=q.j,w[1]=t.j,w[2]=r.j,e.C.Dk(1,a,m,k,0,q,t,r),l[0]=q.j,l[1]=t.j,l[2]=r.j,h[0]=w[1]*l[2]-l[1]*w[2],h[1]=-(w[0]*l[2]-l[0]*w[2]),h[2]=w[0]*l[1]-l[0]*w[1],a=1-e.C.Cm(a,e.C.Nr(a,e.C.ik(a,Math.acos(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]))))),a*=2-a,d=Math.atan2(-h[1],-h[0]),h=e.C.da(d-1.570796326794897),d=e.C.da(d+1.570796326794897),h=e.l.K(e.C.da(c-h))<=e.l.K(e.C.da(c-d))?h:d,
e.vh.Cb(1,h,0,c,v,n,null,null),e.vh.Cb(1,h,0,k,z,p,null,null),3.141592653589793<n.j+p.j&&(h=e.C.da(h+3.141592653589793),e.vh.Cb(1,h,0,c,v,n,null,null),e.vh.Cb(1,h,0,k,z,p,null,null)),n.j*=e.l.Ab(1,f),p.j*=e.l.Ab(1,m),n.j=e.C.ik(a,n.j),p.j=e.C.ik(a,p.j),c=e.C.q(b,a,n.j),b=e.C.q(b,a,p.j),u.j=e.l.K(b-c))}}};d.Uf=function(b,a,c,f,k,m,u,d){var C=0,g=new e.ea(0),w=new e.ea(0),l=[0,0,0],h=[0,0,0],n=new e.ea(0),p=new e.ea(0),q=new e.ea(0);if(null!=u||null!=d)if(e.l.Qi(a))e.vh.Uf(b,c,f,k,m,u,d);else if(e.l.xd(k))null!=
u&&(u.j=c),null!=d&&(d.j=f);else{m=e.C.da(m);0>k&&(k=e.l.K(k),m=e.C.da(m+3.141592653589793));c=e.C.da(c);f=e.C.da(f);1.570796326794897<e.l.K(f)&&(c=e.C.da(c+3.141592653589793),f=e.l.Ab(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);var t;if(e.l.xd(f))t=e.l.K(1.570796326794897-e.l.K(m)),t=e.C.ik(a,t),t=1-e.C.Cm(a,e.C.Nr(a,t)),t*=2-t,b=k/e.C.Yg(b,t)*1.570796326794897,b=e.C.xp(t,b),b=e.C.du(t,b),e.vh.Uf(1,c,f,b,m,u,g),null!=d&&(C=g.j),null!=d&&(d.j=e.C.ik(a,C));else if(e.l.W(e.l.K(f),
1.570796326794897))C=e.C.Yg(b,a),g=2*C,b=e.l.Ab(1.570796326794897,f),m=0<b?e.C.da(3.141592653589793-m):m,f=C-k,e.l.K(f)<=C?null!=u&&(u.j=m):(f=Math.floor(k/g),0==e.J.truncate(f%2)?(null!=u&&(u.j=m),f=C-(k-f*g)):(null!=u&&(u.j=e.C.da(m+3.141592653589793)),f=C-((f+1)*g-k))),null!=d&&(d.j=e.C.xp(a,f/C*b));else{t=e.C.du(a,f);m=Math.atan2(Math.sin(m),Math.cos(m)*Math.cos(f-t));var r=e.J.truncate(e.l.Ab(1,t))*(1.570796326794897>=e.l.K(m)?1:-1);m=e.C.da(c+Math.atan(Math.tan(m)*-Math.sin(t)));e.vh.Cb(b,m,
0,c,t,null,w,null);t=e.l.K(1.570796326794897-e.l.K(w.j));t=e.C.ik(a,t);t=1-e.C.Cm(a,e.C.Nr(a,t));t*=2-t;e.C.Dk(1,a,0,m,0,n,p,q);l[0]=n.j;l[1]=p.j;l[2]=q.j;e.C.Dk(1,a,f,c,0,n,p,q);h[0]=n.j;h[1]=p.j;h[2]=q.j;f=Math.acos((l[0]*h[0]+l[1]*h[1]+l[2]*h[2])/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]));f=e.C.ik(t,f);f=e.C.q(b,t,f)+k*r;k=0<f?w.j:e.C.da(w.j+3.141592653589793);b=e.l.K(f)/e.C.Yg(b,t)*1.570796326794897;b=e.C.xp(t,b);b=e.C.du(t,b);e.vh.Uf(1,m,0,b,k,u,g);null!=d&&(C=g.j);null!=d&&(d.j=e.C.ik(a,C))}}};
return d}();e.yl=d})(t||(t={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,d,A){var C=0,g=0,w=0;if(null!=u||null!=d||null!=A)if(e.l.Qi(a))e.vh.Cb(b,c,f,k,m,u,d,A);else{var l=e.C.da(k-c);if(e.l.W(f,m)&&(e.l.xd(l)||e.l.W(e.l.K(f),1.570796326794897)))null!=u&&(u.j=0),null!=d&&(d.j=0),null!=A&&(A.j=0);else{if(e.l.W(f,-m)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=u&&(u.j=2*e.C.Yg(b,a));null!=d&&(d.j=0<f?e.C.da(3.141592653589793-e.C.da(k)):e.C.da(k));null!=A&&(A.j=0<f?e.C.da(k):
e.C.da(3.141592653589793-e.C.da(k)));return}e.l.W(e.l.K(l),3.141592653589793)&&(null!=u&&(u.j=2*e.C.Yg(b,a)),null!=d&&(d.j=0),null!=A&&(A.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(m),1.570796326794897)){e.yl.Cb(b,a,c,f,k,m,u,d,A);return}if(e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793)){e.yl.Cb(b,a,c,f,k,m,u,d,A);return}}var h=1-Math.sqrt(1-a),n=a/(1-a),p=b*(1-h);b=e.C.Nr(a,f);var q=e.C.Nr(a,m);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var t=Math.sin(b),r=1.570796326794897==e.l.K(q)?
0:Math.cos(q),v=Math.sin(q),x=l,G=Math.cos(x),z=Math.sin(x),y=1,B=0,D,E,H,I,J;do{D=x;E=Math.sqrt(Math.pow(r*z,2)+Math.pow(a*v-t*r*G,2));H=t*v+a*r*G;I=Math.atan2(E,H);if(0==E){y=0;break}J=a*r*z/E;C=Math.cos(Math.asin(J));C*=C;g=H-2*t*v/C;1<e.l.K(g)&&(g=e.l.Ab(1,g));w=g*g;x=h/16*C*(4+h*(4-3*C));x=l+(1-x)*h*J*(I+x*E*(g+x*H*(2*w-1)));G=Math.cos(x);z=Math.sin(x);B++;if(3.141592653589793<e.l.K(x)&&30<B){y=0;break}}while(5E3>=B&&!e.l.W(D,x));if(0!=y)n*=C,h=n*(256+n*(-128+n*(74-47*n)))/1024,null!=u&&(u.j=
p*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)*(I-h*E*(g+h/4*(H*(2*w-1)-h/6*g*(4*E*E-3)*(4*w-3))))),null!=d&&(e.l.W(e.l.K(f),1.570796326794897)?d.j=0>f?k:e.C.da(3.141592653589793-k):d.j=Math.atan2(r*z,a*v-t*r*G)),null!=A&&(e.l.W(e.l.K(m),1.570796326794897)?A.j=0>m?c:e.C.da(3.141592653589793-c):(A.j=Math.atan2(a*z,a*v*G-t*r),A.j=e.C.da(A.j+3.141592653589793)));else{x=e.l.Ab(3.141592653589793,l);H=t*v-a*r;I=Math.acos(H);E=Math.sin(I);C=1;B=J=0;do w=J,C*=C,G=C*C,J=h*C*(1+h+h*h),g=h*h*G*(1+2.25*h),y=h*h*
h*G*C,G=1-.25*J+.1875*g-.1953125*y,J=.25*J-.25*g+.29296875*y,z=.03125*g-.05859375*y,y*=.00651041666666667,g=H-2*t*v/C,1<e.l.K(g)&&(g=e.l.Ab(1,g)),C=Math.acos(g),H=Math.cos(2*C),D=Math.cos(3*C),J=e.l.W(f,-m)?e.C.da(3.141592653589793-l)/(3.141592653589793*h*G):e.C.da(x-l)/(h*(G*I+J*E*g+z*Math.sin(2*I)*H+y*Math.sin(3*I)*D)),z=J*E/(a*r),x=1.570796326794897<e.l.K(l)?e.l.Ab(3.141592653589793,z)-Math.asin(z):Math.asin(z),G=Math.cos(x),E=Math.sqrt(Math.pow(r*z,2)+Math.pow(a*v-t*r*G,2)),I=3.141592653589793-
Math.asin(e.l.K(E)),H=Math.cos(I),C=Math.cos(Math.asin(J)),B++;while(70>=B&&!e.l.W(w,J));null!=u&&(C*=C,n*=C,G=1+n*(4096+n*(-768+n*(320-175*n)))/16384,e.l.W(f,-m)?u.j=3.141592653589793*p*G:(g=H-2*t*v/C,C=Math.acos(g),H=Math.cos(2*C),D=Math.cos(3*C),u.j=p*(G*I+n*(-512+n*(128+n*(-60+35*n)))/2048*E*g+n*(-4+5*n)/6144*n*n*Math.sin(2*I)*H+y*Math.sin(3*I)*D+-7.62939453125E-5*n*n*n*n*Math.sin(4*I)*Math.cos(4*C))));null!=d&&(e.l.xd(f)&&e.l.xd(m)?(C=Math.sqrt(1-J*J),d.j=Math.acos(C),0>l&&(d.j*=-1)):e.l.W(e.l.K(f),
1.570796326794897)?d.j=0>f?k:e.C.da(3.141592653589793-k):(u=J/a,p=Math.sqrt(1-u*u),0>a*v-t*r*Math.cos(x)&&(p*=-1),d.j=Math.atan2(u,p),e.l.W(f,-m)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-h*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(d.j)||0>f&&1.570796326794897<e.l.K(d.j))&&(d.j=e.l.Ab(3.141592653589793,d.j)-d.j)));if(null!=A)if(e.l.xd(f)&&e.l.xd(m))C=Math.sqrt(1-J*J),A.j=Math.acos(C),0<=l&&(A.j*=-1);else if(e.l.W(e.l.K(m),1.570796326794897))A.j=0>m?c:e.C.da(3.141592653589793-c);else if(l=J/r,u=Math.sqrt(1-
l*l),p=Math.sin(x/2),0>Math.sin(q-b)-2*a*v*p*p&&(u*=-1),A.j=Math.atan2(l,u),A.j=e.C.da(A.j+3.141592653589793),e.l.W(f,-m)&&!e.l.xd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-h*Math.cos(f))&&(null!=d?p=d.j:(u=J/a,p=Math.sqrt(1-u*u),0>a*v-t*r*Math.cos(x)&&(p*=-1),p=Math.atan2(u,p),e.l.W(f,-m)&&e.l.K(e.C.da(c-k))>3.141592653589793*(1-h*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(p)||0>f&&1.570796326794897<e.l.K(p))&&(p=e.l.Ab(3.141592653589793,p)-p)),1.570796326794897>=
e.l.K(p)&&1.570796326794897<e.l.K(A.j)||1.570796326794897<=e.l.K(p)&&1.570796326794897>e.l.K(A.j)))A.j=-1*e.C.da(A.j+3.141592653589793)}}}};d.Uf=function(b,a,c,f,k,m,u,d){if(null!=u||null!=d)if(e.l.Qi(a))e.vh.Uf(b,c,f,k,m,u,d);else if(m=e.C.da(m),e.l.W(e.l.K(f),1.570796326794897)||e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))e.yl.Uf(b,a,c,f,k,m,u,d);else{var C=1.570796326794897==e.l.K(m)?0:Math.cos(m),g=3.141592653589793==e.l.K(m)?0:Math.sin(m);e.l.W(e.l.K(f),1.570796326794897)&&(c=0);m=1-Math.sqrt(1-
a);var w=e.C.Nr(a,f);f=1.570796326794897==e.l.K(w)?0:Math.cos(w);var l=Math.sin(w),w=Math.atan2(Math.tan(w),C),h=f*g,n=h*h,p=1-n,q=a/(1-a)*p;a=q*(256+q*(-128+q*(74-47*q)))/1024;var t=a/4,r=a/6,v=k/(b*(1-m)*(1+q*(4096+q*(-768+q*(320-175*q)))/16384)),x=v,G;do{G=x;k=1.570796326794897==e.l.K(x)?0:Math.cos(x);var q=3.141592653589793==e.l.K(x)?0:Math.sin(x),z=q*q;b=Math.cos(2*w+x);x=b*b;x=a*q*(b+t*(k*(2*x-1)-r*b*(4*z-3)*(4*x-3)))+v}while(!e.l.W(G,x));k=1.570796326794897==e.l.K(x)?0:Math.cos(x);q=3.141592653589793==
e.l.K(x)?0:Math.sin(x);null!=u&&(g=Math.atan2(q*g,f*k-l*q*C),p=m/16*p*(4+m*(4-3*p)),b=Math.cos(2*w+x),u.j=e.C.da(c+(g-(1-p)*m*h*(x+p*q*(b+p*k*(2*b*b-1))))));null!=d&&(p=l*q-f*k*C,p=(1-m)*Math.sqrt(n+p*p),d.j=Math.atan2(l*k+f*q*C,p))}};return d}();e.Nu=d})(t||(t={}));(function(e){var d=function(){function d(){}d.Cb=function(b,a,c,f,k,m,u,d,g){var C=e.C.da(k-c),A=e.l.W(e.l.K(f),1.570796326794897),w=e.l.W(e.l.K(m),1.570796326794897);if(e.l.W(f,m)&&(e.l.xd(C)||A))null!=u&&(u.j=0),null!=d&&(d.j=0),null!=
g&&(g.j=0);else{var l,h;e.l.Qi(a)?(l=Math.sin(f),h=Math.sin(m),l=Math.sqrt((1+l)/(1-l)),h=Math.sqrt((1+h)/(1-h)),l=Math.log(h)-Math.log(l),l=Math.atan2(C,l),null!=u&&(u.j=e.l.W(f,m)?e.l.K(b*Math.cos(f)*C):e.l.K((b*m-b*f)/Math.cos(l)))):(h=e.C.Cx(a,m),l=Math.sin(e.C.Cx(a,f)),h=Math.sin(h),l=Math.sqrt((1+l)/(1-l)),h=Math.sqrt((1+h)/(1-h)),l=Math.log(h)-Math.log(l),l=Math.atan2(C,l),null!=u&&(e.l.W(f,m)?u.j=e.l.K(b*C*Math.cos(f)/e.C.Cm(a,f)):(C=e.C.q(b,a,f),b=e.C.q(b,a,m),u.j=e.l.K((b-C)/Math.cos(l)))));
if(null!=d||null!=g)u=e.C.da(l+3.141592653589793),A&&w||!A&&!w||(A?l=0>f?k:e.C.da(3.141592653589793-k):w&&(u=0>m?c:e.C.da(3.141592653589793-c))),null!=d&&(d.j=l),null!=g&&(g.j=u)}};d.Uf=function(b,a,c,f,k,m,u,d){m=e.C.da(m);0>k&&(k=e.l.K(k),m=e.C.da(m+3.141592653589793));e.l.Qi(a)?e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?m:e.C.da(3.141592653589793-m),m=k/b%6.283185307179586,3.141592653589793>=m?b=f-e.l.Ab(m,f):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(m-3.141592653589793,f))):e.l.W(e.l.K(m),1.570796326794897)?
(c=e.C.da(c+e.l.Ab(k,m)/(b*Math.cos(f))),b=f):(b=f+k*Math.cos(m)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Ab(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(m)*a))):e.l.W(e.l.K(f),1.570796326794897)?(c=0>f?m:e.C.da(3.141592653589793-m),m=k/e.C.qX(b,a),m%=6.283185307179586,
3.141592653589793>=m?(b=f-e.l.Ab(m,f),b=e.C.xp(a,b)):(c=e.C.da(c+3.141592653589793),b=-f+e.l.Ab(m-3.141592653589793,f),b=e.C.xp(a,b))):e.l.W(e.l.K(m),1.570796326794897)?(c=e.C.da(c+e.l.Ab(k,m)*e.C.Cm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(k*Math.cos(m)+e.C.q(b,a,f))/e.C.Yg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Ab(1.570796326794897,b)),b=e.C.xp(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(m)||e.l.W(e.l.K(m),3.141592653589793))||(k=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&
(f=e.l.Ab(1.570796316258184,b),b=e.C.CQ(a,f)),a=Math.sin(k),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),c=e.C.da(c+Math.tan(m)*a)));null!=u&&(u.j=c);null!=d&&(d.j=b)};return d}();e.VD=d})(t||(t={}));(function(e){var d=function(){function d(){}d.Gz=function(b,a,c,f,k,m,u){e.Nu.Cb(b,a,c,f,k,m,null,u,null)};d.Xi=function(b,a,c,f,k,m,u,d){e.Nu.Uf(b,a,c,f,k,m,u,d)};d.Ld=function(b,a,c,f,k,m,u,d,g,w){switch(w){case 2:e.yl.Cb(b,a,c,f,k,m,u,d,g);break;case 3:e.WD.Cb(b,
a,c,f,k,m,u,d,g);break;case 1:e.VD.Cb(b,a,c,f,k,m,u,d,g);break;default:e.Nu.Cb(b,a,c,f,k,m,u,d,g)}};d.Oj=function(b,a,c,f,k,m,u,d,g){switch(g){case 2:e.yl.Uf(b,a,c,f,k,m,u,d);break;case 3:e.WD.Uf(b,a,c,f,k,m,u,d);break;case 1:e.VD.Uf(b,a,c,f,k,m,u,d);break;default:e.Nu.Uf(b,a,c,f,k,m,u,d)}};return d}();e.mb=d})(t||(t={}));(function(e){var d=function(){function a(){this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);return b};a.bG=function(c,b){var f=
new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);return f};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.IZ=d;var g=function(){function a(){this.z=this.y=this.x=null}a.pa=function(c){var b=new a;b.x=new e.Xb;b.x.set(c.x);b.y=new e.Xb;b.y.set(c.y);b.z=new e.Xb;b.z.set(c.z);return b};a.bG=function(c,b,k){var f=new a;f.x=new e.Xb;f.x.set(c);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(k);return f};
a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new e.qd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var c=new e.Xb,b=new e.Xb,m=new e.Xb;c.pm(this.x,a.x);b.pm(this.y,a.y);m.pm(this.z,a.z);a=new e.Xb;a.cP(c,b);a.add(m);return a};a.prototype.kG=function(c){var b=new a;b.x.pm(this.y,c.z);b.y.pm(this.z,c.x);b.z.pm(this.x,c.y);var k=new e.Xb,m=new e.Xb,u=new e.Xb;k.pm(this.z,c.y);m.pm(this.x,c.z);u.pm(this.y,c.x);
b.x.sub(k);b.y.sub(m);b.z.sub(u);return b};return a}();e.JZ=g;var b=function(){function a(){}a.qO=function(c,b,k){var f=b.x;b=b.y;a.Dk(1,c,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),k)};a.nO=function(c,b){var f=new e.qd;a.qO(c,b,f);return f};a.HZ=function(c,b,k,m,u,d){var f=new e.qd;a.Dk(c,b,k,m,u,d,f);return f};a.Dk=function(a,b,k,m,e,d,g){a/=Math.sqrt(1-b*d*d);g.I(a*e*k,a*e*m,a*(1-b)*d)};a.Su=function(a,b){var c=new e.Xb,f=new e.Xb,u=new e.Xb,d=new e.Xb;c.cos(b.x);f.sin(b.x);u.cos(b.y);d.sin(b.y);
b=new e.Xb;b.set(d);b.Vg(d);b.yp(a);b.yp(-1);b.jP();b.sqrt();var A=new e.Xb;A.set(1);A.Wm(b);b=new e.Xb;b.set(A);b.Vg(u);b.Vg(c);c=new e.Xb;c.set(A);c.Vg(u);c.Vg(f);f=new e.Xb;f.set(A);f.yp(1-a);f.Vg(d);return g.bG(b,c,f)};a.MN=function(a,b,k){var c=b.x,f=b.y;k.ka(Math.atan2(f,c),Math.atan2(b.z,(1-a)*Math.sqrt(c*c+f*f)))};a.Y_=function(c,b,k){c=new e.b;a.MN(b,k,c);return c};a.NU=function(c,b,k,m){if(Math.abs(b.x-k.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(b.y)==.5*
Math.PI||Math.abs(k.y)==.5*Math.PI)&&b.x!=k.x)return NaN;m=a.SC(m,Math.min(b.x,k.x),Math.max(b.x,k.x));if(!(new e.Ac(b.x,k.x)).contains(m))return NaN;var f=d.pa(b);k=d.pa(k);f=a.Su(c,f);k=a.Su(c,k);k=f.kG(k);if(k.z.Lg())return b=b.y;var C=new e.Xb;C.set(k.x);C.Wm(k.z);C.yp(-1);var g=new e.Xb;g.set(k.y);g.Wm(k.z);g.yp(-1);var w=new e.Xb;w.set(g);w.Vg(g);f=new e.Xb;f.set(C);f.Vg(C);f.add(w);f.sqrt();if(f.Lg()||C.Lg()&&g.Lg())return b=b.y;b=Math.atan2(g.value(),C.value());b=Math.atan2(f.value()*Math.cos(b-
m),1-c);m=a.nO(c,e.b.pa(m,b));c=new e.qd(m.x,m.y,-m.z);m=k.value().oi(m);c=k.value().oi(c);Math.abs(c)<Math.abs(m)&&(b=-b);return b};a.vA=function(c,b,k,m,u,C){C[0]=NaN;C[1]=NaN;if(Math.abs(k.x-m.x)>Math.PI||Math.abs(k.y)>.5*Math.PI||Math.abs(m.y)>.5*Math.PI||(Math.abs(k.y)==.5*Math.PI||Math.abs(m.y)==.5*Math.PI)&&k.x!=m.x||Math.abs(u)>=.5*Math.PI||0<k.y&&0<m.y&&k.y>u&&m.y>u||0>k.y&&0>m.y&&k.y<u&&m.y<u)return 0;var f=d.pa(k);c=d.pa(m);f=a.Su(b,f);c=a.Su(b,c);var g=f.kG(c);if(g.z.Lg())return(new e.Ac(k.y,
m.y)).contains(u)?(C[0]=k.x,1):0;c=new e.Xb;c.set(g.x);c.Wm(g.z);c.yp(-1);f=new e.Xb;f.set(g.y);f.Wm(g.z);f.yp(-1);g=new e.Xb;g.set(f);g.Vg(f);var w=new e.Xb;w.set(c);w.Vg(c);w.add(g);w.sqrt();if(w.Lg()||c.Lg()&&f.Lg())return 0==u?(C[0]=k.x,C[1]=m.x,2):0;b=(1-b)*Math.tan(u)/w.value();if(1<Math.abs(b))return 0;b=Math.acos(b);g=Math.atan2(f.value(),c.value());c=Math.min(k.x,m.x);f=Math.max(k.x,m.x);m=a.SC(g-b,c,f);b=0!=u?a.SC(g+b,c,f):m;u=0;c<=m&&m<=f&&(C[u]=m,u++);b!=m&&c<=b&&b<=f&&(C[u]=b,u++,2==
u&&Math.abs(C[0]-k.x)>Math.abs(C[1]-k.x)&&(k=C[0],C[0]=C[1],C[1]=k));return u};a.SC=function(a,b,k){a>k?(b=Math.ceil((a-k)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.LB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.yy=b})(t||(t={}));(function(e){var d=function(){function d(){}d.UY=function(b,a){var c=8;0>c&&(c=8);var f=[0,0,0,0],k=new e.b;k.L(a);k.scale(9102==e.fb.kc(b).Nd().yc()?
1:e.fb.kc(b).Nd().Ai/3.141592653589793*180);-180>k.x?(k.x-=k.x%360,-180>k.x&&(k.x+=360)):180<k.x&&(k.x-=k.x%360,180<k.x&&(k.x-=360));90<k.y&&(k.y=90);-90>k.y&&(k.y=-90);b=5*c;a=(b+31)/32;for(var m=-180,u=180,C=b-1,g=a-1;0<=g;g--)for(var w=C-32*g,l=Math.min(32,b-32*g),h=1;h<l;h+=2){var n=.5*(u+m);k.x>=n?(f[g]|=1<<w,m=n):u=n;w-=2;C-=2}m=-90;u=90;C=b-2;for(g=a-1;0<=g;g--)for(w=C-32*g,l=Math.min(32,b-32*g),h=0;h<l;h+=2)n=.5*(u+m),k.y>=n?(f[g]|=1<<w,m=n):u=n,w-=2,C-=2;return d.wO(f,c,c)};d.wO=function(b,
a,c){for(var f=[],k=0;k<a;k++)f[k]="";for(var m=k=0,e=0;e<a;e++){var d=b[k]>>m&31,m=m+5;if(31<m){var g=37-m,d=d&(1<<g)-1,m=m-32;k++;d|=(b[k]&(1<<m)-1)<<g}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[d]}if(c>a)for(e=0;e<c-a;e++)f.push("0");else c<a&&(f.length=c);return f.join("")};return d}();e.tM=d})(t||(t={}));(function(e){var d={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,
8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,
30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,
51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,
73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,
94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,
115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,
136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,
2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,
7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,
102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,
102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,
102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,
102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,
3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,
6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,
6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,
6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,
6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,
6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,
6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,
6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,
6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,
6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,
103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,
103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,
8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,
102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,
32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,
5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,
5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,
5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,
5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,
5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,
10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,
5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},g={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},b=function(){function a(){}a.Cz=function(c){!1===a.ul&&a.hq();var b=a.fU(c);if(-1==b){var k=a.Qv(c);k!=c&&(b=a.Cz(k))}-1==b&&(k=a.AL(c),k!=c&&(b=a.Cz(k)));return b};a.fU=
function(c){return void 0!==a.hv[c]?a.hv[c]:-1};a.vS=function(c){!1===a.ul&&a.hq();var b=a.LF(c);if(1E38==b){var k=a.Qv(c);k!=c&&(b=a.LF(k));if(1E38==b)return 1E-10}return b};a.TU=function(c){if(void 0!==a.$p[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.$p[b]?!0:!1};a.VU=function(c){if(void 0!==a.Dj[c])return!0;var b=a.Qv(c);return b!=c&&void 0!==a.Dj[b]?!0:!1};a.LF=function(c){!1===a.ul&&a.hq();return void 0!==a.$p[c]?a.$p[c]:void 0!==a.Dj[c]?a.Dj[c]:1E38};a.AL=function(c){!1===a.ul&&a.hq();
return void 0!==a.IC[c]?a.IC[c]:c};a.Qv=function(c){!1===a.ul&&a.hq();return void 0!==a.QC[c]?a.QC[c]:c};a.hq=function(){for(var c=d,b,k=0;k<c.pcsid.length;k+=2)a.Dj[c.pcsid[k]]=c.pcstol[2*c.pcsid[k+1]+1];for(k=0;k<c.pcsidc.length;k+=1){b=c.pcsidc[k];for(var m=b[0];m<=b[1];m++)a.Dj[m]=c.pcstol[2*b[2]+1]}for(k=0;k<c.gcsid.length;k+=2)a.$p[c.gcsid[k]]=c.gcstol[2*c.gcsid[k+1]+1];for(k=0;k<c.gcsidc.length;k+=1)for(b=c.gcsidc[k],m=b[0];m<=b[1];m++)a.Dj[m]=c.gcstol[2*b[2]+1];for(k=0;k<g.c.length;k+=1)for(b=
g.c[k],m=b[0];m<=b[1];m++)a.hv[m]=b[2];for(k=0;k<g.nc.length;k+=2)a.hv[g.nc[k]]=g.nc[k+1];g=null;for(k=0;k<c.newtoold.length;k+=2)a.IC[c.newtoold[k+1]]=c.newtoold[k],a.QC[c.newtoold[k]]=c.newtoold[k+1];d=null;a.ul=!0};a.ul=!1;a.$p=[];a.Dj=[];a.IC=[];a.QC=[];a.hv=[];return a}();e.us=b})(t||(t={}));(function(e){function d(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var g=[],b=function(){function a(){}a.xS=function(c){try{for(var b=0;b<g.length;b++)if(g[b].wkttext===
c)return g[b].unit;for(var k,m=b="",u=!1,C=0;C<c.length;C++){var A=c[C];!0===u?'"'==A?'"'==c[C+1]?b+=A:u=!1:b+=A:/[\s]/.test(A)||(","==A?(m=""!==b?m+(d(b)+","):m+",",b=""):")"==A||"]"==A?(m=""!==b?m+(d(b)+"]}"):m+"]}",b=""):"("==A||"["==A?(m+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==A?(u=!0,b=""):b+=A)}k=JSON.parse(m);var w=a.qF(k);if(null===w)return null;k=null;for(A=0;A<w.values.length;A++)if("object"===typeof w.values[A]&&"UNIT"===w.values[A].entity){k=w.values[A];break}if(null===
k)return null;var l=e.oc.cR("GEOGCS"===w.entity?1:0,k.values[1],k.values[2]);g.push({wkttext:c,unit:l});10<g.length&&g.shift();return l}catch(W){return null}};a.qF=function(c){if(null===c)return null;if("GEOGCS"===c.entity||"PROJCS"===c.entity)return c;for(var b=[],k=0;k<c.values.length;k++)if("object"===typeof c.values[k]&&void 0!==c.values[k].entity){if("GEOGCS"===c.values[k].entity||"PROJCS"==c.values[k].entity)return c.values[k];b.push(c.values[k])}for(c=0;c<b.length;c++)if(k=a.qF(b[c]),null!==
k)return k;return null};a.wS=function(a){var c=-1;if(null!=a&&0<a.length){var b,m;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,m=a.indexOf("]",b+1),0<m)))try{e=parseFloat(a.substring(b,m))}catch(A){e=0}0<e&&(c=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var d=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;m=a.indexOf(",",b+1);if(0<m)try{d=parseFloat(a.substring(b,m))}catch(A){d=0}if(0<d&&(b=a.indexOf("UNIT",m+1),
0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,m=a.indexOf("]",b+1),0<m))))try{e=parseFloat(a.substring(b,m))}catch(A){e=0}}0<d&&0<e&&(c=.001/(d*e))}}return c};return a}();e.pE=b})(t||(t={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.GM||(e.GM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.HN||(e.HN={}));
(function(e){e[e.POSITION=0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.Wc||(e.Wc={}));var d=function(){function d(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=a.bm;this.Qt=[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=
b,b+=d.Xa(this.wg[a]);this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=d.Xa(this.rd(a));for(var c=d.de(this.rd(a)),f=0;f<b;f++)this.af[this.Qt[a]+f]=c}}else this.Er=this.Ga=0}d.prototype.rd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.wg[b]};d.prototype.mg=function(b){return this.Sh[b]};d.Xz=function(b){return d.tc[b]};d.si=function(b){return d.bd[b]};d.Mg=function(b){return d.fe[b]};d.Cj=function(b){return d.Mg(d.si(b))*d.Xa(b)};d.Xa=function(b){return d.Bb[b]};d.Wg=function(b){return 2>
b};d.rk=function(b){return d.Wg(d.si(b))};d.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};d.prototype.uH=function(){return this.hasAttribute(1)};d.de=function(b){return d.$[b]};d.prototype.FT=function(b){return this.Qt[b]};d.PH=function(b,a){return d.$[b]===a};d.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};d.prototype.Eb=function(b){return this===b};d.prototype.Ak=function(){for(var b=e.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=e.J.dh(this.wg[a],b);return b};d.prototype.xk=
function(b){return this.Qt[b]};d.prototype.jc=function(){return this.bm};d.prototype.Td=function(b){return this.wg[b]};d.$=[0,0,NaN,0,0,0,0,0,0];d.tc=[1,1,1,0,2,1,1,1,0];d.bd=[1,1,1,2,0,0,0,0,2];d.fe=[4,8,4,8,1,2];d.Bb=[2,1,1,1,3,1,2,3,2];return d}();e.ma=d})(t||(t={}));(function(e){function d(a,b,k,m){var c=a.Jd,f=a.e+b+1;1===k?m=5<=c[f]:2===k?m=5<c[f]||5==c[f]&&(m||0>f||void 0!==c[f+1]||c[f-1]&1):3===k?m=m||void 0!==c[f]||0>f:(m=!1,0!==k&&g("!Big.RM!"));if(1>f||!c[0])m?(a.e=-b,a.Jd=[1]):a.Jd=[a.e=
0];else{c.length=f--;if(m)for(;9<++c[f];)c[f]=0,f--||(++a.e,c.unshift(1));for(f=c.length;!c[--f];c.pop());}}function g(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(c){if(c instanceof a)this.me=c.me,this.e=c.e,this.Jd=c.Jd.slice();else{var f,m,e;0===c&&0>1/c?c="-0":b.test(c+="")||g(NaN);this.me="-"==c.charAt(0)?(c=c.slice(1),-1):1;-1<(f=c.indexOf("."))&&(c=c.replace(".",""));0<(m=c.search(/e/i))?(0>f&&(f=m),f+=+c.slice(m+1),c=c.substring(0,
m)):0>f&&(f=c.length);for(m=0;"0"==c.charAt(m);m++);if(m==(e=c.length))this.Jd=[this.e=0];else{for(;"0"==c.charAt(--e););this.e=f-m-1;this.Jd=[];for(f=0;m<=e;this.Jd[f++]=+c.charAt(m++));}}}a.prototype.abs=function(){var c=new a(this);c.me=1;return c};a.prototype.SF=function(){var c=0,b=this.Jd,m=(c=new a(c)).Jd,e=this.me,d=c.me,g=this.e,w=c.e;if(!b[0]||!m[0])return b[0]?e:m[0]?-d:0;if(e!=d)return e;c=0>e;if(g!=w)return g>(w^c)?1:-1;e=-1;for(d=(g=b.length)<(w=m.length)?g:w;++e<d;)if(b[e]!=m[e])return b[e]>
(m[e]^c)?1:-1;return g==w?0:g>(w^c)?1:-1};a.prototype.Wm=function(c){var b=this.Jd,f=(c=new a(c)).Jd,e=this.me==c.me?1:-1,C=a.bd;(C!==~~C||0>C||1E6<C)&&g("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&g(NaN),f[0]||g(e/0),new a(0*e);var A,w,l,h,n=f.slice(),p=A=f.length,q=b.length,t=b.slice(0,A),r=t.length,v=c,x=v.Jd=[],z=0,G=C+(v.e=this.e-c.e)+1;v.me=e;e=0>G?0:G;for(n.unshift(0);r++<A;t.push(0));do{for(w=0;10>w;w++){if(A!=(r=t.length))l=A>r?1:-1;else for(h=-1,l=0;++h<A;)if(f[h]!=t[h]){l=f[h]>t[h]?
1:-1;break}if(0>l){for(c=r==A?f:n;r;){if(t[--r]<c[r]){for(h=r;h&&!t[--h];t[h]=9);--t[h];t[r]+=10}t[r]-=c[r]}for(;!t[0];t.shift());}else break}x[z++]=l?w:++w;t[0]&&l?t[r]=b[p]||0:t=[b[p]]}while((p++<q||void 0!==t[0])&&e--);x[0]||1==z||(x.shift(),v.e--);z>G&&d(v,C,a.Mg,void 0!==t[0]);return v};a.prototype.aU=function(){return 0<this.SF()};a.prototype.pV=function(){return 0>this.SF()};a.prototype.Zt=function(c){var b,f,e=this.me,d=(c=new a(c)).me;if(e!=d)return c.me=-d,this.EJ(c);var g=this.Jd.slice();
f=this.e;var w=c.Jd,l=c.e;if(!g[0]||!w[0])return w[0]?(c.me=-d,c):new a(g[0]?this:0);if(e=f-l){(b=0>e)?(e=-e,f=g):(l=f,f=w);f.reverse();for(d=e;d--;f.push(0));f.reverse()}else for(f=((b=g.length<w.length)?g:w).length,e=d=0;d<f;d++)if(g[d]!=w[d]){b=g[d]<w[d];break}b&&(f=g,g=w,w=f,c.me=-c.me);if(0<(d=(f=w.length)-(b=g.length)))for(;d--;g[b++]=0);for(d=b;f>e;){if(g[--f]<w[f]){for(b=f;b&&!g[--b];g[b]=9);--g[b];g[f]+=10}g[f]-=w[f]}for(;0==g[--d];g.pop());for(;0==g[0];)g.shift(),--l;g[0]||(c.me=1,g=[l=
0]);c.Jd=g;c.e=l;return c};a.prototype.EJ=function(c){var b,f=this.me;b=(c=new a(c)).me;if(f!=b)return c.me=-b,this.Zt(c);b=this.e;var e=this.Jd,d=c.e,g=c.Jd;if(!e[0]||!g[0])return g[0]?c:new a(e[0]?this:0*f);e=e.slice();if(f=b-d){0<f?(d=b,b=g):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-g.length&&(b=g,g=e,e=b);f=g.length;for(b=0;f;)b=(e[--f]=e[f]+g[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++d);for(f=e.length;0==e[--f];e.pop());c.Jd=e;c.e=d;return c};a.prototype.pow=function(c){var b=
this,f=new a(1),e=f,d=0>c;(c!==~~c||-1E6>c||1E6<c)&&g("!pow!");for(c=d?-c:c;;){c&1&&(e=e.ds(b));c>>=1;if(!c)break;b=b.ds(b)}return d?f.Wm(e):e};a.prototype.round=function(c,b){var f=this;null==c?c=0:(c!==~~c||0>c||1E6<c)&&g("!round!");d(f=new a(f),c,null==b?a.Mg:b);return f};a.prototype.sqrt=function(){var c,b,m;b=this.Jd;c=this.me;m=this.e;var e=new a("0.5");if(!b[0])return new a(this);0>c&&g(NaN);c=Math.sqrt(this.toString());0==c||c==1/0?(c=b.join(""),c.length+m&1||(c+="0"),b=new a(Math.sqrt(c).toString()),
b.e=((m+1)/2|0)-(0>m||m&1)):b=new a(c.toString());c=b.e+(a.bd+=4);do m=b,b=e.ds(m.EJ(this.Wm(m)));while(m.Jd.slice(0,c).join("")!==b.Jd.slice(0,c).join(""));d(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(c){var b,f=this.Jd,e=(c=new a(c)).Jd,d=f.length,g=e.length,w=this.e,l=c.e;c.me=this.me==c.me?1:-1;if(!f[0]||!e[0])return new a(0*c.me);c.e=w+l;d<g&&(b=f,f=e,e=b,l=d,d=g,g=l);for(b=Array(l=d+g);l--;b[l]=0);for(w=g;w--;){g=0;for(l=d+w;l>w;)g=b[l]+e[w]*f[l-w-1]+g,b[l--]=g%10,g=g/10|0;b[l]=(b[l]+
g)%10}g&&++c.e;b[0]||b.shift();for(w=b.length;!b[--w];b.pop());c.Jd=b;return c};a.prototype.toString=function(){var a=this.e,c=this.Jd.join(""),b=c.length;if(-7>=a||21<=a)c=c.charAt(0)+(1<b?"."+c.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;c="0"+c);c="0."+c}else if(0<a)if(++a>b)for(a-=b;a--;c+="0");else a<b&&(c=c.slice(0,a)+"."+c.slice(a));else 1<b&&(c=c.charAt(0)+"."+c.slice(1));return 0>this.me&&this.Jd[0]?"-"+c:c};a.bd=20;a.Mg=1;return a}();e.Tp=a})(t||(t={}));(function(e){var d=function(){function b(a){this.Nf=
a}b.prototype.hs=function(a,c,b){var f=new e.b,m=new e.b,u=this.Nf;b.Gd(a,c,function(a,c){u.fc(2*a,f);u.fc(2*c,m);return f.compare(m)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),g=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var c=a.G();return 1736==c?0==a.hf()?!1:!0:1607==c?(c=[!1],b.nE(a,!0,c),c[0]):197==c||e.T.Oc(c)&&!a.OH()?!0:!1};b.Rm=function(a){var c=a.G();if(1736==c)return c=new e.Ua(a.description),a.u()||a.yE(c),c;if(1607==c)return b.nE(a,!1,null);
if(197==c)return c=new e.Ua(a.description),a.u()||c.jd(a,!1),c;if(e.T.Oc(c)){c=new e.Ed(a.description);if(!a.u()&&!a.OH()){var f=new e.Wa;a.Dp(f);c.add(f);a.Bp(f);c.add(f)}return c}if(e.T.Jo(c))return null;throw e.g.F();};b.nE=function(a,c,b){null!=b&&(b[0]=!1);var f=null;c||(f=new e.Ed(a.description));if(!a.u()){var m=new e.ia(0);m.yb(2*a.aa());for(var u=0,C=a.aa();u<C;u++)if(0<a.La(u)&&!a.Eo(u)){var g=a.wa(u);m.add(g);g=a.Gc(u)-1;m.add(g)}if(0<m.size){C=new e.Hu;u=a.Pa(0);C.sort(m,0,m.size,new d(u));
C=new e.b;u.fc(2*m.get(0),C);for(var g=0,w=1,l=new e.Wa,h=new e.b,n=1,p=m.size;n<p;n++)if(u.fc(2*m.get(n),h),h.ub(C))m.get(g)>m.get(n)?(m.set(g,2147483647),g=n):m.set(n,2147483647),w++;else{if(0==(w&1))m.set(g,2147483647);else if(c)return null!=b&&(b[0]=!0),null;C.L(h);g=n;w=1}if(0==(w&1))m.set(g,2147483647);else if(c)return null!=b&&(b[0]=!0),null;if(!c)for(m.Gd(0,m.size,function(a,c){return a-c}),n=0,p=m.size;n<p&&2147483647!=m.get(n);n++)a.Ae(m.get(n),l),f.add(l)}}return c?null:f};return b}();
e.Pi=g})(t||(t={}));(function(e){var d=function(){function d(){this.ag=new e.ia(0);this.ut=new e.ia(0);this.UI=1;this.At=NaN}d.prototype.sort=function(b,a,c,f){if(32>c-a)f.hs(a,c,b);else{var k=!0;try{for(var m=Infinity,e=-Infinity,d=a;d<c;d++){var g=f.Qq(b.get(d));g<m&&(m=g);g>e&&(e=g)}if(this.reset(c-a,m,e,c-a)){for(d=a;d<c;d++){var w=b.get(d),g=f.Qq(w),l=this.LG(g);this.ag.set(l,this.ag.get(l)+1);this.ut.write(d-a,w)}var h=this.ag.get(0);this.ag.set(0,0);for(var d=1,n=this.ag.size;d<n;d++){var p=
this.ag.get(d);this.ag.set(d,h);h+=p}for(d=a;d<c;d++){var w=this.ut.read(d-a),g=f.Qq(w),l=this.LG(g),q=this.ag.get(l);b.set(q+a,w);this.ag.set(l,q+1)}k=!1}}catch(ia){this.ag.resize(0),this.ut.resize(0)}if(k)f.hs(a,c,b);else{d=c=0;for(n=this.ag.size;d<n;d++)k=c,c=this.ag.get(d),c>k&&f.hs(a+k,a+c,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};d.prototype.reset=function(b,a,c,f){if(2>b||c==a)return!1;b=Math.min(d.RV,b);this.ag.yb(b);this.ag.resize(b);this.ag.Zh(0,0,this.ag.size);this.UI=
a;this.ut.resize(f);this.At=(c-a)/(b-1);return!0};d.prototype.LG=function(b){return e.J.truncate((b-this.UI)/this.At)};d.RV=65536;return d}();e.Hu=d})(t||(t={}));(function(e){var d;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(d||(d={}));var g=function(){function a(){}a.Ev=function(c,b,f,k,d,g){var m=new a;m.un=new e.b;m.In=new e.b;m.Ow=new e.b;m.un.L(c);m.In.L(b);
m.Ow.L(f);m.qp=k;m.Nh=d;m.Qh=g;return m};a.pa=function(c,b,f,k){var m=new a;m.un=new e.b;m.In=new e.b;m.Ow=new e.b;m.un.L(c);m.In.L(b);m.Ow.$c();m.qp=4;m.Nh=f;m.Qh=k;return m};return a}(),b=function(){function a(a,c,b,f,k,e){this.Lw=null;this.Ca=0;this.kB=a;this.oJ=this.mJ=0;this.Qa=c;this.fk=b;this.Xk=f;this.tr=k;this.lc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.kB.D())return null;this.kB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var c=!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=
a.nf(),this.Lw=f.buffer(a,this.Qa,this.fk,this.Xk,this.tr,this.lc),c=!0);var b;this.Ca<this.kB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!c){var c=new e.Hd,k=a.Be()-this.mJ,a=a.nf()-this.oJ;c.Ag(k,a);b.Xc(c)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,c){this.$a=a;this.Ca=0;this.dr=c}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;this.Ca++;if(!a.Eo(c))for(var b=a.Ba(a.Gc(c)-1);this.Ca<a.aa();){var f=
a.Ba(a.wa(this.Ca));if(a.Eo(this.Ca))break;if(f!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-c)return this.$a.yF(this.$a.Y,c,this.dr);b=new e.Ua(this.$a.Y.description);b.Ti(this.$a.Y,c,!0);for(c+=1;c<this.Ca;c++)b.Bs(this.$a.Y,c,0,a.ew(c),!1);return this.$a.yF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),c=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var c=this.Ca;
a.Sm(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==c&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,c,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),f=function(){function f(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.te=[];this.lc=a;this.vb=this.xw=this.IV=this.Qa=this.$A=this.Vt=this.ta=0;this.XA=this.Xk=-1;this.dr=!0}f.buffer=function(a,c,b,k,d,g){if(null==a)throw e.g.F();if(0>k)throw e.g.F();if(a.u())return new e.Ja(a.description);
var m=new e.h;a.ac(m);0<c&&m.O(c,c);g=new f(g);g.fk=b;g.Y=a;g.ta=e.na.be(b,m,!0);g.Vt=e.na.be(null,m,!0);g.Qa=c;g.IV=a.G();0>=d&&(d=96);g.vb=Math.abs(g.Qa);g.xw=0!=g.vb?1/g.vb:0;isNaN(k)||0==k?k=1E-5*g.vb:k>.5*g.vb&&(k=.5*g.vb);12>d&&(d=12);a=Math.abs(c)*(1-Math.cos(Math.PI/d));a>k?k=a:(a=Math.PI/Math.acos(1-k/Math.abs(c)),a<d-1&&(d=e.J.truncate(a),12>d&&(d=12,k=Math.abs(c)*(1-Math.cos(Math.PI/d)))));g.Xk=k;g.tr=d;g.$A=Math.min(g.Vt,.25*k);return g.zF()};f.prototype.Rv=function(){if(null==this.Wd)this.Wd=
[];else if(0!==this.Wd.length)return;var a=this.DF(),a=e.J.truncate((a+3)/4),c=.5*Math.PI/a;this.XA=c;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var f=Math.cos(c),c=Math.sin(c),k=e.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=e.b.pa(k.y,-k.x),this.Wd[b+1*a]=e.b.pa(-k.x,-k.y),this.Wd[b+2*a]=e.b.pa(-k.y,k.x),this.Wd[b+3*a]=k,k=e.b.pa(k.x,k.y),k.qu(f,c)};f.prototype.zF=function(){var a=this.Y.G();if(e.T.Oc(a))return a=new e.Ua(this.Y.description),a.dc(this.Y,!0),this.Y=a,this.zF();if(this.Qa<=this.ta)if(e.T.PU(a)){if(0>=
this.Qa&&(a=new e.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.TP();case 550:return this.SP();case 1607:return this.VP();case 1736:return this.UP();case 197:return this.QP();default:throw e.g.za();}};f.prototype.VP=function(){if(this.QH(this.Y)){var c=new e.Wa;this.Y.Ae(0,c);var b=new e.h;this.Y.s(b);c.rb(b.Wf());return this.rv(c)}this.Y=this.PW(this.Y);c=new a(this,this.dr);
return e.ei.local().V(c,this.fk,this.lc).next()};f.prototype.UP=function(){if(0==this.Qa)return this.Y;var a=e.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.lc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.lc)}if(this.QH(this.Y))return a=new e.Wa,this.Y.Ae(0,a),b=new e.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new c(this);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.Wy=function(a,c,b){for(var k=new e.Ja(a.description);c<b;c++)if(!(1>a.La(c))){var m=
a.Sm(c),u=new e.h;a.jk(c,u);if(0<this.Qa)if(0<m)if(this.RH(a,c))m=new e.Wa,a.Ae(a.wa(c),m),m.rb(u.Wf()),this.iv(k,m);else{var d=m=new e.Ua(a.description),d=e.Ju.VH(this.Y,c)||2==this.to(this.Y,c,d,!0,1)?this.xF(a,c):this.so(m);k.add(d,!1)}else{if(!(u.N()+this.ta<=2*this.vb||u.fa()+this.ta<=2*this.vb||(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,1),m.u()))){var C=new e.h;C.I(u);C.O(this.vb,this.vb);d.oq(C);d=this.so(m);u=1;for(m=d.aa();u<m;u++)k.Ti(d,u,!0)}}else if(0<m){if(!(u.N()+this.ta<=2*
this.vb||u.fa()+this.ta<=2*this.vb||(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,-1),m.u())))for(C=new e.h,d.ac(C),C.O(this.vb,this.vb),d.oq(C),d=this.so(m),u=1,m=d.aa();u<m;u++)k.Ti(d,u,!0)}else for(d=m=new e.Ua(a.description),this.to(this.Y,c,d,!0,-1),d=this.so(m),u=0,m=d.aa();u<m;u++)k.Ti(d,u,!0)}if(0<this.Qa)return 1<k.aa()?k=this.so(k):f.We(k);a=new e.h;k.ac(a);if(k.u())return f.We(k);a.O(this.vb,this.vb);k.oq(a);k=this.so(k);a=new e.Ja(k.description);u=1;for(m=k.aa();u<m;u++)a.Ti(k,u,
!1);return f.We(a)};f.prototype.TP=function(){return this.rv(this.Y)};f.prototype.rv=function(a){var c=new e.Ja(this.Y.description);this.iv(c,a);return this.oY(c)};f.prototype.SP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Xk,this.tr,this.lc);return e.ei.local().V(a,this.fk,this.lc).next()};f.prototype.QP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var c=new e.ci;this.Y.Qn(c);c.O(this.Qa,this.Qa);a.jd(c,!1)}return a}a.jd(this.Y,!1);this.Y=
a;return this.xF(a,0)};f.prototype.xF=function(a,c){this.Rv();var b=new e.Ja(a.description),k=new e.b,m=new e.b,u=new e.b,d=new e.b,g=new e.b,w=new e.b,l=new e.b,h=new e.b,n=a.La(c),p=a.wa(c),q=0;for(c=a.La(c);q<c;q++){a.w(p+q,m);a.w(p+(q+1)%n,d);a.w(p+(q+2)%n,w);l.zc(d,m);if(0==l.length())throw e.g.za();l.uw();l.normalize();l.scale(this.vb);k.add(l,m);u.add(l,d);0==q?b.zu(k):b.aj(k);b.aj(u);h.zc(w,d);if(0==h.length())throw e.g.za();h.uw();h.normalize();h.scale(this.vb);g.add(h,d);this.YE(b,d,u,g,
!1)}return f.We(b)};f.prototype.yF=function(a,c,b){this.Rv();if(1>a.La(c))return null;if(this.RH(a,c)&&0<this.Qa){b=new e.Wa;a.Ae(a.wa(c),b);var f=new e.h;a.jk(c,f);b.rb(f.Wf());return this.rv(b)}f=new e.Ua(a.description);if(a.Eo(c))this.to(a,c,f,b,1),this.to(a,c,f,b,-1);else{var k=new e.Ua(a.description);k.Ti(a,c,!1);k.Bs(a,c,0,a.ew(c),!1);this.to(k,0,f,b,1)}return this.so(f)};f.prototype.Pr=function(){this.kx++};f.prototype.so=function(a){return e.Dg.ol(a,this.Vt,!0,!0,this.lc)};f.prototype.DF=
function(){if(0==this.Xk)return this.tr;var a=1-this.Xk*Math.abs(this.xw),c;-1>a?c=4:c=2*Math.PI/Math.acos(a)+.5;4>c?c=4:c>this.tr&&(c=this.tr);return e.J.truncate(c)};f.prototype.YE=function(a,c,b,f,k){this.Rv();var m=new e.b;m.zc(b,c);m.scale(this.xw);var u=new e.b;u.zc(f,c);u.scale(this.xw);m=Math.atan2(m.y,m.x)/this.XA;0>m&&(m=this.Wd.length+m);m=this.Wd.length-m;u=Math.atan2(u.y,u.x)/this.XA;0>u&&(u=this.Wd.length+u);u=this.Wd.length-u;u<m&&(u+=this.Wd.length);var d=e.J.truncate(u),u=e.J.truncate(Math.ceil(m)),
m=new e.b;m.L(this.Wd[u%this.Wd.length]);m.ru(this.vb,c);var C=10*this.ta;m.sub(b);m.length()<C&&(u+=1);m.L(this.Wd[d%this.Wd.length]);m.ru(this.vb,c);m.sub(f);m.length()<C&&--d;b=d-u;b++;d=0;for(u%=this.Wd.length;d<b;d++,u=(u+1)%this.Wd.length)m.L(this.Wd[u]),m.ru(this.vb,c),a.aj(m),this.Pr();k&&a.aj(f)};f.prototype.to=function(a,c,b,f,k){var m=new e.fd,u=m.lP(a,c);m.zq(this.$A,!1,!1);if(2>m.D(u)){if(0>k)return 1;k=a;m=new e.Wa;k.Ae(k.wa(c),m);this.iv(b,m);return 1}var d=m.Ba(m.cb(m.Pb(u))),C=new e.Hd;
C.Ag(-d.x,-d.y);m.Xc(C);if(f&&(this.pS(m,u,k),2>m.D(u))){if(0>k)return 1;k=a;m=new e.Wa;k.Ae(k.wa(c),m);this.iv(b,m);return 1}this.te.length=0;var A=m.Pb(u);c=m.cb(A);var w=1==k?m.Ra(c):m.U(c);a=1==k?m.U(c):m.Ra(c);var l=!0;f=new e.b;for(var u=new e.b,h=new e.b,L=new e.b,n=new e.b,p=new e.b,q=new e.b,t=new e.b,r=new e.b,v=new e.b,x=this.vb,A=m.La(A),z=0;z<A;z++)m.w(a,u),l&&(m.w(c,f),m.w(w,h),t.zc(f,h),t.normalize(),v.aI(t),v.scale(x),L.add(v,f)),q.zc(u,f),q.normalize(),r.aI(q),r.scale(x),n.add(f,
r),w=t.Ui(q),l=t.oi(q),0>w||0>l&&0==w?this.te.push(g.Ev(L,n,f,2,this.te.length+1,this.te.length-1)):L.ub(n)||(this.te.push(g.pa(L,f,this.te.length+1,this.te.length-1,"dummy")),this.te.push(g.pa(f,n,this.te.length+1,this.te.length-1,"dummy"))),p.add(u,r),this.te.push(g.Ev(n,p,f,1,this.te.length+1,this.te.length-1)),L.L(p),v.L(r),h.L(f),f.L(u),t.L(q),w=c,c=a,l=!1,a=1==k?m.U(c):m.Ra(c);this.te[this.te.length-1].Nh=0;this.te[0].Qh=this.te.length-1;this.RW(b);C.Ag(d.x,d.y);b.lF(C,b.aa()-1);return 1};f.prototype.RW=
function(a){for(var c=this.DQ(),b=!0,f=c+1,k=c;f!=c;k=f){var m=this.te[k],f=-1!=m.Nh?m.Nh:(k+1)%this.te.length;0!=m.qp&&(b&&a.zu(m.un),2==m.qp?this.YE(a,m.Ow,m.un,m.In,!0):a.aj(m.In),b=!1)}};f.prototype.DQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,c=0,b=this.te.length;c<b;){var f=this.te[c];if(0!=(f.qp&3)){a=c;break}c=f.Nh}b=a+1;for(c=a;b!=a;c=b){for(var f=this.te[c],b=f.Nh,k=1,d=null;b!=c;){d=this.te[b];if(0!=(d.qp&3))break;b=d.Nh;k++}1!=k&&1==
(f.qp&d.qp)&&(null==this.Gt&&(this.Gt=new e.Hb,this.Zw=new e.Hb),this.Gt.Mc(f.un),this.Gt.Zc(f.In),this.Zw.Mc(d.un),this.Zw.Zc(d.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(f.In.L(this.Ft[0]),d.un.L(this.Ft[0]),f.Nh=b,d.Qh=c))}return a};f.prototype.sw=function(a,c,b){var f=new e.b;f.zc(b,a);b=f.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Ur();var k=new e.b;k.zc(c,a);if(k.oi(f)+b>=this.vb)return!0}return!1};f.prototype.pS=function(a,c,b){for(var f=0;1>f;f++){var k=
!1,m=a.Pb(c),u=a.La(m);if(0==u)break;var d=u;if(3>u)break;!a.Qb(m)&&(d=u-1);for(var m=a.cb(m),u=0<b?a.Ra(m):a.U(m),C=0<b?a.U(m):a.Ra(m),g=u,w=!0,l=new e.b,h=new e.b,n=new e.b,p=new e.b,q=new e.b,t=e.b.pa(0,0),r=new e.b,v=new e.b,x=new e.b,z=new e.b,G=this.vb,y=0,B=0;B<d;){a.w(C,h);w&&(a.w(m,l),a.w(u,n),g=u);v.zc(l,n);v.normalize();r.zc(h,l);r.normalize();if(g==C)break;var E=v.Ui(r),D=v.oi(r),H=!0;0>E||0>D&&0==E||!this.sw(n,l,h)||(t.L(h),H=!1,++y,k=!0);if(H){if(0<y)for(;;){E=0<b?a.Ra(g):a.U(g);if(E==
m)break;a.w(E,p);if(this.sw(p,n,t))n.L(p),g=E,H=!1,++y;else{E!=C&&this.sw(p,n,h)&&this.sw(p,l,h)&&(n.L(p),g=E,H=!1,++y);break}}if(!H)continue;if(0<y){g=0<b?a.Ra(u):a.U(u);for(w=1;w<y;w++)H=0<b?a.Ra(g):a.U(g),a.ud(g,!0),g=H;x.zc(l,n);y=x.length();y=G*G-y*y*.25;y=Math.sqrt(y);G-y>.5*this.Xk?(q.add(n,l),q.scale(.5),x.normalize(),x.Ur(),z.L(x),z.scale(G-y),q.add(z),a.Qf(u,q)):a.ud(u,!0);y=0}n.L(l);g=m}l.L(h);u=m;m=C;C=0<b?a.U(m):a.Ra(m);B++;w=!1}if(0<y){g=0<b?a.Ra(u):a.U(u);for(w=1;w<y;w++)H=0<b?a.Ra(g):
a.U(g),a.ud(g,!0),g=H;q.add(n,l);q.scale(.5);x.zc(l,n);y=x.length();y=G*G-y*y*.25;y=Math.sqrt(y);x.normalize();x.Ur();z.L(x);z.scale(G-y);q.add(z);a.Qf(u,q)}a.zq(this.$A,!1,!1);if(!k)break}};f.prototype.RH=function(a,c){if(1==a.La(c))return!0;var b=new e.h;a.jk(c,b);return Math.max(b.N(),b.fa())<.5*this.Xk?!0:!1};f.prototype.QH=function(a){var c=new e.h;a.s(c);return Math.max(c.N(),c.fa())<.5*this.Xk?!0:!1};f.prototype.PW=function(a){a=e.HD.local().V(a,.25*this.Xk,!1,this.lc);for(var c=0,b=0,f=a.aa();b<
f;b++)c=Math.max(a.La(b),c);if(32>c)return this.dr=!1,a;this.dr=!0;return e.Dg.ol(a,this.Vt,!1,!0,this.lc)};f.prototype.iv=function(a,c){c=c.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new e.b;b.L(this.Wd[0]);b.ru(this.vb,c);a.zu(b);for(var f=1,k=this.Wd.length;f<k;f++)b.L(this.Wd[f]),b.ru(this.vb,c),a.aj(b)}else for(var f=this.DF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,k=Math.cos(f),m=Math.sin(f),u=new e.b,d=3;0<=d;d--){u.ka(0,this.vb);switch(d){case 0:for(f=0;f<b;f++)a.Xj(u.x+c.x,u.y+c.y),
u.qu(k,m);break;case 1:for(f=0;f<b;f++)a.Xj(-u.y+c.x,u.x+c.y),u.qu(k,m);break;case 2:for(f=0;f<b;f++)a.Xj(-u.x+c.x,-u.y+c.y),u.qu(k,m);break;default:for(a.$x(u.y+c.x,-u.x+c.y),f=1;f<b;f++)u.qu(k,m),a.Xj(u.y+c.x,-u.x+c.y)}this.Pr()}};f.We=function(a){a.Zg(1,0);return a};f.prototype.oY=function(a){a.Zg(2,this.ta);a.Al();return a};return f}();e.QL=f})(t||(t={}));(function(e){var d=function(){function d(b){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0)}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<
c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,m=new e.b,u=new e.b,d=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0];new e.Cg;var w=
new e.Hb,l=new e.ia(0);l.yb(Math.min(100,b.D()));for(var h=!1,n=0;!h&&4>n;n++){var p=!1,q=0!=(n&1),t=0;switch(n){case 0:t=this.Ha.o;p=a.o<=t&&a.v>=t;break;case 1:t=this.Ha.A;p=a.A<=t&&a.B>=t;break;case 2:t=this.Ha.v;p=a.o<=t&&a.v>=t;break;case 3:t=this.Ha.B,p=a.A<=t&&a.B>=t}if(p)for(h=!0,p=this.a.Pb(this.Y);-1!=p;){var r=-1,v=-1,x=this.a.cb(p),z=x;do{var G=this.a.ic(z);null==G&&(G=w,this.a.w(z,m),G.Mc(m),this.a.w(this.a.U(z),u),G.Zc(u));G.s(f);var y=this.ji(f,n,t),B=0,E=-1;if(-1==y){G=G.Tq(q,t,d,
g);0<G?B=this.a.zm(z,g,G):B=0;for(var B=B+1,D=z,H=this.a.U(D),G=0;G<B;G++){this.a.w(D,m);this.a.w(H,u);E=this.a.ic(D);null==E&&(E=w,E.Mc(m),E.Zc(u));E.s(k);E=this.ji(k,n,t);if(-1==E){if(q)E=Math.abs(m.y-t),I=Math.abs(u.y-t),E<I?(m.y=t,this.a.Qf(D,m)):(u.y=t,this.a.Qf(H,u));else{var E=Math.abs(m.x-t),I=Math.abs(u.x-t);E<I?(m.x=t,this.a.Qf(D,m)):(u.x=t,this.a.Qf(H,u))}E=this.a.ic(D);null==E&&(E=w,E.Mc(m),E.Zc(u));E.s(k);E=this.ji(k,n,t)}I=r;r=E;-1==v&&(v=r);if(0!=I||1!=r)1==I&&0==r||0!=I||0!=r||l.add(D);
1==r&&(h=!1);E=D=H;H=this.a.U(H)}}if(0==B){I=r;r=y;-1==v&&(v=r);if(0!=I||1!=r)1==I&&0==r||0!=I||0!=r||l.add(z);1==r&&(h=!1);E=this.a.U(z)}z=E}while(z!=x);0==v&&0==r&&l.add(x);G=0;for(r=l.size;G<r;G++)v=l.get(G),this.a.ud(v,!1);l.clear(!1);p=3>this.a.La(p)?this.a.Rr(p):this.a.Sb(p)}}if(h)return b.Ka();this.gC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],m=new e.Cg,u=b,d=new e.h;b.ac(d);for(var g=0;4>g;g++){var w=
!1,l=0!=(g&1),h=0;switch(g){case 0:h=this.Ha.o;w=d.o<=h&&d.v>=h;break;case 1:h=this.Ha.A;w=d.A<=h&&d.B>=h;break;case 2:h=this.Ha.v;w=d.o<=h&&d.v>=h;break;case 3:h=this.Ha.B,w=d.A<=h&&d.B>=h}if(w){w=u;u=b.Ka();w=w.Fa();w.yj();for(var n,p=new e.b;w.Ya();)for(var q,t=!0;w.Ea();){var r=w.ba();r.s(a);var v=this.ji(a,g,h);if(-1==v){if(v=r.Tq(l,h,f,k),0<v){var x=0;n=r.ec();for(var z=0;z<=v;z++)if(q=z<v?k[z]:1,x!=q){r.yh(x,q,m);var G=m.get();G.Mc(n);z<v&&(l?(p.x=f[z],p.y=h):(p.x=h,p.y=f[z]),G.Zc(p));G.s(c);
var y=this.ji(c,g,h);if(-1==y){n=G.ec();x=G.Cc();if(l)y=Math.abs(n.y-h),B=Math.abs(x.y-h),y<B?(n.y=h,G.Mc(n)):(x.y=h,G.Zc(x));else{var y=Math.abs(n.x-h),B=Math.abs(x.x-h);y<B?(n.x=h,G.Mc(n)):(x.x=h,G.Zc(x))}G.s(c);y=this.ji(c,g,h)}n=G.Cc();x=q;q=y;1==q?(u.dc(G,t),t=!1):t=!0}}}else q=v,1==q?(u.dc(r,t),t=!1):t=!0}}}return u};d.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=e.J.gf(2048,0),k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k)){var m=this.a.cb(k),u=m;do{var d=this.a.U(u);
this.a.w(u,a);var g=-1;a.x==this.Ha.o?(this.a.w(d,c),c.x==this.Ha.o&&(g=1)):a.x==this.Ha.v&&(this.a.w(d,c),c.x==this.Ha.v&&(g=1));a.y==this.Ha.A?(this.a.w(d,c),c.y==this.Ha.A&&(g=0)):a.y==this.Ha.B&&(this.a.w(d,c),c.y==this.Ha.B&&(g=0));if(-1!=g&&(g=e.b.Cb(a,c),g=e.J.truncate(Math.min(Math.ceil(g/b),2048)),!(1>=g))){for(var w=1;w<g;w++)f[w-1]=1*w/g;this.a.zm(u,f,g-1)}u=d}while(u!=m)}};d.prototype.Am=function(b,a){var c=this.a.Vd(),f=new e.b,k=new e.ia(0);k.yb(100);for(var m=this.a.Pb(this.Y);-1!=
m;m=this.a.Sb(m))for(var u=this.a.cb(m),d=0,g=this.a.La(m);d<g;d++){var w=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(w,f),b?f.y==a:f.x==a)1!=this.a.Sa(u,c)&&(k.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(w,c)&&(k.add(w),this.a.Va(w,c,1));u=w}this.a.le(c);if(!(3>k.size)){var l=this;k.Gd(0,k.size,function(a,c){return l.ki(a,c)});c=new e.b;m=new e.b;u=new e.b;m.$c();for(var h=-1,d=new e.ia(0),g=new e.ia(0),w=this.a.Vd(),n=this.a.Vd(),p=0,q=k.size;p<q;p++){var t=k.get(p);this.a.w(t,f);if(!f.ub(m)){if(-1!=
h){for(var r=h;r<p;r++){var h=k.get(r),v=this.a.U(h),t=this.a.Ra(h),x=!1;0>this.ki(h,v)&&(this.a.w(v,c),b?c.y==a:c.x==a)&&(d.add(h),x=!0,this.a.Va(h,n,1));0>this.ki(h,t)&&(this.a.w(t,c),b?c.y==a:c.x==a)&&(x||d.add(h),this.a.Va(h,w,1))}r=0;for(x=d.size;r<x;r++){h=d.get(r);t=this.a.Sa(h,w);v=this.a.Sa(h,n);if(1==t){t=this.a.Ra(h);this.a.w(t,u);var z=[0];z[0]=0;if(!u.ub(f)){var G=e.b.Cb(m,u);z[0]=e.b.Cb(u,f)/G;0==z[0]?z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998);this.a.zm(t,z,1);t=this.a.Ra(h);
this.a.Qf(t,f);g.add(t);this.a.Va(t,w,1);this.a.Va(t,n,-1)}}1==v&&(v=this.a.U(h),this.a.w(v,u),z=[0],z[0]=0,u.ub(f)||(G=e.b.Cb(m,u),z[0]=e.b.Cb(m,f)/G,0==z[0]?z[0]=2.220446049250313E-16:1==z[0]&&(z[0]=.9999999999999998),this.a.zm(h,z,1),t=this.a.U(h),this.a.Qf(t,f),g.add(t),this.a.Va(t,w,-1),this.a.Va(t,n,1)))}h=d;d=g;g=h;g.clear(!1)}h=p;m.L(f)}}this.a.le(w);this.a.le(n)}};d.prototype.sm=function(b,a){var c=new e.b,f=new e.ia(0);f.yb(100);for(var k=this.a.Vd(),m=0,u=this.od.size;m<u;m++){var d=this.od.get(m);
if(-1!=d){var g=this.a.U(d);this.a.w(d,c);if(b?c.y==a:c.x==a)if(this.a.w(g,c),b?c.y==a:c.x==a)-2!=this.a.Sa(d,k)&&(f.add(d),this.a.Va(d,k,-2)),-2!=this.a.Sa(g,k)&&(f.add(g),this.a.Va(g,k,-2))}}if(0!=f.size){var w=this;f.Gd(0,f.size,function(a,c){return w.ki(a,c)});m=0;for(u=f.size;m<u;m++){var l=f.get(m);this.a.Va(l,k,m)}d=new e.b;g=new e.b;g.$c();for(var h=-1,m=0,u=f.size;m<u;m++)if(l=f.get(m),-1!=l&&(this.a.w(l,c),!c.ub(g))){if(-1!=h)for(;;){for(var l=!1,n=1<m-h?m-1:m,p=h;p<n;p++){var q=f.get(p);
if(-1!=q){var t=-1,r=this.a.U(q);0>this.ki(q,r)&&(this.a.w(r,d),b?d.y==a:d.x==a)&&(t=r);var r=-1,v=this.a.Ra(q);0>this.ki(q,v)&&(this.a.w(v,d),b?d.y==a:d.x==a)&&(r=v);if(-1!=t&&-1!=r)this.ii(q,f,k),this.a.ud(q,!1),this.ii(t,f,k),this.a.ud(t,!1),l=!0;else if(-1!=t||-1!=r){for(v=p+1;v<m;v++){var x=f.get(v);if(-1!=x){var z=this.a.U(x),G=-1;0>this.ki(x,z)&&(this.a.w(z,d),b?d.y==a:d.x==a)&&(G=z);var z=this.a.Ra(x),y=-1;0>this.ki(x,z)&&(this.a.w(z,d),b?d.y==a:d.x==a)&&(y=z);if(-1!=G&&-1!=y){this.ii(x,f,
k);this.a.ud(x,!1);this.ii(G,f,k);this.a.ud(G,!1);l=!0;break}if(-1!=t&&-1!=y){this.ou(f,q,t,x,y,k);l=!0;break}else if(-1!=r&&-1!=G){this.ou(f,x,G,q,r,k);l=!0;break}}}if(l)break}}}if(!l)break}h=m;g.L(c)}}this.a.le(k)};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,k,m){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,k);this.a.Kc(k,c);this.ii(f,b,
m);this.a.Mi(f,!1);this.ii(k,b,m);this.a.Mi(k,!0)};d.prototype.Dz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);-1!=c&&this.a.Aj(c,-1)}for(var f=0,k=0,m=this.a.Pb(this.Y);-1!=m;){var e=this.a.cb(m);if(-1==e||m!=this.a.ld(e)){var d=m,m=this.a.Sb(m);this.a.jg(d,-1);this.a.Sr(d)}else{c=e;d=0;do this.a.Aj(c,m),d++,c=this.a.U(c);while(c!=e);2>=d?(c=this.a.Sa(e,this.Ki),this.od.set(c,-1),e=this.a.ud(e,!1),2==d&&(c=this.a.Sa(e,this.Ki),this.od.set(c,-1),this.a.ud(e,!1)),d=m,m=this.a.Sb(m),
this.a.jg(d,-1),this.a.Sr(d)):(this.a.Np(m,!1),this.a.sh(m,this.a.Ra(e)),this.a.nk(m,d),k+=d,f++,m=this.a.Sb(m))}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(m=this.a.ld(c),-1==m)){m=this.a.Yf(this.Y,-1);d=0;e=c;do this.a.Aj(c,m),d++,c=this.a.U(c);while(c!=e);2>=d?(c=this.a.Sa(e,this.Ki),this.od.set(c,-1),e=this.a.ud(e,!1),2==d&&(c=this.a.Sa(e,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(e,!1)),d=m,this.a.jg(d,-1),this.a.Sr(d)):(this.a.$n(m,!0),this.a.nk(m,d),this.a.jg(m,e),this.a.sh(m,
this.a.Ra(e)),this.a.Np(m,!1),k+=d,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};d.Hm=function(b,a,c,f){return(new d(a)).hz(b,c,f)};d.clip=function(b,a,c,f){if(b.u())return b;if(a.u())return b.Ka();var k=b.G();if(33==k)return c=b.w(),a.contains(c)?b:b.Ka();if(197==k)return c=new e.h,b.s(c),c.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(c),a):b.Ka();var m=new e.h;b.ac(m);if(a.contains(m))return b;if(!a.Yb(m))return b.Ka();m=b.ob;if(null!=m&&
(m=m.Hi,null!=m)){m=m.Rn(a);if(1==m){if(1736!=k)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==m)return b.Ka()}switch(k){case 550:f=null;for(var k=b.D(),m=b.Pa(0),u=0,C=0;C<k;C++)c=new e.b,m.fc(2*C,c),a.contains(c)||(0==u&&(f=b.Ka()),u<C&&f.Id(b,u,C),u=C+1);0<u&&f.Id(b,u,k);return 0==u?b:f;case 1736:case 1607:return d.Hm(b,a,c,f);default:throw e.g.za();}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.ne=d})(t||
(t={}));(function(e){var d=function(){function d(b,a){this.Ha=b;this.a=new e.fd;this.od=new e.ia(0);this.ke=a}d.prototype.ji=function(b,a,c){switch(a){case 0:if(b.o<c&&b.v<=c)break;else return b.o>=c?1:-1;case 1:if(b.A<c&&b.B<=c)break;else return b.A>=c?1:-1;case 2:if(b.o>=c&&b.v>c)break;else return b.v<=c?1:-1;case 3:if(!(b.A>=c&&b.B>c))return b.B<=c?1:-1}return 0};d.prototype.hz=function(b,a,c){return 1736==b.G()?this.iz(b,a,c):this.jz(b,a)};d.prototype.iz=function(b,a,c){if(0==this.Ha.N()||0==
this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,m=new e.b,u=new e.b,d=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],w=new e.Hb,l=new e.ia(0);l.yb(256);for(var h=!1,n=0;!h&&4>n;n++){var p=!1,q=0!=(n&1),t=0;switch(n){case 0:t=this.Ha.o;p=a.o<=t&&a.v>=t;break;case 1:t=this.Ha.A;p=a.A<=t&&a.B>=t;break;case 2:t=this.Ha.v;p=a.o<=t&&a.v>=t;break;case 3:t=this.Ha.B,p=a.A<=t&&a.B>=t}if(p)for(h=!0,p=this.a.Pb(this.Y);-1!=p;){var r=!0,v=-1,x=-1,z=this.a.cb(p),G=z;do{var y=
this.a.ic(G);null==y&&(y=w,this.a.w(G,m),y.Mc(m),this.a.w(this.a.U(G),u),y.Zc(u));y.s(f);var B=this.ji(f,n,t),E=0,D=-1;if(-1==B){y=y.Tq(q,t,d,g);0<y?E=this.a.FY(G,g,y):E=0;for(var E=E+1,H=G,I=this.a.U(H),y=0;y<E;y++){this.a.w(H,m);this.a.w(I,u);D=this.a.ic(H);null==D&&(D=w,D.Mc(m),D.Zc(u));D.s(k);D=this.ji(k,n,t);if(-1==D){if(q)D=Math.abs(m.y-t),J=Math.abs(u.y-t),D<J?(m.y=t,this.a.Qf(H,m)):(u.y=t,this.a.Qf(I,u));else{var D=Math.abs(m.x-t),J=Math.abs(u.x-t);D<J?(m.x=t,this.a.Qf(H,m)):(u.x=t,this.a.Qf(I,
u))}D=this.a.ic(H);null==D&&(D=w,D.Mc(m),D.Zc(u));D.s(k);D=this.ji(k,n,t)}J=v;v=D;-1==x&&(x=v);if(0!=J||1!=v)1==J&&0==v||0!=J||0!=v||l.add(H);1==v&&(r=h=!1);D=H=I;I=this.a.U(I)}}if(0==E){J=v;v=B;-1==x&&(x=v);if(0!=J||1!=v)1==J&&0==v||0!=J||0!=v||l.add(G);1==v&&(r=h=!1);D=this.a.U(G)}G=D;if(256<=l.size){y=1;for(B=l.size-1;y<B;y++)E=l.get(y),this.a.ud(E,!1);l.set(1,l.Fc());l.yf(2)}}while(G!=z);if(!r)for(0==x&&0==v&&l.add(z),y=0,B=l.size;y<B;y++)E=l.get(y),this.a.ud(E,!1);l.clear(!1);p=r||0==this.a.La(p)?
this.a.Rr(p):this.a.Sb(p)}}if(h)return b.Ka();this.gC();0<c&&this.vz(c);return this.a.Se(this.Y)};d.prototype.jz=function(b){var a=new e.h,c=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],m=new e.Cg,u=b,d=new e.h;b.ac(d);for(var g=new e.b,w=new e.b,l=null,h=null,n=0;4>n;n++){var p=!1,q=0!=(n&1),t=0;switch(n){case 0:t=this.Ha.o;p=d.o<=t&&d.v>=t;break;case 1:t=this.Ha.A;p=d.A<=t&&d.B>=t;break;case 2:t=this.Ha.v;p=d.o<=t&&d.v>=t;break;case 3:t=this.Ha.B,p=d.A<=t&&d.B>=t}if(p)for(p=u,u=b.Ka(),p=
p.Fa(),p.yj();p.Ya();)for(var r,v=!0;p.Ea();){var x=p.ba();x.s(a);var z=this.ji(a,n,t);if(-1==z){if(z=x.Tq(q,t,f,k),0<z){var G=0;x.Oq(g);for(var y=0;y<=z;y++)if(r=y<z?k[y]:1,G!=r){x.yh(G,r,m);var B=m.get();B.Mc(g);y<z&&(q?(w.x=f[y],w.y=t):(w.x=t,w.y=f[y]),B.Zc(w));B.s(c);var E=this.ji(c,n,t);-1==E&&(null==l&&(l=new e.b),null==h&&(h=new e.b),B.Oq(l),B.Ps(h),q?(G=Math.abs(l.y-t),E=Math.abs(h.y-t),G<E?(l.y=t,B.Mc(l)):(h.y=t,B.Zc(h))):(G=Math.abs(l.x-t),E=Math.abs(h.x-t),G<E?(l.x=t,B.Mc(l)):(h.x=t,B.Zc(h))),
B.s(c),E=this.ji(c,n,t));B.Ps(g);G=r;r=E;1==r?(u.dc(B,v),v=!1):v=!0}}}else r=z,1==r?(u.dc(x,v),v=!1):v=!0}}return u};d.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.od.resize(0);this.od.yb(100);this.Ki=this.a.Vd();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var c=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,c=this.a.U(c))if(this.a.w(c,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(c,
this.Ki,this.od.size),this.od.add(c);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};d.prototype.vz=function(b){for(var a=new e.b,c=new e.b,f=null,k=null,m=e.J.gf(2048,0),u=this.a.Pb(this.Y);-1!=u;u=this.a.Sb(u)){var d=this.a.cb(u),g=d;do{var w=this.a.U(g);this.a.w(g,a);var l=-1;a.x==this.Ha.o?(this.a.w(w,c),c.x==this.Ha.o&&(l=1)):a.x==this.Ha.v&&(this.a.w(w,c),c.x==this.Ha.v&&(l=1));a.y==this.Ha.A?(this.a.w(w,c),c.y==this.Ha.A&&(l=0)):a.y==this.Ha.B&&
(this.a.w(w,c),c.y==this.Ha.B&&(l=0));if(-1!=l){null==f&&(f=new e.b);null==k&&(k=new e.b);f.L(a);k.ka(0,0);if(0==l){var h=a.x-this.Ha.o;k.x=e.Ub.sign(c.x-a.x);f.x=b*e.Ub.Fl(Math.floor(Math.abs(h/b)),h)+this.Ha.o;0>f.x&&(f.x+=b)}else h=a.y-this.Ha.A,k.y=e.Ub.sign(c.y-a.y),f.y=b*e.Ub.Fl(Math.floor(Math.abs(h/b)),h)+this.Ha.A,0>f.y&&(f.y+=b);var h=0!=l?c.y-a.y:c.x-a.x,n=Math.abs(h);if(65536<n/b)throw e.g.X("internal error");if(0<n){n=e.J.truncate(n/b)+2;m.length<n&&(m=e.J.gf(n));for(var p=n=0;;p++){var t=
new e.b;t.x=f.x+k.x*p*b;t.y=f.y+k.y*p*b;t=(0!=l?t.y-a.y:t.x-a.x)/h;if(1<=t)break;0>=t||(m[n]=t,n++)}0!=n&&this.a.zm(g,m,n)}}g=w}while(g!=d)}};d.prototype.Am=function(b,a){for(var c=-1,f=new e.b,k=null,m=this.a.Pb(this.Y);-1!=m;m=this.a.Sb(m))for(var u=this.a.cb(m),d=0,g=this.a.La(m);d<g;d++){var w=this.a.U(u);this.a.w(u,f);if(b?f.y==a:f.x==a)if(this.a.w(w,f),b?f.y==a:f.x==a)-1==c&&(c=this.a.Vd()),null==k&&(k=new e.ia(0),k.yb(100)),1!=this.a.Sa(u,c)&&(k.add(u),this.a.Va(u,c,1)),1!=this.a.Sa(w,c)&&
(k.add(w),this.a.Va(w,c,1));u=w}-1!=c&&this.a.le(c);if(!(null==k||3>k.size)){var l=this;k.Gd(0,k.size,function(a,c){return l.ki(a,c)});c=new e.b;m=new e.b;u=new e.b;m.$c();for(var h=-1,d=new e.ia(0),g=new e.ia(0),w=null,n=this.a.Vd(),p=this.a.Vd(),t=0,q=k.size;t<q;t++){var r=k.get(t);this.a.w(r,f);if(!f.ub(m)){if(-1!=h){for(var v=h;v<t;v++){var h=k.get(v),x=this.a.U(h),r=this.a.Ra(h),z=!1;this.a.w(x,c);0>m.compare(c)&&(b?c.y==a:c.x==a)&&(d.add(h),z=!0,this.a.Va(h,p,1));this.a.w(r,c);0>m.compare(c)&&
(b?c.y==a:c.x==a)&&(z||d.add(h),this.a.Va(h,n,1))}v=0;for(z=d.size;v<z;v++){h=d.get(v);r=this.a.Sa(h,n);x=this.a.Sa(h,p);if(1==r&&(r=this.a.Ra(h),this.a.w(r,u),!u.ub(f))){null==w&&(w=[]);var G=e.b.Cb(m,u);w[0]=e.b.Cb(u,f)/G;0==w[0]?w[0]=2.220446049250313E-16:1==w[0]&&(w[0]=.9999999999999998);this.a.zm(r,w,1);r=this.a.Ra(h);this.a.Qf(r,f);g.add(r);this.a.Va(r,n,1);this.a.Va(r,p,-1)}1==x&&(x=this.a.U(h),this.a.w(x,u),u.ub(f)||(null==w&&(w=[]),G=e.b.Cb(m,u),w[0]=e.b.Cb(m,f)/G,0==w[0]?w[0]=2.220446049250313E-16:
1==w[0]&&(w[0]=.9999999999999998),this.a.zm(h,w,1),r=this.a.U(h),this.a.Qf(r,f),g.add(r),this.a.Va(r,n,-1),this.a.Va(r,p,1)))}h=d;d=g;g=h;g.clear(!1)}h=t;m.L(f)}}this.a.le(n);this.a.le(p)}};d.prototype.sm=function(b,a){for(var c=new e.b,f=null,k=-1,m=0,u=this.od.size;m<u;m++){var d=this.od.get(m);if(-1!=d){var g=this.a.U(d);this.a.w(d,c);if(b?c.y==a:c.x==a)if(this.a.w(g,c),b?c.y==a:c.x==a)-1==k&&(k=this.a.Vd()),null==f&&(f=new e.ia(0),f.yb(100)),-2!=this.a.Sa(d,k)&&(f.add(d),this.a.Va(d,k,-2)),-2!=
this.a.Sa(g,k)&&(f.add(g),this.a.Va(g,k,-2))}}if(null==f)-1!=k&&this.a.le(k);else{var w=this;f.Gd(0,f.size,function(a,c){return w.ki(a,c)});m=0;for(u=f.size;m<u;m++){var h=f.get(m);this.a.Va(h,k,m)}d=new e.b;g=new e.b;g.$c();for(var l=-1,m=0,u=f.size;m<u;m++)if(h=f.get(m),-1!=h&&(this.a.w(h,c),!c.ub(g))){if(-1!=l)for(;;){for(var h=!1,n=1<m-l?m-1:m,p=l;p<n;p++){var t=f.get(p);if(-1!=t){var q=-1,r=this.a.U(t);this.a.w(r,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(q=r);var r=-1,v=this.a.Ra(t);this.a.w(v,
d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(r=v);if(-1!=q&&-1!=r)this.ii(t,f,k),this.a.ud(t,!1),this.ii(q,f,k),this.a.ud(q,!1),h=!0;else if(-1!=q||-1!=r){for(v=p+1;v<m;v++){var x=f.get(v);if(-1!=x){var z=this.a.U(x),G=-1;this.a.w(z,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(G=z);var z=this.a.Ra(x),y=-1;this.a.w(z,d);0>g.compare(d)&&(b?d.y==a:d.x==a)&&(y=z);if(-1!=G&&-1!=y){this.ii(x,f,k);this.a.ud(x,!1);this.ii(G,f,k);this.a.ud(G,!1);h=!0;break}if(-1!=q&&-1!=y){this.ou(f,t,q,x,y,k);h=!0;break}else if(-1!=
r&&-1!=G){this.ou(f,x,G,t,r,k);h=!0;break}}}if(h)break}}}if(!h)break}l=m;g.L(c)}this.a.le(k)}};d.prototype.ii=function(b,a,c){c=this.a.Sa(b,c);a.set(c,-1);c=this.a.Sa(b,this.Ki);this.od.set(c,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};d.prototype.ou=function(b,a,c,f,k,m){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(c,k);this.a.Kc(k,c);this.ii(f,b,m);this.a.Mi(f,!1);this.ii(k,b,m);this.a.Mi(k,!0)};d.prototype.Dz=function(){for(var b=0,a=this.od.size;b<a;b++){var c=this.od.get(b);
-1!=c&&this.a.Aj(c,-1)}for(var f=0,k=0,m=this.a.Pb(this.Y);-1!=m;){var e=this.a.cb(m);if(-1==e||m!=this.a.ld(e)){var d=m,m=this.a.Sb(m);this.a.jg(d,-1);this.a.Sr(d)}else{c=e;d=0;do this.a.Aj(c,m),d++,c=this.a.U(c);while(c!=e);this.a.Np(m,!1);this.a.sh(m,this.a.Ra(e));this.a.nk(m,d);k+=d;f++;m=this.a.Sb(m)}}b=0;for(a=this.od.size;b<a;b++)if(c=this.od.get(b),-1!=c&&(m=this.a.ld(c),-1==m)){m=this.a.Yf(this.Y,-1);d=0;e=c;do this.a.Aj(c,m),d++,c=this.a.U(c);while(c!=e);2>=d?(c=this.a.Sa(e,this.Ki),this.od.set(c,
-1),e=this.a.ud(e,!1),2==d&&(c=this.a.Sa(e,this.Ki),0<=c&&this.od.set(c,-1),this.a.ud(e,!1)),d=m,this.a.jg(d,-1),this.a.Sr(d)):(this.a.$n(m,!0),this.a.nk(m,d),this.a.jg(m,e),this.a.sh(m,this.a.Ra(e)),this.a.Np(m,!1),k+=d,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.sd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};d.We=function(b,a,c,f,k){return(new d(a,k)).hz(b,c,f)};d.clip=function(b,a,c,f,k){return d.rq(b,a,null,c,f,k)};d.rq=function(b,a,c,f,k,m){var u=b.G();if(33==u)return k=
b.w(),a.contains(k)?b:b.Ka();if(197==u)return k=new e.h,b.s(k),k.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(k),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var g=new e.h;b.ac(g);if(a.contains(g))return b;if(!a.Yb(g))return b.Ka();if(null!=c||isNaN(f))f=e.na.Zy(c,a,!1);if(!e.T.gh(u))throw e.g.F();c=b.ob;if(null!=c&&(c=c.Hi,null!=c)){c=c.Rn(a);if(1==c){if(1736!=u)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==c)return b.Ka()}switch(u){case 550:m=null;u=b.D();f=b.Pa(0);
c=0;k=new e.b;for(g=0;g<u;g++)f.fc(2*g,k),a.contains(k)||(0==c&&(m=b.Ka()),c<g&&m.Id(b,c,g),c=g+1);0<c&&m.Id(b,c,u);return 0==c?b:m;case 1736:case 1607:return d.We(b,a,f,k,m);default:throw e.g.X("internal error");}};d.prototype.ki=function(b,a){var c=new e.b;this.a.w(b,c);b=new e.b;this.a.w(a,b);return c.compare(b)};return d}();e.uh=d})(t||(t={}));(function(e){var d=new e.b,g=function(){function a(a,b,k,m,u){this.Cn=new e.b;this.fl=new e.b;this.oj=new e.b;this.a=a;this.px=k;this.ap=m;this.Cn=b;this.dm=
u;this.fl.$c();this.oj.$c()}a.prototype.HF=function(a){this.a.w(a,this.fl);a=e.J.truncate((this.fl.x-this.Cn.x)*this.ap+.5);var c=e.J.truncate((this.fl.y-this.Cn.y)*this.ap+.5);return b.vH(a,c)};a.prototype.Wz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,f){this.a.w(a,this.fl);this.a.w(f,this.oj);return b.pw(this.fl.x,this.fl.y,this.oj.x,this.oj.y,this.px)};return a}();e.EZ=function(){return function(){}}();var b=function(){function a(){this.Cn=new e.b;this.er=[0,0,0,0];this.tt=
[0,0,0,0];this.ep=this.dm=-1}a.cS=function(c,b){var f=new a;f.a=c;f.ta=b;f.px=b*b;f.Nw=2*b;f.ap=1/f.Nw;return f.FQ()};a.pw=function(a,b,k,m,e){a-=k;b-=m;return a*a+b*b<=e};a.vH=function(a,b){return e.J.dh(b,e.J.dh(a))};a.prototype.HQ=function(c,b){this.a.Nc(c,d);for(var f=(d.y-this.Cn.y)*this.ap,m=e.J.truncate((d.x-this.Cn.x)*this.ap),u=e.J.truncate(f),g=f=0;1>=g;g+=1)for(var A=0;1>=A;A+=1){var w=a.vH(m+g,u+A),h=this.cm.iT(w);-1!=h&&(this.er[f]=h,this.tt[f]=w,f++)}for(m=f-1;1<=m;m--)for(h=this.er[m],
u=m-1;0<=u;u--)if(h==this.er[u]){this.tt[u]=-1;f--;m!=f&&(this.tt[m]=this.tt[f],this.er[m]=this.er[f]);break}for(u=0;u<f;u++)this.IQ(c,this.tt[u],d,this.er[u],b)};a.prototype.IQ=function(c,b,k,m,u){for(var f=new e.b;-1!=m;m=this.cm.yT(m)){var d=this.cm.ja(m);c==d||-1!=b&&this.a.Sa(d,this.dm)!=b||(this.a.Nc(d,f),a.pw(k.x,k.y,f.x,f.y,this.px)&&u.add(m))}};a.prototype.Ln=function(a,b,k){var c=this.a.Sa(a,this.ep),f=this.a.Sa(b,this.ep);-1==c&&(c=this.Od.mi(),this.Od.addElement(c,a),this.a.Va(a,this.ep,
c));-1==f?this.Od.addElement(c,b):this.Od.mz(c,f);this.a.Va(b,this.ep,-2);b=this.XV(a,b);k&&(k=this.Yw.HF(a),this.a.Va(a,this.dm,k));return b};a.WV=function(c,b,k){c.Eb(b);k=c;var f=new e.b;a.GX(c.w(),b.w(),f);k.rb(f)};a.GX=function(a,b,k){var c=a.x;a.x!=b.x&&(c=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);k.ka(c,f)};a.prototype.XV=function(a,b){var c=new e.b;this.a.w(a,c);var f=new e.b;this.a.w(b,f);var u=this.a.oH(a);b=this.a.oH(b);var d=u+b,g=0,w=c.x;c.x!=f.x&&(w=(c.x*u+f.x*b)/d,g++);
var h=c.y;c.y!=f.y&&(h=(c.y*u+f.y*b)/d,g++);0<g&&this.a.rb(a,w,h);this.a.rY(a,d);return 0!=g};a.prototype.FQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Zz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Od=new e.Lu;this.Od.pu(e.J.truncate(this.a.vd/3+1));this.Od.Vn(e.J.truncate(this.a.vd/3+1));this.dm=this.a.Vd();this.ep=this.a.Vd();this.Yw=new g(this.a,this.Cn,this.px,this.ap,this.dm);this.cm=new e.FM(e.J.truncate(4*a/3),this.Yw);this.cm.yX(this.a.vd);
a=!1;for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(var k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(var m=this.a.cb(k),u=0,d=this.a.La(k);u<d;u++){var A=this.Yw.HF(m);this.a.Va(m,this.dm,A);this.cm.addElement(m,A);m=this.a.U(m)}var w=new e.ia(0);w.yb(10);for(b=this.a.sd;-1!=b;b=this.a.Ue(b))for(k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(m=this.a.cb(k),u=0,d=this.a.La(k);u<d;u++){if(-2!=this.a.Sa(m,this.ep))for(A=this.a.Sa(m,this.dm),this.cm.kd(m,A);;){this.HQ(m,w);if(0==w.size)break;for(var A=!1,h=0,l=w.size;h<
l;h++){var n=w.get(h),p=this.cm.ja(n);this.cm.Kd(n);A=this.Ln(m,p,h+1==l)||A}a=a||A;w.clear(!1);if(!A)break}m=this.a.U(m)}a&&this.yP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.yP=function(){for(var a=new e.b,b=this.Od.Ge;-1!=b;b=this.Od.cA(b)){var k=this.Od.xc(b);this.a.w(this.Od.ja(k),a);for(k=this.Od.nb(k);-1!=k;k=this.Od.nb(k))this.a.Qf(this.Od.ja(k),a)}};return a}();e.Iu=b})(t||(t={}));(function(e){var d=function(){function d(b){void 0===b&&(b=null);this.Oe=
null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}d.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};d.prototype.count=function(){return this.Oe.length};d.prototype.kT=function(b){return this.Oe[b]};d.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};d.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Oe.length=0};d.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};d.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.kT(a).kt();b.Oe=b.Oe.reverse();return b};d.prototype.oe=function(){var b=new d;this.copyTo(b);return b};d.prototype.Vf=function(){return this.oe()};d.prototype.transform=function(b,a,c,f){if(b.length<a)throw e.g.X("invalid Argument");var k=c;for(c=0;c<this.Oe.length;c++){var m=this.Oe[c];if(null!=
m.cn()){var u=m.nn,d=u?1:0,g=u?m.cn().getGeogcs2():m.cn().getGeogcs1(),g=g.getUnit().getUnitFactor(),g=k/g;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;e.QD.geogToGeog(m.cn(),a,b,null,d);k=(u?m.cn().getGeogcs1():m.cn().getGeogcs2()).getUnit().getUnitFactor()}}g=k/f;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;return a};d.prototype.getName=function(){if(0==this.Oe.length)return"";for(var b="",a=0,c=this.Oe.length;a<c;++a)""!==b&&(b+=" + "),
b+=this.Oe[a].getName();return b};d.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof d)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};d.prototype.Mp=function(){this.xa=!0};d.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};d.create=function(){return new d};d.aq=function(b,a){var c=new d;c.add(e.io.create(b,a));return c};d.bq=function(b,
a){var c=new d;c.add(e.io.gG(b,a));return c};return d}();e.ny=d})(t||(t={}));(function(e){var d=Math.PI,g=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.XQ=function(c,b){var f=new a;f.x=c;f.y=b;f.type=0;f.ui=0;return f};a.El=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=0;b.ui=0;return b};a.WQ=function(c){var b=new a;b.x=c.x;b.y=c.y;b.type=c.type;b.ui=c.ui;return b};a.ce=function(c,b,f){var k=new a;k.x=c.x+b*Math.cos(f);k.y=c.y+b*Math.sin(f);k.type=c.type;k.ui=c.ui;return k};a.Dv=function(c,
b){var f=new a;f.x=.5*(c.x+b.x);f.y=.5*(c.y+b.y);f.type=c.type;f.ui=c.ui;return f};a.$F=function(c,b){var f=new a;f.x=c.x+.001*(b.x-c.x);f.y=c.y+.001*(b.y-c.y);f.type=c.type;f.ui=c.ui;return f};return a}(),c=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.KM||(e.KM={}));var f=function(){function f(a){this.tB=this.$b=this.Sg=null;this.ke=a}f.V=function(a,c,b,k,d,g){if(null==a)throw e.g.F();if(1>a.tb())throw e.g.F();
if(0==c||a.u())return a;g=new f(g);g.Yo=a;g.Qa=c;g.ta=d;g.jj=b;g.jB=k;return g.Ay()};f.prototype.AO=function(){var a=this.Yo,c=a.ec(),b=a.Cc(),f=new e.b;f.zc(b,c);f.normalize();f.uw();f.scale(this.Qa);c.add(f);b.add(f);f=a.Ka();a.Mc(c);a.Zc(b);return f};f.prototype.zO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var c=new e.Ja;c.jd(a,!1);this.Yo=c;return this.Ay()}a=new e.ci(a.R);a.O(this.Qa,this.Qa);return a};f.prototype.kK=function(a,c,b,f){return(c.x-a.x)*(f.x-b.x)+(c.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(c,f){if(void 0===f)this.$b.push(c),this.Kf++;else if(0==this.Kf)this.pc(c);else{var k=this.qx,e,m;e=this.Sg[0==f?k-1:f-1];m=this.Sg[f];var d=this.kK(e,m,this.$b[this.Kf-1],c);0<d?this.pc(c):0>d&&(0<this.kK(e,m,m,this.$b[this.Kf-1])?(m=this.Sg[0==f?k-2:1==f?k-1:f-2],k=a.ce(e,this.Qa,Math.atan2(e.y-m.y,e.x-m.x)-b),this.$b[this.Kf-1]=k,1==this.jj||2==this.jj?(k=a.Dv(k,e),this.pc(k),k=a.ce(e,this.Qa,this.ww+b),e=a.Dv(k,e),e.type|=256,this.pc(e)):(k=a.ce(e,this.Qa,this.ww+b),k.type|=256),this.pc(k),
this.pc(c,f)):(k=a.ce(m,this.Qa,this.ww+b),this.pc(k),1==this.jj||2==this.jj?(k=a.Dv(k,m),this.pc(k),k=a.ce(m,this.Qa,this.KA-b),e=a.Dv(k,m),e.type|=256,this.pc(e)):(k=a.ce(m,this.Qa,this.KA-b),k.type|=256),this.pc(k)))}};f.prototype.AF=function(){var c,f,k,A,w,h,l=this.qx;this.Kf=0;var n=.5*this.ta,p=0,t=0;for(c=0;c<l;c++){A=this.Sg[c];w=0==c?this.Sg[l-1]:this.Sg[c-1];h=c==l-1?this.Sg[0]:this.Sg[c+1];var q=w.x-A.x,r=w.y-A.y,v=h.x-A.x,x=h.y-A.y;f=Math.atan2(r,q);k=Math.atan2(x,v);this.ww=f;this.KA=
k;0==c&&(p=f,t=k);q=q*x-v*r;r=k;k<f&&(k+=g);if(0<q*this.Qa)1==this.jj||2==this.jj?(f=a.ce(A,this.Qa,f+b),this.pc(f),f=a.$F(A,f),this.pc(f),f=a.ce(A,this.Qa,k-b),A=a.$F(A,f),A.type|=256,this.pc(A),this.pc(f)):(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(A,q,.5*(f+k)),this.pc(f,c));else if(0!=(A.type&512)){q=1-n/Math.abs(this.Qa);w=1;h=0>this.Qa?-d:d;-1<q&&1>q&&(r=2*Math.acos(q),.017453292519943295>r&&(r=.017453292519943295),w=e.J.truncate(d/r+1.5),1<w&&(h/=w));r=f+b;f=a.ce(A,this.Qa,r);0==c&&
(f.type|=1024);this.pc(f,c);q=this.Qa/Math.cos(h/2);r+=h/2;f=a.ce(A,q,r);f.type|=1024;for(this.pc(f);0<--w;)r+=h,f=a.ce(A,q,r),f.type|=1024,this.pc(f);f=a.ce(A,this.Qa,k-b);f.type|=1024;this.pc(f)}else if(1==this.jj)f=a.ce(A,this.Qa,f+b),this.pc(f,c),f=a.ce(A,this.Qa,k-b),this.pc(f);else if(0==this.jj)for(q=1-n/Math.abs(this.Qa),w=1,h=k-b-(f+b),-1<q&&1>q&&(r=2*Math.acos(q),.017453292519943295>r&&(r=.017453292519943295),w=e.J.truncate(Math.abs(h)/r+1.5),1<w&&(h/=w)),q=this.Qa/Math.cos(.5*h),r=f+b+
.5*h,f=a.ce(A,q,r),this.pc(f,c);0<--w;)r+=h,f=a.ce(A,q,r),this.pc(f);else 2==this.jj?(q=w.x-A.x,r=w.y-A.y,v=h.x-A.x,x=h.y-A.y,w=(q*v+r*x)/Math.sqrt(q*q+r*r)/Math.sqrt(v*v+x*x),.99999999<w?(f=a.ce(A,1.4142135623730951*this.Qa,k-.25*d),this.pc(f,c),f=a.ce(A,1.4142135623730951*this.Qa,k+.25*d),this.pc(f)):(w=Math.abs(this.Qa/Math.sin(.5*Math.acos(w))),h=Math.abs(this.jB*this.Qa),w>h?(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(A,q,.5*(f+k)),k=e.b.pa(f.x,f.y),f=e.b.pa(A.x,A.y),A=new e.b,A.zc(k,
f),k=new e.b,k.FX(h/A.length(),A,f),f=(w-h)*Math.abs(this.Qa)/Math.sqrt(w*w-this.Qa*this.Qa),0<this.Qa?A.uw():A.Ur(),A.scale(f/A.length()),f=new e.b,f.add(k,A),w=new e.b,w.zc(k,A),f=a.El(f),this.pc(f,c),f=a.El(w),this.pc(f)):(q=.5*(k-f),q=this.Qa/Math.abs(Math.sin(q)),f=a.ce(A,q,.5*(f+k)),this.pc(f,c)))):(k=r,0<this.Qa?(k>f&&(k-=g),w=f-k<b):(k<f&&(k+=g),w=k-f<b),w?(q=1.4142135623730951*this.Qa,r=0>q?f+.25*d:f+.75*d,f=a.ce(A,q,r),this.pc(f,c),r=0>q?k-.25*d:k-.75*d,f=a.ce(A,q,r),this.pc(f)):(q=.5*(k-
f),q=this.Qa/Math.abs(Math.sin(q)),k<f&&(k+=g),f=a.ce(A,q,(f+k)/2),this.pc(f,c)))}this.ww=p;this.KA=t;this.pc(this.$b[0],0);A=a.WQ(this.$b[this.Kf-1]);this.$b[0]=A;return this.uX()};f.prototype.kv=function(a,c){if(!(2>c))for(var b=0;b<c;b++){var f=this.$b[a+b];0!=b?this.tB.aj(e.b.pa(f.x,f.y)):this.tB.zu(e.b.pa(f.x,f.y))}};f.prototype.BO=function(c,b,f){var k=c.wa(b),e=c.Gc(b);this.$b=[];this.tB=f;if(c.Qb(b)){for(b=c.Ba(k);c.Ba(e-1).ub(b);)e--;if(2<=e-k){this.qx=e-k;this.Sg=[];for(b=k;b<e;b++)this.Sg.push(a.El(c.Ba(b)));
this.AF()&&this.kv(0,this.Kf-1)}}else{for(b=c.Ba(k);k<e&&c.Ba(k+1).ub(b);)k++;for(b=c.Ba(e-1);k<e&&c.Ba(e-2).ub(b);)e--;if(2<=e-k){this.qx=2*(e-k)-2;this.Sg=[];f=a.El(c.Ba(k));f.type|=1536;this.Sg.push(f);for(b=k+1;b<e-1;b++)f=a.El(c.Ba(b)),this.Sg.push(f);f=a.El(c.Ba(e-1));f.type|=512;this.Sg.push(f);for(b=e-2;b>=k+1;b--)f=a.El(c.Ba(b)),f.type|=1024,this.Sg.push(f);if(this.AF())if(2<=this.$b.length){c=-1;(e=0!=(this.$b[this.Kf-1].type&1024))||(c=0);for(b=1;b<this.Kf;b++)(k=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-c+1&&this.kv(c,e-c+1)):e&&(c=b-1),e=k;e||(e=this.Kf-1,1<e-c+1&&this.kv(c,e-c+1))}else c=0,e=this.Kf-1,0<=c&&1<=e-c&&this.kv(c,e-c+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};f.prototype.uX=function(){for(var a=!1,c=0;c<this.Kf;c++){var b=this.$b[c];b.Nh=c+1;b.Qh=c-1;this.$b[c]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(c=b=0;c<this.Kf;c++)if(0!=(this.$b[b].type&256)){var f=this.DR(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Nh;
if(a)return!1;this.UQ(b);return!0};f.prototype.DR=function(a){for(var c=this.Kf-1,b=a,f,k,e=1;e<=c-2;e++){f=b=this.$b[b].Nh;k=a;for(var m=1;m<=e;m++){k=this.$b[k].Qh;if(0==(this.$b[k].type&256)&&0==(this.$b[f].type&256)){var d=this.bU(k,f);if(-1!=d)return d}f=this.$b[f].Qh}}return-1};f.prototype.bU=function(a,b){var f,k,m,d;f=this.$b[this.$b[a].Qh];k=this.$b[a];m=this.$b[this.$b[b].Qh];d=this.$b[b];if(!this.JX(f,k,m,d))return-1;var u=new c;return this.qS(f,k,m,d,u)&&!u.pF&&e.J.SK((k.x-f.x)*(d.y-m.y)-
(k.y-f.y)*(d.x-m.x))!=e.J.SK(this.Qa)?(f=this.$b[a].Qh,u.Pn.type=k.type,u.Pn.Nh=b,u.Pn.Qh=f,this.$b[a]=u.Pn,u.Pn=this.$b[b],u.Pn.Qh=a,this.$b[b]=u.Pn,b):-1};f.prototype.JX=function(a,c,b,f){return Math.max(a.x,c.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,c.y)};f.prototype.qS=function(c,b,f,k,e){e.pF=!1;var m,d,u;m=(b.y-c.y)*(k.x-f.x)-(b.x-c.x)*(k.y-f.y);d=(f.y-c.y)*(b.x-c.x)-(f.x-c.x)*(b.y-c.y);m=0==m?2:d/m;return 0<=
m&&1>=m&&(u=m,m=(k.y-f.y)*(b.x-c.x)-(k.x-f.x)*(b.y-c.y),d=(c.y-f.y)*(k.x-f.x)-(c.x-f.x)*(k.y-f.y),m=0==m?2:d/m,0<=m&&1>=m)?(e.Pn=a.XQ(c.x+m*(b.x-c.x),c.y+m*(b.y-c.y)),e.Pn.ui=f.ui+u*(k.ui-f.ui),0!=u&&1!=u||0!=m&&1!=m||(e.pF=!0),e.N_=m,e.O_=u,(0==u||1==u)&&0<m&&1>m||(0==m||1==m)&&0<u&&1>u?!1:!0):!1};f.prototype.UQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var c=0,b=a;do b=this.$b[b],this.$b[c]=b,b=b.Nh,c++;while(b!=a);this.$b[c]=this.$b[0];this.Kf=c+1};f.prototype.wE=function(a){var c=this.Yo,
b=c.Fa();if(null!=b){b.yj();for(var f=-1;b.Ya();)f++,this.BO(c,f,a)}};f.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.AO():197==a?this.zO():e.T.Oc(a)?(a=new e.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new e.Ua,this.wE(a),a):1736==a?(a=new e.Ja,this.wE(a),a):null};return f}();e.UL=f})(t||(t={}));(function(e){var d=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.a.w(a,c)};a.prototype.Kd=function(a){var c=this.Sk.Na.ja(a);this.Sk.Na.Kd(a,-1);this.Sk.a.ud(c,
!1)};return a}(),g=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){this.Sk.HV.w(a,c)};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Sk=a}a.prototype.w=function(a,c){c.L(this.Sk.KV[a])};a.prototype.Kd=function(a){this.Sk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.uk,this.Na.Qe(20),this.a=new e.fd,this.yV=this.a.bh(550),this.Nt=this.a.Yf(this.yV,-1),this.wi=new d(this)):a instanceof Array?(this.Na=new e.uk,
this.Na.Qe(20),this.KV=a,this.wi=new b(this)):(this.Na=new e.uk,this.Na.Qe(20),this.HV=a,this.wi=new g(this))}a.prototype.Jb=function(a){var c=a.G();if(e.Mu.gh(c))this.iP(a);else if(e.xl.Oc(c))this.pP(a);else if(197==c)this.fP(a);else if(33==c)this.mP(a);else throw e.g.F("invalid shape type");};a.prototype.VS=function(){var a=new e.Wa,c=this.Na.xc(-1),b=new e.Ja(this.a.Hr);this.a.wj(this.Na.ja(c),a);b.Rf(a);for(c=this.Na.nb(c);-1!=c;c=this.Na.nb(c))this.a.wj(this.Na.ja(c),a),b.lineTo(a);return b};
a.VQ=function(c){var b=new a(c),f=c.D(),d=1,g=new e.b,A=new e.b,w=new e.b;for(c.w(0,g);;){c.w(d,A);if(!(A.xA(g)&&d<f-1))break;d++}b.Na.addElement(0,-1);b.Na.ro(d);for(f=d+1;f<c.D();f++)c.w(f,w),d=b.PC(w),-1!=d&&b.Na.kk(d,f);w=new e.Wa;d=b.Na.xc(-1);f=new e.Ja(c.description);c.Ae(b.Na.ja(d),w);f.Rf(w);for(d=b.Na.nb(d);-1!=d;d=b.Na.nb(d))c.Ae(b.Na.ja(d),w),f.lineTo(w);return f};a.pa=function(c,b,e){for(var f=new a(c),k=1,m=c[0];c[k].xA(m)&&k<b-1;)k++;f.Na.addElement(0,-1);f.Na.ro(k);for(k+=1;k<b;k++)m=
f.PC(c[k]),-1!=m&&f.Na.kk(m,k);c=0;for(b=f.Na.xc(-1);-1!=b;b=f.Na.nb(b))e[c++]=f.Na.ja(b);return c};a.VH=function(c,b){var f=c.wa(b),k=c.Gc(b);b=!c.Qb(b)&&c.Eo(b);c=c.Pa(0);f*=2;k*=2;b&&(k-=2);if(6>k-f)return!0;b=new e.b;var d=new e.b,g=new e.b;c.fc(f,b);c.fc(f+2,d);c.fc(f+4,g);var w=a.fe(d,g,b);if(w.lt()||!a.tc(w.value()))return!1;for(var h=e.b.pa(d.x,d.y),l=new e.b,f=f+6;f<k;f+=2){l.L(d);d.L(g);c.fc(f,g);w=a.fe(d,g,b);if(w.lt()||!a.tc(w.value()))return!1;w=a.fe(h,g,b);if(w.lt()||!a.tc(w.value()))return!1;
w=a.fe(d,g,l);if(w.lt()||!a.tc(w.value()))return!1}return!0};a.prototype.iP=function(a){for(var c=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var d=this.As(b);if(-1!=d){a.Ae(f,c);var g=this.a.pc(this.Nt,c);this.Na.kk(d,g)}}};a.prototype.fP=function(a){for(var c=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var d=this.As(b);if(-1!=d){a.ig(f,c);var g=this.a.pc(this.Nt,c);this.Na.kk(d,g)}}};a.prototype.pP=function(a){var c=new e.Wa,b=a.ec(),b=this.As(b);if(-1!=b){a.Dp(c);var f=this.a.pc(this.Nt,c);this.Na.kk(b,
f)}b=a.Cc();b=this.As(b);-1!=b&&(a.Bp(c),a=this.a.pc(this.Nt,c),this.Na.kk(b,a))};a.prototype.mP=function(a){var c=a.w(),c=this.As(c);-1!=c&&(a=this.a.pc(this.Nt,a),this.Na.kk(c,a))};a.prototype.As=function(a){var c=-1;if(0==this.Na.size(-1))return c=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.xA(b)||(c=this.Na.ro(-5));return c}return c=this.PC(a)};a.prototype.PC=function(c){var b=-1,f=this.Na.xc(-1),d=this.Na.Fc(-1),g=this.Na.ja(f),A=this.Na.ja(d),
w=new e.b,h=new e.b;this.wi.w(g,w);this.wi.w(A,h);g=e.b.zp(h,c,w);if(a.tc(g))b=this.Na.ro(-1),w=this.NC(c,d,f),w!=f&&this.OC(c,f,this.Na.Ve(w));else if(a.vl(g)){for(var h=this.Na.fw(-1),l=this.Na.xc(-1),n=this.Na.Fc(-1),p,g=new e.b,A=new e.b;l!=this.Na.Ve(n);)p=this.Na.ja(h),this.wi.w(p,g),p=e.b.zp(g,c,w),a.vl(p)?(n=h,h=this.Na.Pl(h)):(l=h,h=this.Na.Nq(h));h=n;w=l;p=this.Na.ja(h);l=this.Na.ja(w);this.wi.w(p,g);this.wi.w(l,A);if(w==f||(g=e.b.zp(A,c,g),a.tc(g)))b=this.Na.jv(w,h,-2,!1),this.OC(c,h,d),
this.NC(c,w,f)}else null==this.wb&&(this.wb=new e.Hb),this.wb.Mc(h),this.wb.Zc(w),w=this.wb.pe(c,!0),0>w?(w=this.Na.Ve(d),this.Na.Kd(d,-1),b=this.Na.ro(-3),this.NC(c,w,f)):1<w&&(w=this.Na.nb(f),this.Na.Kd(f,-1),b=this.Na.jv(-1,w,-3,!1),this.OC(c,w,d));return b};a.prototype.OC=function(c,b,m){if(b!=m){var f=this.Na.ja(b),k=this.Na.nb(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=m&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(g,c,d);if(a.tc(f))break;f=b;b=k;d.L(g);k=this.Na.nb(b);this.wi.Kd(f)}}};
a.prototype.NC=function(c,b,m){if(b==m)return m;var f=this.Na.ja(b),k=this.Na.Ve(b),d=new e.b,g=new e.b;for(this.wi.w(f,d);b!=m&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(d,c,g);if(a.tc(f))break;f=b;b=k;d.L(g);k=this.Na.Ve(b);this.wi.Kd(f)}return b};a.fe=function(a,c,b){var f=new e.Xb;f.set(c.x);f.sub(a.x);var k=new e.Xb;k.set(b.y);k.sub(a.y);var m=new e.Xb;m.set(c.y);m.sub(a.y);c=new e.Xb;c.set(b.x);c.sub(a.x);f.Vg(k);m.Vg(c);f.sub(m);return f};a.tc=function(a){return 0>a};a.vl=function(a){return 0<
a};a.hq=function(a){return 0==a};return a}();e.Ju=a})(t||(t={}));(function(e){var d=function(){function d(b){this.ke=this.a=null;this.FI=!0;this.ke=b}d.yJ=function(b,a,c){b=e.na.Cs(b);return e.Iu.pw(a.Be(),a.nf(),c.Be(),c.nf(),e.Ub.Yx(b))};d.GQ=function(b,a){var c=new e.Wa;e.Iu.WV(b,a,c);return c};d.V=function(b,a,c,f){c=new d(c);c.a=b;c.ta=a;c.FI=f;return c.MO()};d.prototype.GO=function(b){return e.Iu.cS(this.a,b)};d.prototype.JO=function(b){return e.Ku.V(this.a,b,this.ke)};d.prototype.MO=function(){for(var b=
this.ta,a=e.na.Cs(b),b=e.na.sP(b),c=1.00001*b,b=1.000001*b,f=!1,k=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),m=0,d=this.a.eU();;m++){if(m>k)throw e.g.X("Internal Error: max number of iterations exceeded");var g=this.GO(a),f=f||g;this.FI&&(g=0!=this.a.zq(a,!0,!1),f=f||g);g=!1;if(0==m||d||e.Ku.tJ(!0,this.a,b,null,this.ke))g=this.JO(c),f=f||g;if(!g)break}return f};return d}();e.sk=d})(t||(t={}));(function(e){var d=function(){function b(a){this.we=this.Tc=null;this.kx=0;this.lc=a;this.MA=!0}b.prototype.gw=
function(a,c){var b=this.a.ic(a);if(null==b){if(!this.a.pd(a,c))return null;b=c}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.nR=function(){var a=this.a.Qr(!1),c=!1,b=new e.Hb,k=new e.Hb,m=new e.h;m.Oa();var d=new e.h;d.Oa();for(var g=new e.Wa,A=new e.eE,w=a.next();-1!=w;w=a.next()){var h=null,l=!1;if(!e.T.Jo(this.a.hc(a.Ck))){h=this.gw(w,b);if(null==h)continue;h.s(m);m.O(this.ta,this.ta);if(h.fh(this.ta))if(h.fh(0))l=!0,h=null;else continue}var n=
this.a.Qr(a),p=n.next();for(-1!=p&&(p=n.next());-1!=p;p=n.next()){var q=null,t=!1;if(!e.T.Jo(this.a.hc(n.Ck))){q=this.gw(p,k);if(null==q)continue;q.s(d);if(q.fh(this.ta))if(q.fh(0))t=!0,q=null;else continue}var r=0,v=0;if(null!=h&&null!=q)m.TH(d)&&(A.Ap(h),A.Ap(q),A.Ma(this.ta,!1),r=A.Rl(0),v=A.Rl(1),0<r+v&&(this.a.bs(w,A,0,!0),this.a.bs(p,A,1,!0)),A.clear());else if(null!=h){var x=new e.b;this.a.w(p,x);if(m.contains(x)){A.Ap(h);this.a.wj(p,g);A.tA(this.ta,g,!1);r=A.Rl(0);if(0<r)if(this.a.bs(w,A,
0,!0),t){t=-1;for(x=this.a.U(p);-1!=x&&x!=p&&(q=this.gw(x,k),t=x,null!=q&&q.fh(0));x=this.a.U(x));for(x=p;-1!=x&&(this.a.Yh(x,A.cg),x!=t);x=this.a.U(x));}else this.a.Yh(p,A.cg);A.clear()}}else if(null!=q){if(x=new e.b,this.a.w(w,x),d.O(this.ta,this.ta),d.contains(x)){A.Ap(q);this.a.wj(w,g);A.tA(this.ta,g,!1);v=A.Rl(0);if(0<v)if(this.a.bs(p,A,0,!0),l){t=-1;for(x=this.a.U(w);-1!=x&&x!=w&&(q=this.gw(x,k),t=x,null!=q&&q.fh(0));x=this.a.U(x));for(x=w;-1!=x&&(this.a.Yh(x,A.cg),x!=t);x=this.a.U(x));}else this.a.Yh(w,
A.cg);A.clear()}}else continue;if(0!=r+v){if(0!=r){h=this.a.ic(w);if(null==h){if(!this.a.pd(w,b))continue;h=b;b.s(m)}else h.s(m);if(h.fh(this.ta))break}c=!0}}}return c};b.prototype.oR=function(){return this.EW()};b.prototype.EW=function(){return(new e.XD).JY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,c,b;null==this.Tc&&(this.Tc=new e.uk);var k=new e.ia(0);k.yb(this.a.vd+1);for(var m=this.a.Qr(),d=m.next();-1!=d;d=m.next())k.add(d);this.a.Xx(k,k.size);k.add(-1);m=this.a.Vd();d=this.a.Vd();
this.we=new e.gE(this.a,this.ta,!this.MA);this.Tc.Ep(this.we);var g=new e.ia(0),A=new e.ia(0),w=0;new e.b;var h=this.a.Dd;this.a.xb.wc();for(var l=this.a.xb.ya[0].f,n,p,q=k.get(w++);-1!=q;){p=h.S(q,0);n=l[2*p];p=l[2*p+1];var t=n,r=p;do{var v=h.S(q,2),x=h.S(q,1);-1!=v&&(c=h.S(v,0),b=l[2*c],c=l[2*c+1],0>(r<c?-1:r>c?1:t<b?-1:t>b?1:0)&&(A.add(q),A.add(v)));-1!=x&&(c=h.S(x,0),b=l[2*c],c=l[2*c+1],0>(r<c?-1:r>c?1:t<b?-1:t>b?1:0)&&(A.add(x),A.add(x)));b=this.a.Sa(q,m);-1!=b&&(g.add(b),this.a.Va(q,m,-1));
b=this.a.Sa(q,d);-1!=b&&(g.add(b),this.a.Va(q,d,-1));q=k.get(w++);-1!==q&&(r=h.S(q,0),t=l[2*r],r=l[2*r+1])}while(-1!=q&&t===n&&r===p);t=1==g.size&&2==A.size;b=r=-1;v=0;for(x=g.size;v<x;v++){c=g.get(v);var z=this.Tc.Ve(c);-1==z||g.oA(z)||(r=z);c=this.Tc.nb(c);-1==c||g.oA(c)||(b=c);if(-1!=r&&-1!=b)break}this.we.QK(p,n);v=0;for(x=g.size;v<x;v++)c=g.get(v),this.Tc.Kd(c,-1);g.clear(!1);if(!t&&-1!=r&&-1!=b&&this.uQ(r,b)){a=!0;this.mj=this.we.en();break}v=0;for(x=A.size;v<x;v+=2){p=A.get(v);n=A.get(v+1);
t?(p=this.Tc.jv(r,b,p,!0),t=!1):p=this.Tc.addElement(p,-1);if(this.we.Ng){this.mj=this.we.en();a=!0;break}-1==this.a.Sa(n,m)?this.a.Va(n,m,p):this.a.Va(n,d,p)}if(a)break;A.yf(0)}this.a.le(m);this.a.le(d);return a};b.prototype.uQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);a=this.we.Ng;this.we.Gs();return a};b.Cj=function(a){for(var c=a.sd;-1!=c;c=a.Ue(c))if(e.T.Ic(a.hc(c)))return!0;return!1};b.Gm=function(a,c,f,k){if(!b.Cj(a))return!1;c=new b(k);c.a=a;c.ta=f;if(15>a.vd)a=c.nR();else return c.oR();
return a};b.V=function(a,c,f){return b.Gm(a,a.TG(),c,f)};b.tJ=function(a,c,f,k,m){if(!b.Cj(c))return!1;var d=new b(m);d.a=c;d.ta=f;d.MA=a;if(d.uJ())return null!=k&&k.ms(d.mj),!0;var g=new e.Hd;g.yC();c.Xc(g);d=new b(m);d.a=c;d.ta=f;d.MA=a;a=d.uJ();g.yC();c.Xc(g);return a?(null!=k&&k.ms(d.mj),!0):!1};b.qm=function(a,c){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*c<1*a*c};b.lR=function(a,c,f,k){if(e.T.Ic(c.G()))return(new b(k)).mR(a,c,f);throw e.g.X("crack_A_with_B");};b.prototype.mR=
function(a,c,f){var k=new e.h;a.ac(k);var m=new e.h;c.ac(m);m.O(f,f);if(!m.Yb(k))return a;var d=a.ob,C=null;null!=d&&(C=d.Mb);b.qm(a,a.D())&&(C=e.na.Lj(a,m));var A=null!=C?C.mf():null,w=c.Fa();c=a.Fa();for(var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=[];w.Ya();)for(;w.Ea();){var l=w.ba();if(null!=C)for(A.Wn(l,f),d=A.next();-1!=d;d=A.next()){if(this.Pr(),c.Tb(C.ja(d),-1),c.Ea())for(var d=c.ba(),n=d.Ma(l,null,h,null,f),d=0;d<n;++d){var p=h[d];if(0!=p&&1!=p){var q=c.Db(),t=new g;t.t=p;t.index=q;m.push(t)}}}else{var r=
new e.h;l.ac(r);r.O(f,f);if(k.Yb(r))for(c.yj();c.Ya();)for(;c.Ea();)if(this.Pr(),d=c.ba(),p=new e.h,d.ac(p),p.Yb(r))for(n=d.Ma(l,null,h,null,f),d=0;d<n;++d)p=h[d],0!=p&&1!=p&&(q=c.Db(),t=new g,t.t=p,t.index=q,m.push(t))}}if(0==m.length)return a;m=m.sort(g.Hs);a=a.Ka();for(c.yj();c.Ya()&&!c.Ea(););f=c.ba();k=new e.Cg;C=-1;d=0;for(A=m.length;d<A;){h=m[d].index;for(w=d+1;w<A&&m[w].index==h;)++w;for(;c.Db()<h;){this.Pr();l=c.Ea();p=c.Ta;(r=l||!c.Fo()||c.Go())&&a.dc(f,C!=p);C=p;if(!l)for(;c.Ya()&&!c.Ea(););
f=c.ba()}for(h=0;d<w;d++)p=m[d].t,p!=h&&(f.yh(h,p,k),h=p,p=c.Ta,a.dc(k.get(),C!=p),C=p);if(r=(l=c.Ea())||!c.Fo()||c.Go())f.yh(h,1,k),a.dc(k.get(),!1);if(l)f=c.ba();else{for(;c.Ya()&&!c.Ea(););c.Ea()?f=c.ba():f=null}d=w}null!=f&&(p=c.Ta,(r=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,C!=p),C=p);for(l=c.Ea();;){if(!l){for(;c.Ya()&&!(l=c.Ea()););if(!l)break}f=c.ba();p=c.Ta;(r=(l=c.Ea())||!c.Fo()||c.Go())&&a.dc(f,C!=p);C=p}return a};return b}();e.Ku=d;var g=function(){function b(){}b.Hs=function(a,c){return a.index==
c.index?a.t>c.t?1:a.t<c.t?-1:0:a.index>c.index?1:-1};return b}()})(t||(t={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.WL||(e.WL={}));var d=function(){return function(a,b,k,e,d,g,A,w,h,l,n){this.Y=a;this.nx=b;this.It=k;this.Pg=e;this.yn=l;this.em=n}}();e.GZ=d;var g=function(){function a(a,c){this.YI=a;this.gj=c}a.prototype.IO=function(a,c){var b=new e.b;this.gj.w(a,b);var f=new e.b;this.gj.w(c,
f);b=b.compare(f);if(0!=b)return b;b=this.gj.Sa(a,this.YI);f=this.gj.Sa(c,this.YI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,k,e,d,g,A,w,h){this.Pg=a;this.It=b;this.uB=k;this.hJ=e;this.dj=d;this.em=g;this.yn=A;this.iJ=w;this.NV=h}}();e.FZ=b;var a=function(){function a(){}a.VL=function(c,b,m,u,g,A){if(b.u())c=new d(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),g.push(c);else{var f=new e.fd;f.Jb(b);f.Jb(m);e.sk.V(f,u,A,!0);b=0;m=f.Vd();for(u=f.sd;-1!=u;u=f.Ue(u))for(A=f.Pb(u);-1!=
A;A=f.Sb(A))for(var k=f.cb(A),C=0,w=f.La(A);C<w;k=f.U(k),C++)f.Va(k,m,b++);b=a.mM(m,f);a.uW(c,b,f,g)}};a.mM=function(c,b){for(var f=b.vd,k=new e.ia(0),d=b.sd;-1!=d;d=b.Ue(d))for(var A=b.Pb(d);-1!=A;A=b.Sb(A))for(var w=b.cb(A),h=0,l=b.La(A);h<l;w=b.U(w),h++)k.add(w);var n=new g(c,b);k.Gd(0,f,function(a,c){return n.IO(a,c)});c=[];var p=[],q=b.Vd(),t=b.Vd(),d=b.sd,A=b.Ue(d),l=new e.b,r=new e.b,v=k.get(0),x=b.ld(v),z=b.ng(x);b.w(v,l);for(var G=1,w=0;G<f-1;){for(var y=!1,h=G;h<f;h++)if(h!=w){var B=k.get(h),
E=b.ld(B),D=b.ng(E);b.w(B,r);if(l.ub(r))z==d&&D==A&&(y=a.oZ(q,t,b,c,p,x,v,E,B));else break}if(y||w==G-1){y&&w==G-1&&G--;if(++w==f)break;v=k.get(w);x=b.ld(v);z=b.ng(x);b.w(v,l)}y||(G=w+1)}f=[];for(d=b.sd;-1!=d;d=b.Ue(d))for(A=b.Pb(d);-1!=A;A=b.Sb(A))for(k=b.cb(A),h=0,l=b.La(A);h<l;k=b.U(k),h++){w=b.Sa(k,t);if(0<=w)for(;w<p.length&&p[w].Pg==k;)f.push(p[w++]);w=b.Sa(k,q);if(0<=w)for(;w<c.length&&c[w].Pg==k;)f.push(c[w++])}b.le(q);b.le(t);return f};a.oZ=function(c,b,e,d,g,A,w,h,l){var f=e.Rj(A),k=e.Rj(h),
m=e.cb(A),u=e.cb(h),C=e.Ra(w),n=e.Ra(l),L=!1,p=!1,q=!1,t=!1;w!=m&&(l!=u&&(L=a.tZ(c,e,d,A,C,h,n)),l!=k&&(p=a.vZ(c,e,d,A,C,h,l)));w!=f&&(l!=u&&(q=a.xZ(b,e,g,A,w,h,n,m)),l!=k&&(t=a.HL(b,e,g,A,w,h,l,m)));L&&p&&q?(c=d.length-1,2==g[t?g.length-2:g.length-1].dj&&(d[c-1]=d[c],--d.length)):L&&p&&t&&2==g[g.length-1].dj&&(g=d[d.length-1],--d.length,e.Sa(g.Pg,c)==d.length&&e.Va(g.Pg,c,-1));return L||p||q||t};a.tZ=function(a,c,m,d,g,A,w){var f,k;k=new e.Hb;var u=new e.Hb,C=[0,0],h=[0,0];f=c.ic(g);null==f&&(c.pd(g,
k),f=k);k=c.ic(w);null==k&&(c.pd(w,u),k=u);f=f.Ma(k,null,C,h,0);2>f&&(d=new b(g,d,C[0],NaN,f,w,A,h[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1));return!0};a.vZ=function(a,c,m,d,g,A,w){var f,k;k=new e.Hb;var u=new e.Hb,C=[0,0],h=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(w);null==k&&(c.pd(w,u),k=u);f=f.Ma(k,null,C,h,0);return 2>f?(d=new b(g,d,C[0],NaN,f,w,A,h[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0):!1};a.xZ=function(a,c,m,d,g,A,w,h){var f,k;k=new e.Hb;var u=new e.Hb,
C=[0,0],l=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(w);null==k&&(c.pd(w,u),k=u);f=f.Ma(k,null,C,l,0);if(2==f)return d=new b(g,d,C[0],C[1],f,w,A,l[0],l[1]),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0;u=!1;g==h&&(d=new b(g,d,C[0],NaN,f,w,A,l[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),u=!0);return u};a.HL=function(a,c,m,d,g,A,w,h){var f,k;k=new e.Hb;var u=new e.Hb,C=[0,0],l=[0,0];f=c.ic(g);null==f&&(c.pd(g,k),f=k);k=c.ic(w);null==k&&(c.pd(w,u),k=u);f=f.Ma(k,null,C,l,0);if(2==
f)return d=new b(g,d,C[0],C[1],f,w,A,l[0],l[1]),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),!0;u=!1;g==h&&(d=new b(g,d,C[0],NaN,f,w,A,l[0],NaN),m.push(d),d=c.Sa(g,a),0>d&&c.Va(g,a,m.length-1),u=!0);return u};a.uW=function(c,b,m,u){var f,k=[];k[0]=new e.b;k[1]=new e.b;k[2]=new e.b;k[3]=new e.b;var g=new e.b,w=new e.b,h=new e.b,l=new e.b,n=null;null!=u&&(n=new e.Cg,n.Js());var p,q=0,t=null,r=new e.Hb;new e.Hb;for(var v=m.Pb(m.sd);-1!=v;v=m.Sb(v)){var x,z=4,G=-1,y,B,E,D=-1,H,I,J,F,M=-1,Q=-1,R=NaN;
x=!0;var K=!1,P=!0,O=!0,Y=!0,N=0;E=v;H=0;for(var V=m.cb(v),T=m.La(v),Z=0;Z<T;V=m.U(V),Z++){p=m.ic(V);if(null==p){if(!m.pd(V,r))continue;p=r}-1==D&&(D=V);for(var S=0;q<b.length&&V==b[q].Pg;){G=b[q].It;y=b[q].Pg;B=b[q].uB;I=b[q].yn;J=b[q].em;F=b[q].iJ;if(2==b[q].dj){if(K||(E=G,D=y,H=B,M=I,Q=J,R=F,z=2,null!=u?t=new e.Ua:N=0,Y=!1,O=!0),B=b[q].hJ,F=b[q].NV,null!=u?(p.yh(S,b[q].hJ,n),t.dc(n.get(),O)):N++,S=B,K=!0,O=x=!1,q+1==b.length||2!=b[q+1].dj||b[q+1].Pg==y&&b[q+1].uB!=S)null!=u?(f=new d(t,2,G,y,B,
z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N),E=G,D=y,H=B,M=I,Q=J,R=F,z=2,K=x=!1,O=Y=!0}else{var X=m.U(y);if(q<b.length-1&&b[q+1].Pg==X&&b[q+1].em==J&&2==b[q+1].dj)B!=S&&(Y&&(null!=u?t=new e.Ua:N=0),x=0<q&&b[q-1].It==G?1==z?0:0==z?1:3:3,null!=u?(p.yh(S,B,n),t.dc(n.get(),O),f=new d(t,x,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):(N++,null.add(N)),S=B,E=G,D=y,H=B,M=I,Q=J,R=F,z=x,x=P=!1,O=Y=!0);else if(!a.bM(c,m,b,q,g,w)){a.NL(m,b,q,v,V,h,l);var ca=!1,X=!1;f=!0;if(!(g.ub(h)||w.ub(h)||g.ub(l)||w.ub(l))){k[0].L(g);
k[1].L(w);k[2].L(h);k[3].L(l);k.sort(e.b.vs);var aa=k[0],ba=k[1],ga=k[2],ka=k[3];aa.ub(g)?ba.ub(w)?c?(X=ca=!0,f=!1):ca=!1:ka.ub(w)?c?f=X=ca=!0:ca=!1:(ca=!0,f=ba.ub(h)):ba.ub(g)?ga.ub(w)?c?(X=ca=!0,f=!1):ca=!1:aa.ub(w)?c?f=X=ca=!0:ca=!1:(ca=!0,f=ga.ub(h)):ga.ub(g)?ka.ub(w)?c?(X=ca=!0,f=!1):ca=!1:ba.ub(w)?c?f=X=ca=!0:ca=!1:(ca=!0,f=ka.ub(h)):aa.ub(w)?c?(X=ca=!0,f=!1):ca=!1:ga.ub(w)?c?f=X=ca=!0:ca=!1:(ca=!0,f=aa.ub(h))}if(ca){ca=V==y;if(B!=S||ca&&0==S)Y&&(null!=u?t=new e.Ua:N=0),null!=u?(p.yh(S,B,n),
t.dc(n.get(),O)):N++;if(f)if(1!=z){if(B!=S||ca&&0==S)null!=u?(f=new d(t,1,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N);if(!X)z=1;else if(q==b.length-2||b[q+2].It!=G)z=0}else{if(B!=S||ca&&0==S)null!=u?(f=new d(t,3,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N);z=1}else if(0!=z){if(B!=S||ca&&0==S)null!=u?(f=new d(t,0,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N);if(!X)z=0;else if(q==b.length-2||b[q+2].It!=G)z=1}else{if(B!=S||ca&&0==S)null!=u?(f=new d(t,3,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):
null.add(N);z=0}if(B!=S||ca&&0==S)S=B,E=G,D=y,H=B,M=I,Q=J,R=F,x=P=!1,O=Y=!0}}}q++}1!=S&&(Y&&(null!=u?t=new e.Ua:N=0),null!=u?(p.yh(S,1,n),t.dc(n.get(),O)):N++,O=Y=!1,P=!0)}P&&(B=1,y=m.Rj(v),y=m.Ra(y),J=I=-1,F=NaN,x?null!=u?(f=new d(t,4,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N):(x=1==z?0:0==z?1:3,null!=u?(f=new d(t,x,G,y,B,z,E,D,H,I,J,F,M,Q,R),u.push(f)):null.add(N)))}};a.bM=function(c,b,m,d,g,A){var f=m[d].iJ;if(1==f)return a.RL(c,b,m,d,g,A);if(0==f)return a.YL(c,b,m,d,g,A);throw e.g.za();
};a.RL=function(a,c,b,d,g,A){var f=new e.Hb,k=b[d].Pg,m=b[d].yn,u=b[d].em,C=-1,w=-1,h=-1,l=-1;if(!a&&0<d)var n=b[d-1],C=n.Pg,w=n.yn,h=n.em,l=n.dj;var p=-1,q=-1,t=-1,r=-1;d<b.length-1&&(n=b[d+1],p=n.Pg,q=n.yn,t=n.em,r=n.dj);var v=c.U(k),n=c.U(u);if(!a)return 0<d&&C==k&&w==m&&h==n&&2==l||d<b.length-1&&p==v&&q==m&&t==n&&2==r?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),A.L(a.Eg(1)),g.bu(A),A.normalize(),g.normalize(),!1):d<b.length-1&&p==k&&q==m&&t==n?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),g.L(a.Eg(1)),a=c.ic(n),
null==a&&(c.pd(n,f),a=f),A.L(a.Eg(0)),g.Lr(),A.normalize(),g.normalize(),!1):!0;if(d==b.length-1||p!=k||q!=m||t!=n||2==r)return a=c.ic(u),null==a&&(c.pd(u,f),a=f),A.L(a.Eg(1)),g.bu(A),A.normalize(),g.normalize(),!1;a=c.ic(u);null==a&&(c.pd(u,f),a=f);g.L(a.Eg(1));a=c.ic(n);null==a&&(c.pd(n,f),a=f);A.L(a.Eg(0));g.Lr();A.normalize();g.normalize();return!1};a.YL=function(a,c,b,d,g,A){var f=new e.Hb,k=b[d].Pg,m=b[d].yn,u=b[d].em,C=-1,w=-1,h=-1,l=-1;if(!a&&d<b.length-1)var n=b[d+1],C=n.Pg,w=n.yn,h=n.em,
l=n.dj;var p=-1,q=-1,t=-1,n=-1;0<d&&(n=b[d-1],p=n.Pg,q=n.yn,t=n.em,n=n.dj);var r=c.U(k),v=c.Ra(u);return a?0==d||p!=k||q!=m||t!=v||2==n?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),A.L(a.Eg(0)),g.bu(A),A.normalize(),g.normalize(),!1):!0:0<d&&p==k&&q==m&&t==v&&2==n||d<b.length-1&&C==r&&w==m&&h==v&&2==l?(a=c.ic(u),null==a&&(c.pd(u,f),a=f),A.L(a.Eg(0)),g.bu(A),A.normalize(),g.normalize(),!1):!0};a.NL=function(a,c,b,d,g,A,w){var f=new e.Hb,k=a.ic(g);null==k&&(a.pd(g,f),k=f);b=c[b];c=b.Pg;b=b.uB;g=a.U(c);if(1==
b)A.L(k.Eg(1)),-1!=g&&g!=a.Rj(d)?(k=a.ic(g),null==k&&(a.pd(g,f),k=f),w.L(k.Eg(0)),k=a.ic(c),null==k&&a.pd(c,f)):w.L(A),A.Lr(),w.normalize(),A.normalize();else if(0==b)w.L(k.Eg(b)),A.bu(w),w.normalize(),A.normalize();else throw e.g.za();};return a}();e.XL=a})(t||(t={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.jO||(e.jO={}));var d=function(){function a(a,c,b){this.nd=c;this.Ai=b;this.cB=a}a.prototype.Eb=function(c){return c instanceof a?this.Ai===
c.Ai:!1};a.lH=function(c){return 0!==c.nd?null:-1===c.cB?new a(-1,2,c.Ai*c.Ai):a.ze(f[c.cB])};a.ze=function(a){a=c[a];return void 0===a?null:a};a.cR=function(c,b,f){var k=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(k=a.ze(parseInt(f.values[1])))}catch(U){}null===k&&(k=new a(-1,c,b));return k};a.prototype.yc=function(){return this.cB};a.prototype.OG=function(a){if(a.nd!=this.nd)throw e.g.Da();return this.Ai/a.Ai};a.li=function(a,c,b){return c.OG(b)*a};a.eG=function(a,c,b,f,k){b=b.OG(f);
for(f=0;f<c;f++)k[f]=a[f]*b};return a}();e.oc=d;for(var g=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,
109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,
.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],b=
[1031,4.84813681109536E-9,9101,1,9102,.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,
109413,9036,1E3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,
9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,
.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],c=[],f=[],k=0;k<g.length;k+=2)c[g[k]]=new d(g[k],2,g[k+1]);g=null;for(k=0;k<b.length;k+=2)c[b[k]]=new d(b[k],1,b[k+1]);b=null;for(k=0;k<a.length;k+=3)c[a[k]]=
new d(a[k],0,a[k+1]),f[a[k]]=a[k+2];a=null})(t||(t={}));(function(e){var d=function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.jP=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=
b;this.Gb=a};e.prototype.cP=function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.yp=function(b){var a=
this.qb*b;this.Gb=this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.pm=function(b,a){var c=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(c);this.qb=c};e.prototype.Wm=function(b){var a=Math.abs(b.qb),c=this.qb/b.qb,f=(this.Gb+Math.abs(c)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=c;this.Gb=f+2.220446049250313E-16*Math.abs(c)};e.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),
a=this.qb>10*this.Gb?.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(c)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),c=Math.cos(b.qb);this.qb=c;c=Math.abs(c);this.Gb=(Math.abs(a)+.5*c*
b.Gb)*b.Gb+2.220446049250313E-16*c};e.prototype.Lg=function(){return Math.abs(this.qb)<=this.Gb};e.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return e}();e.Xb=d})(t||(t={}));var M=new t.b,Q=new t.b,R=new t.b,Y=new t.b,V=new t.b;(function(e){var d;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(d||(d={}));var g=function(){function b(a,c,b,k,e,d,g){void 0!==c?(this.bb=a,this.Ck=c,this.Gl=b,this.Ji=k,this.Ca=d,this.RA=g,
this.Uw=e):(this.bb=a.bb,this.Ck=a.Ck,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.RA=a.RA,this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.ZV()):-1};b.prototype.ZV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Ck;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=this.Ji)return this.Ji;this.Ck=this.bb.Ue(this.Ck);
if(-1==this.Ck)break;if(!this.RA||e.T.Ic(this.bb.hc(this.Ck)))this.Gl=this.bb.Pb(this.Ck)}return-1};b.yR=function(a,c,f,k,e,d,g){return new b(a,c,f,k,e,d,g)};return b}();e.MZ=g;d=function(){function b(){this.Xo=this.on=this.Yk=this.md=this.el=this.jp=this.nj=this.td=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.sd=-1;this.vd=0;this.PA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:null};b.prototype.th=function(a,c){if(null==this.wf){if(null==
c)return;this.wf=[];for(var b=0,k=this.xb.D();b<k;b++)this.wf.push(null)}this.wf[a]=c};b.prototype.Lp=function(a,c){this.td.P(a,1,c)};b.prototype.Kp=function(a,c){this.td.P(a,2,c)};b.prototype.uC=function(a,c){this.td.P(a,6,c)};b.prototype.Lq=function(a){return this.td.S(a,6)};b.prototype.Rx=function(a,c){this.td.P(a,7,c)};b.prototype.dw=function(a){return this.td.S(a,0)};b.prototype.FK=function(a,c){this.md.P(a,1,c)};b.prototype.JK=function(a,c){this.md.P(a,0,c)};b.prototype.UG=function(a){return this.md.S(a,
7)};b.prototype.Ip=function(a,c){this.md.P(a,3,c)};b.prototype.Jp=function(a,c){this.md.P(a,4,c)};b.prototype.fW=function(a){null==this.md&&(this.md=new e.ad(8));var c=this.md.Pe();this.md.P(c,2,a);this.md.P(c,5,0);this.md.P(c,6,0);this.md.P(c,7,c);return c};b.prototype.DS=function(a){this.md.kd(a)};b.prototype.hW=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.td.Pe();this.td.P(c,0,c);this.td.P(c,3,0);this.td.P(c,6,0);this.Rx(c,
a);c>=this.nj.size&&(a=16>c?16:e.J.truncate(3*c/2),this.nj.resize(a),this.jp.resize(a));this.nj.set(c,0);this.jp.set(c,0);return c};b.prototype.DG=function(a){this.td.kd(a)};b.prototype.Ez=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));var c=this.Dd.Pe(),b=0<=a?a:c;this.Dd.P(c,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:e.J.truncate(3*b/2);this.xb.resize(a);if(null!=this.wf)for(var k=0;k<
a;k++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(c,4,2*b);this.vd++;return c};b.prototype.Wj=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,d=this.xJ(null==b?this.vd:-1),g=this.Za(d);null!=b&&this.xb.vu(g,b);this.Aj(d,a);this.Kc(d,e);this.Lc(d,f);-1!=e&&this.Lc(e,d);-1!=f&&this.Kc(f,d);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,d);c==f&&this.jg(a,
d);b&&-1==e&&(this.Kc(d,d),this.Lc(d,d));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return d};b.prototype.an=function(){null==this.Xo&&(this.Xo=new e.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,c){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==c?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.gP=function(a){var c=this.bh(a.G(),a.description);1736==a.G()&&this.Hp(c,a.xo());this.hF(c,a);return c};b.prototype.hP=function(a){var c=
this.bh(a.G(),a.description);this.iF(c,a);return c};b.prototype.QW=function(a,c){null==this.td&&(this.td=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Rd(0),this.jp=new e.Rd(0));this.td.Qe(this.td.yd+a);this.Dd.Qe(this.Dd.yd+c);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.hF=function(a,c){this.QW(c.aa(),c.D());this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=c.cf,k=0,m=c.aa();k<m;k++)if(!(2>c.La(k))){var d=this.Yf(a,-1);this.$n(d,c.Qb(k));for(var g=
c.wa(k),A=c.Gc(k);g<A;g++){var w=this.Wj(d,-1,null);if(b)if(w=this.Za(w),0!=(c.jH(g)&1))this.th(w,null);else{var h=new e.Cg;c.ic(g,h,!0);this.th(w,h.get())}}}};b.prototype.iF=function(a,c){this.nm.Id(c,0,c.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(c=c.D();b<c;b++)this.Wj(a,-1,null)};b.prototype.HY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var m=this.an(),d=this.ld(a),g=0,A=c.Rl(b);g<A;g++){var w=this.Za(a),h=this.U(a),l=c.Mq(b,g);0==g&&(l.Dp(m),this.Yh(a,m));322==l.G()?
this.th(w,null):this.th(w,e.T.oe(l));l.Bp(m);g<A-1?a=this.Wj(d,h,m):this.Yh(f,m)}};b.prototype.GY=function(a,c,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var m=this.an(),d=this.ld(a),g=0,A=c.Rl(b);g<A;g++){var w=this.Za(a),h=this.U(a),l=c.Mq(b,A-g-1);0==g&&(l.Bp(m),this.Yh(a,m));322==l.G()?this.th(w,null):this.th(w,e.T.oe(l));l.Dp(m);g<A-1?a=this.Wj(d,h,m):this.Yh(f,m)}};b.prototype.TG=function(){var a=new e.h;a.Oa();for(var c=this.Qr(),b=new e.b,k=!0,m=c.next();-1!=m;m=c.next())this.w(m,b),k?
a.Nb(b.x,b.y):a.ml(b.x,b.y),k=!1;return a};b.prototype.Jb=function(a){var c=a.G();if(e.T.Ic(c))return this.gP(a);if(550==c)return this.hP(a);throw e.g.za();};b.prototype.xP=function(a,c){var b=c.G();if(e.T.Ic(b))this.hF(a,c);else if(550==b)this.iF(a,c);else throw e.g.za();};b.prototype.lP=function(a,c){var b=this.bh(1736,a.description);if(2>a.La(c))return b;this.nm.Id(a,a.wa(c),a.Gc(c));this.Kr=this.xb.Pa(0);var k=this.Yf(b,-1);this.$n(k,a.Qb(c)||!0);var m=null!=this.wf&&null!=a.cf,d=a.wa(c);for(c=
a.Gc(c);d<c;d++){var g=this.Wj(k,-1,null);if(m)if(g=this.Za(g),0!=(a.jH(d)&1))this.th(g,null);else{var A=new e.Cg;a.ic(d,A,!0);this.th(g,A.get())}}return b};b.prototype.Se=function(a){var c=this.hc(a),b=e.vM.bh(c,this.nm.description),k=this.D(a);if(0==k)return b;if(e.T.Ic(c)){for(var c=this.aa(a),m=e.Uc.wh(c+1),d=e.Uc.vq(c+1,0),g=b.description,A=0,w=g.Ga;A<w;A++){for(var h=g.rd(A),l=e.ma.Xa(h),n=e.Uc.qz(h,k),p=this.xb.Pa(h),q=0,t=0,r=0,v=this.Pb(a);-1!=v;v=this.Sb(v)){var x=0;this.Qb(v)&&(x|=1);this.SU(v)&&
(x|=4);0!=x&&d.jC(t,x);var z=this.La(v);m.write(t++,r);r+=z;if(0==h)for(var z=p,G=n,y=new e.b,x=this.cb(v);q<r;x=this.U(x),q++){var B=this.Za(x);z.fc(2*B,y);G.fo(2*q,y)}else for(x=this.cb(v);q<r;x=this.U(x),q++)for(B=this.Za(x),G=0;G<l;G++)y=p.Of(B*l+G),n.Dm(q*l+G,y)}b.Yn(h,n);m.write(c,k)}b.GK(d);b.HK(m);b.Dc(16777215)}else if(550==c){g=b.description;b.resize(k);A=0;for(w=g.Ga;A<w;A++){h=g.rd(A);l=e.ma.Xa(h);n=b.Pa(h);p=this.xb.Pa(h);q=0;v=this.Pb(a);z=this.La(v);for(x=this.cb(v);q<z;x=this.U(x),
q++)for(B=this.Za(x),G=0;G<l;G++)y=p.Of(B*l+G),n.Dm(q*l+G,y);b.Yn(h,n)}b.Dc(16777215)}return b};b.prototype.bC=function(a){for(var c=this.Pb(a);-1!=c;c=this.Rr(c));var c=this.JT(a),b=this.Ue(a);-1!=c?this.FK(c,b):this.sd=b;-1!=b?this.JK(b,c):this.cx=c;this.DS(a)};b.prototype.bh=function(a,c){return void 0===c?this.hG(a,e.ye.Ig()):this.hG(a,c)};b.prototype.hG=function(a,c){a=this.fW(a);null==this.xb?this.xb=this.nm=new e.Ed(c):this.nm.om(c);this.Hr=this.nm.description;this.PA=1<this.Hr.Ga;-1==this.sd?
this.sd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,1)};b.prototype.JT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,c,b){c=this.Yk[c];a=this.UG(a);a>=c.size&&c.resize(Math.max(e.J.truncate(1.25*a),16),-1);c.write(a,b)};b.prototype.VG=function(a,c){a=this.UG(a);c=this.Yk[c];return a<c.size?c.read(a):-1};b.prototype.iG=function(){null==this.Yk&&(this.Yk=[]);for(var a=
0;a<this.Yk.length;a++)if(null==this.Yk[a])return this.Yk[a]=e.Uc.wh(0),a;this.Yk.push(e.Uc.wh(0));return this.Yk.length-1};b.prototype.vX=function(a){this.Yk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,c,b){for(var f=0,m=this.sd;-1!=m;m=this.Ue(m)){var d=this.hc(m);if(e.T.Ic(d)&&(!b||1736==d))for(var d=1736==
this.hc(m),g=this.Pb(m);-1!=g;){for(var A=0,w=this.cb(g);A<e.J.truncate(this.La(g)/2);){var h=this.U(w);if(-1==h)break;var l=this.Za(w),n=this.ti(l);null!=n?l=n.Rb():(n=this.Za(h),l=this.xb.xs(l,n));l<=a?(0==l?0==f&&(f=-1):f=1,h!=this.Rj(g)&&(this.KC(h,w),this.ud(h,!0))):w=this.U(w);A++}A=this.cb(g);for(w=this.Qb(g)?A:this.Rj(g);0<this.La(g);)if(h=this.Ra(w),-1!=h){var p=this.Za(h),n=this.ti(p);null!=n?l=n.Rb():(l=this.Za(w),l=this.xb.xs(l,p));if(l<=a)0==l?0==f&&(f=-1):f=1,this.KC(h,w),this.ud(h,
!1),A==h&&(A=this.cb(g));else if(w=this.Ra(w),w==A)break}else{this.ud(w,!0);0==f&&(f=-1);break}w=this.La(g);c&&(d?3>w:2>w)?(g=this.Rr(g),f=0<w?1:0==f?-1:f):g=this.Sb(g)}}return f};b.prototype.KC=function(a,c){var b=this.Za(a),k=this.Za(c);null!=this.ph&&(b=this.ph.read(b),this.ph.write(k,b));if(null!=this.Bi)for(k=0,b=this.Bi.length;k<b;k++)if(null!=this.Bi[k]){var e=this.Sa(a,k);-1!=e&&this.Va(c,k,e)}};b.prototype.zm=function(a,c,b){var f=0,m=this.U(a);if(-1==m)throw e.g.za();for(var d=this.Za(a),
g=this.Za(m),A=this.ti(d),w=null==A?this.xb.xs(d,g):A.Rb(),h=0;h<b;h++){var l=c[h];if(0<l&&1>l){var n=l;null!=A&&(n=0<w?A.Dy(l)/w:0);this.xb.EE(d,g,n,this.an());var p=this.Wj(this.ld(a),m,this.an());f++;if(null!=A){var q=A.Hl(0,l),n=this.Za(this.Ra(p));this.th(n,q);this.Qf(p,q.Cc());if(h==b-1||1==c[h+1])l=A.Hl(l,1),this.th(n,l)}}}return f};b.prototype.FY=function(a,c,b){var f=0,m=this.U(a);if(-1==m)throw e.g.X("internal error");var d=this.Za(a),g=this.Za(m),A=this.ti(d),w=null==A?this.xb.xs(d,g):
A.Rb(),h=0;a=this.ld(a);for(var l=0;l<b;l++){var n=c[l];if(h<n&&1>n){var p=n;null!=A&&(p=0<w?A.Dy(n)/w:0);this.xb.EE(d,g,p,this.an());p=this.uU(a,m,this.an());f++;if(null!=A){var h=A.Hl(h,n),q=this.Za(this.Ra(p));this.th(q,h);this.rb(p,h.sa,h.oa);if(l==b-1||1==c[l+1])h=A.Hl(n,1),p=this.Za(p),this.th(p,h)}}h=n}return f};b.prototype.uU=function(a,c,b){var f=-1!=c?this.Ra(c):this.Rj(a),e=-1!=f?this.U(f):-1,d=this.xJ(null==b?this.vd:-1),g=this.Za(d);null!=b&&this.xb.vu(g,b);this.Aj(d,a);this.Kc(d,e);
this.Lc(d,f);-1!=e&&this.Lc(e,d);-1!=f&&this.Kc(f,d);b=this.Qb(a);f=this.cb(a);-1==c&&this.sh(a,d);c==f&&(b&&-1!=f||this.jg(a,d));b&&-1==e&&(this.Kc(d,d),this.Lc(d,d));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return d};b.prototype.FF=function(a,c,b){var f=this.Za(c),m=this.Za(b);if(0>f||m>this.vd-1)throw e.g.F("invalid call");if(f>m&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;c!=b;c=this.U(c))f=this.Za(c),m=this.ti(f),null!=m?a+=m.Rb():(m=this.Za(this.U(c)),
a+=this.xb.xs(f,m));return a};b.prototype.Yh=function(a,c){var b=this.Za(a);this.xb.vu(b,c);b=this.ti(b);null!=b&&b.setStart(c);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(c))};b.prototype.wj=function(a,c){a=this.Za(a);this.xb.Ae(a,c)};b.prototype.Qf=function(a,c){this.rb(a,c.x,c.y)};b.prototype.rb=function(a,c,b){var f=this.Za(a);this.xb.rb(f,c,b);f=this.ti(f);null!=f&&f.xC(c,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&f.vm(c,b))};b.prototype.w=function(a,c){this.xb.w(this.Dd.S(a,
0),c)};b.prototype.Nc=function(a,c){this.xb.ya[0].fc(2*this.Dd.S(a,0),c)};b.prototype.Ba=function(a){var c=new e.b;this.xb.w(this.Dd.S(a,0),c);return c};b.prototype.pH=function(a,c){this.Kr.fc(2*a,c)};b.prototype.Yc=function(a,c,b){return this.xb.Yc(a,this.Za(c),b)};b.prototype.setAttribute=function(a,c,b,k){this.xb.setAttribute(a,this.Za(c),b,k)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var c=new e.b;this.w(a,c);return c.y};b.prototype.Uq=function(a,c){a=this.Za(a);
c=this.Za(c);var b=this.xb.ya[0].f;return b[2*a]===b[2*c]&&b[2*a+1]===b[2*c+1]};b.prototype.qw=function(a,c){a=this.Za(a);var b=this.xb.ya[0].f;return b[2*a]===c.x&&b[2*a+1]===c.y};b.prototype.rY=function(a,c){1>c&&(c=1);if(null==this.ph){if(1==c)return;this.ph=e.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,c)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?1:this.ph.read(a)};b.prototype.Va=function(a,c,b){c=this.Bi[c];a=this.Za(a);
c.size<this.xb.D()&&c.resize(this.xb.D(),-1);c.write(a,b)};b.prototype.Sa=function(a,c){a=this.Za(a);c=this.Bi[c];return a<c.size?c.read(a):-1};b.prototype.Vd=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=e.Uc.wh(0,-1),a;this.Bi.push(e.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?(a=this.Za(a),this.wf[a]):null};b.prototype.pd=function(a,c){var b=this.Dd.S(a,
2);if(-1==b)return!1;if(this.PA){var k=new e.Wa;this.wj(a,k);c.setStart(k);this.wj(b,k);c.setEnd(k)}else this.xb.Nc(this.Dd.S(a,0),M),c.Qm(0,M),this.xb.Nc(this.Dd.S(b,0),M),c.Qm(1,M);return!0};b.prototype.hX=function(a,c,b){if(this.PA){var f=new e.Wa;this.wj(a,f);b.setStart(f);this.wj(c,f);b.setEnd(f)}else this.xb.Nc(a,M),b.Qm(0,M),this.xb.Nc(c,M),b.Qm(1,M)};b.prototype.Yf=function(a,c){var b;if(-1!=c){if(a!=this.ng(c))throw e.g.za();b=this.ct(c)}else b=this.Xv(a);var k=this.hW(a);-1!=c&&this.Lp(c,
k);this.Kp(k,c);this.Lp(k,b);-1!=b?this.Kp(b,k):this.Ip(a,k);-1==c&&this.Jp(a,k);this.wm(a,this.aa(a)+1);return k};b.prototype.BH=function(a,c,b,k){a=this.Yf(a,-1);for(var f=0,e=c,d=!1;e==b&&(d=!0),this.Aj(e,a),f++,e=this.U(e),e!=c;);this.$n(a,!0);this.nk(a,f);d&&(c=b);this.jg(a,c);this.sh(a,this.Ra(c));this.Np(a,!1);null!=k&&(k[0]=d);return a};b.prototype.Rr=function(a){var c=this.ct(a),b=this.Sb(a),k=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(k,b);-1!=b?this.Lp(b,c):this.Jp(k,c);this.EQ(a);this.wm(k,
this.aa(k)-1);this.DG(a);return b};b.prototype.EQ=function(a){var c=this.cb(a);if(-1!=c){for(var b=0,k=this.La(a);b<k;b++){var e=c,c=this.U(c);this.Ez(e)}c=this.ng(a);this.lk(c,this.D(c)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.td.S(a,2)};b.prototype.ct=function(a){return this.td.S(a,1)};b.prototype.La=function(a){return this.td.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,c){if(this.Qb(a)!=c){if(0<this.La(a)){var b=this.cb(a),k=this.Rj(a);
c?(this.Kc(k,b),this.Lc(b,k)):(this.Kc(k,-1),this.Lc(b,-1));b=this.Za(k);this.th(b,null)}this.uC(a,(this.Lq(a)|1)-1|(c?1:0))}};b.prototype.ng=function(a){return this.td.S(a,7)};b.prototype.SU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.pC=function(a,c){this.uC(a,(this.Lq(a)|2)-2|(c?2:0))};b.prototype.hA=function(a){if(this.YU(a))return this.nj.get(this.dw(a));var c=new e.Hb,b=this.cb(a);if(-1==b)return 0;var k=new e.b;this.w(b,k);for(var m=0,d=0,g=this.La(a);d<g;d++,b=this.U(b)){var A=this.ic(b);
if(null==A){if(!this.pd(b,c))continue;A=c}m+=A.Cy(k.x,k.y)}this.Np(a,!0);this.nj.set(this.dw(a),m);return m};b.prototype.$r=function(a,c,b){c=this.el[c];a=this.dw(a);c.size<this.nj.size&&c.resize(this.nj.size,-1);c.write(a,b)};b.prototype.Tj=function(a,c){a=this.dw(a);c=this.el[c];return a<c.size?c.read(a):-1};b.prototype.rz=function(){null==this.el&&(this.el=[]);for(var a=0;a<this.el.length;a++)if(null==this.el[a])return this.el[a]=e.Uc.wh(0),a;this.el.push(e.Uc.wh(0));return this.el.length-1};b.prototype.cC=
function(a){this.el[a]=null};b.prototype.YV=function(a,c,b){if(-1==b)throw e.g.F();if(c!=b){var f=this.Sb(b),m=this.ct(b),d=this.ng(b);-1==m?this.Ip(d,f):this.Kp(m,f);-1==f?this.Jp(d,m):this.Lp(f,m);this.lk(d,this.D(d)-this.La(b));this.wm(d,this.aa(d)-1);m=-1==c?this.Xv(a):this.ct(c);this.Lp(b,m);this.Kp(b,c);-1==c?this.Jp(a,b):this.Lp(c,b);-1==m?this.Ip(a,b):this.Kp(m,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Kj=function(a,c){this.xb.Ae(this.Za(c),this.an());
this.Wj(a,-1,this.an())};b.prototype.ud=function(a,c){var b=this.ld(a),k=this.Ra(a),m=this.U(a);-1!=k&&this.Kc(k,m);var d=this.La(b);a==this.cb(b)&&this.jg(b,1<d?m:-1);-1!=m&&this.Lc(m,k);a==this.Rj(b)&&this.sh(b,1<d?k:-1);if(-1!=k&&-1!=m){var k=this.Za(k),g=this.Za(m);c?(c=this.ti(k),null!=c&&(k=new e.b,this.xb.w(g,k),c.Zc(k))):(g=this.Za(a),c=this.ti(g),this.th(k,c),null!=c&&(k=this.xb.Ba(k),c.Mc(k)))}this.nk(b,d-1);b=this.ng(b);this.lk(b,this.D(b)-1);this.Ez(a);return m};b.prototype.cb=function(a){return this.td.S(a,
4)};b.prototype.Rj=function(a){return this.td.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,c){return this.Wj(a,-1,c)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof g)return new g(a);var c,b=-1,k=-1,m=-1,d=0,C=!1;for(c=this.sd;-1!=c;c=this.Ue(c))if(!a||e.T.Ic(this.hc(c))){for(b=this.Pb(c);-1!=b;b=this.Sb(b))if(m=k=this.cb(b),d=0,-1!=
k){C=!0;break}if(C)break}return g.yR(this,c,b,k,m,d,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=this.wf)for(var c=0,b=this.wf.length;c<b;c++)null!=this.wf[c]&&this.wf[c].Xc(a)};b.prototype.bs=function(a,c,b,k){k?this.HY(a,c,b):this.GY(a,c,b)};b.prototype.Lc=function(a,c){this.Dd.P(a,1,c)};b.prototype.Kc=function(a,c){this.Dd.P(a,2,c)};b.prototype.Aj=function(a,c){this.Dd.P(a,3,c)};b.prototype.nk=function(a,c){this.td.P(a,3,c)};b.prototype.jg=function(a,c){this.td.P(a,4,c)};b.prototype.sh=
function(a,c){this.td.P(a,5,c)};b.prototype.wm=function(a,c){this.md.P(a,6,c)};b.prototype.lk=function(a,c){this.md.P(a,5,c)};b.prototype.fK=function(a){var c=a;do{var b=this.U(c);this.Kc(c,this.Ra(c));this.Lc(c,b);c=b}while(c!=a)};b.prototype.AC=function(a){this.vd=a};b.prototype.Sr=function(a){var c=this.ct(a),b=this.Sb(a),k=this.ng(a);-1!=c?this.Kp(c,b):this.Ip(k,b);-1!=b?this.Lp(b,c):this.Jp(k,c);this.jg(a,-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,c){var b=this.Ra(a),k=this.U(a);
-1!=b&&this.Kc(b,k);-1!=k&&this.Lc(k,b);if(-1!=b&&-1!=k)if(b=this.Za(b),k=this.Za(k),c){if(c=this.ti(b),null!=c){var m=new e.b;this.xb.w(k,m);c.Zc(m)}}else k=this.Za(a),c=this.ti(k),this.th(b,c),null!=c&&(m=new e.b,this.xb.w(b,m),c.Mc(m));this.Ez(a)};b.prototype.YU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,c){this.uC(a,(this.Lq(a)|4)-4|(c?4:0))};b.prototype.Xx=function(a,c){var b=this.Dd.f;this.xb.wc();var k=this.xb.ya[0].f;a.Gd(0,c,function(a,c){a=b[5*a];c=b[5*c];var f=k[2*
a];a=k[2*a+1];var e=k[2*c];c=k[2*c+1];return a<c?-1:a>c?1:f<e?-1:f>e?1:0})};b.prototype.eU=function(){for(var a=this.sd;-1!=a;a=this.Ue(a))if(!e.T.Ic(this.hc(a)))return!0;return!1};b.prototype.FC=function(a,c){for(var b=this.Pb(a),k=this.Pb(c),e=this.Xv(a),d=this.Xv(c),g=this.Pb(a);-1!=g;g=this.Sb(g))this.Rx(g,c);for(g=this.Pb(c);-1!=g;g=this.Sb(g))this.Rx(g,a);this.Ip(a,k);this.Ip(c,b);this.Jp(a,d);this.Jp(c,e);b=this.D(a);k=this.aa(a);e=this.aa(c);this.lk(a,this.D(c));this.lk(c,b);this.wm(a,e);
this.wm(c,k);b=this.md.S(a,2);this.md.P(a,2,this.md.S(c,2));this.md.P(c,2,b)};return b}();e.fd=d})(t||(t={}));(function(e){var d=function(d){function b(a,c,b,k){d.call(this);this.R=new e.h;void 0===a?this.aG():"number"===typeof a?this.ZQ(a,c,b,k):a instanceof e.Wa?void 0!==c?this.Ev(a,c,b):this.$Q(a):a instanceof e.ma?void 0!==c?this.bR(a,c):this.aR(a):a instanceof e.h?this.YQ(a):this.aG()}N(b,d);b.prototype.Ev=function(a,c,b){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a,c,b)};b.prototype.YQ=
function(a){this.description=e.ye.Ig();this.R.I(a);this.R.normalize()};b.prototype.aR=function(a){if(null==a)throw e.g.F();this.description=a;this.R.Oa()};b.prototype.bR=function(a,c){if(null==a)throw e.g.F();this.description=a;this.R.I(c);this.R.normalize()};b.prototype.aG=function(){this.description=e.ye.Ig();this.R.Oa()};b.prototype.$Q=function(a){this.description=e.ye.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.ZQ=function(a,c,b,k){this.description=e.ye.Ig();this.I(a,c,b,k)};b.prototype.I=
function(a,c,b,k){this.Bc();if("number"===typeof a)this.R.I(a,c,b,k);else for(this.Oa(),c=0,b=a.length;c<b;c++)this.Nb(a[c])};b.prototype.Gp=function(a){this.Bc();if(!a.$U())throw e.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Bc();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Hk=function(){return this.R.Hk()};b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};
b.prototype.Nb=function(a){if(a instanceof e.b)this.Bc(),this.R.Nb(a);else if(a instanceof e.h)this.Bc(),this.R.Nb(a);else if(a instanceof e.Wa){if(this.Bc(),!a.Hc()){var c=a.description;this.description!=c&&this.om(c);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var f=1,k=c.Ga;f<k;f++)for(var m=c.Td(f),d=e.ma.Xa(m),g=0;g<d;g++){var A=a.Yc(m,g),w=this.xf(m,g);w.Nb(A);setInterval(m,g,w)}}}}else if(a instanceof b&&!a.u())for(c=a.description,c!=this.description&&this.om(c),this.R.Nb(a.R),f=1,k=c.Ga;f<
k;f++)for(m=c.rd(f),d=e.ma.Xa(m),g=0;g<d;g++)A=a.xf(m,g),w=this.xf(m,g),w.Nb(A),setInterval(m,g,w)};b.prototype.cv=function(a,c,b){if(void 0!==c){this.R.I(a.w(),c,b);c=a.description;b=1;for(var f=c.Ga;b<f;b++)for(var m=c.Td(b),d=e.ma.Xa(m),g=0;g<d;g++){var A=a.Yc(m,g);this.setInterval(m,g,A,A)}}else for(this.R.I(a.la[0],a.la[1]),c=a.description,b=1,f=c.Ga;b<f;b++)for(m=c.Td(b),d=e.ma.Xa(m),g=0;g<d;g++)A=a.Yc(m,g),this.setInterval(m,g,A,A)};b.prototype.setInterval=function(a,c,b,k){var f=null;"number"===
typeof b?f=new e.Ac(b,k):f=b;this.Bc();if(0==a)if(0==c)this.R.o=f.ca,this.R.v=f.ha;else if(1==c)this.R.A=f.ca,this.R.B=f.ha;else throw e.g.wd();else this.ME(0,a,c,f.ca),this.ME(1,a,c,f.ha)};b.prototype.O=function(a,c){this.Bc();this.R.O(a,c)};b.prototype.Xc=function(a){if(a instanceof e.Hd)this.Bc(),a.LC(this.R);else if(this.Bc(),!this.R.u()){var c=new e.eM;this.Cp(c);c.RU()?c.Oa():a.LC(c)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.Bc();a.description=this.description;a.R.I(this.R);
a.la=null;if(null!=this.la){a.Yu();for(var c=0;c<2*(this.description.af.length-2);c++)a.la[c]=this.la[c]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;
a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,1,0))};b.prototype.xf=function(a,c){var b=new e.Ac;b.I(this.ae(0,a,c),this.ae(1,a,c));return b};b.prototype.ig=function(a,c){c.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(0,k,d));c.rb(this.R.o,this.R.A);break;case 1:for(a=0;a<b;a++)for(k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,
d,this.ae(1,k,d));c.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(0,k,d));c.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(k=this.description.rd(a),m=e.ma.Xa(k),d=0;d<m;d++)c.setAttribute(k,d,this.ae(1,k,d));c.rb(this.R.v,this.R.A);break;default:throw e.g.wd();}};b.prototype.Gx=function(a,c){a=this.R.Gx(a);c.ka(a.x,a.y)};b.prototype.cT=function(a,c){return c*(a.Er-2)};b.prototype.JG=function(a,c,b){if(this.R.u())throw e.g.X("empty geometry");
if(0==c)return 0!=a?0!=b?this.R.B:this.R.v:0!=b?this.R.A:this.R.o;if(b>=e.ma.Xa(c))throw e.g.F();var f=this.description.mg(c);this.Yu();return 0<=f?this.la[this.cT(this.description,a)+this.description.FT(f)-2+b]:e.ma.de(c)};b.prototype.Yu=function(){this.Bc();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),c=b.$(this.description,1),f=0,k=1,m=this.description.Ga;k<m;k++)for(var d=this.description.rd(k),g=e.ma.Xa(d),d=e.ma.de(d),A=0;A<g;A++)this.la[a+f]=
d,this.la[c+f]=d,f++}};b.prototype.mo=function(a){if(null!=this.la)if(2<a.af.length){for(var c=e.ye.vx(a,this.description),f=[],k=b.$(this.description,0),m=b.$(this.description,1),d=b.$(a,0),g=b.$(a,1),A=0,w=1,h=a.Ga;w<h;w++){var l=a.rd(w),n=e.ma.Xa(l);if(-1==c[w])for(var p=e.ma.de(l),l=0;l<n;l++)f[d+A]=p,f[g+A]=p,A++;else for(p=this.description.xk(c[w])-2,l=0;l<n;l++)f[d+A]=this.la[k+p],f[g+A]=this.la[m+p],A++,p++}this.la=f}else this.la=null;this.description=a};b.prototype.ae=function(a,c,f){if(this.R.u())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==c)return 0!=a?0!=f?this.R.B:this.R.v:0!=f?this.R.A:this.R.o;if(f>=e.ma.Xa(c))throw e.g.wd();var k=this.description.mg(c);return 0<=k?(this.Yu(),this.la[b.$(this.description,a)+this.description.xk(k)-2+f]):e.ma.de(c)};b.prototype.ME=function(a,c,f,k){this.Bc();if(0==c)0!=a?0!=f?this.R.B=k:this.R.v=k:0!=f?this.R.A=k:this.R.o=k;else{if(f>=e.ma.Xa(c))throw e.g.wd();if(!this.hasAttribute(c)){if(e.ma.PH(c,k))return;this.Ud(c)}c=this.description.mg(c);this.Yu();this.la[b.$(this.description,a)+this.description.xk(c)-
2+f]=k}};b.$=function(a,c){return c*(a.af.length-2)};b.prototype.Ma=function(a){this.Bc();var c=new e.h;a.s(c);return this.R.Ma(c)};b.prototype.Yb=function(a){return a instanceof e.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,c,b){this.Bc();a.u()?this.Oa():void 0!==c?this.cv(a,c,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,c){this.Bc();this.R.offset(a,c)};b.prototype.normalize=function(){this.Bc();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),
this.u())a.Oa();else{for(var c=this.description.Ga,b=1;b<c;b++)for(var k=this.description.rd(b),m=e.ma.Xa(k),d=0;d<m;d++){var g=.5*(this.JG(0,k,d)+this.JG(1,k,d));a.setAttribute(k,d,g)}a.rb(this.R.Wf())}else{a=new e.Wa(this.description);if(this.u())return a;c=this.description.Ga;for(b=1;b<c;b++)for(k=this.description.Td(b),m=e.ma.Xa(k),d=0;d<m;d++)g=.5*(this.ae(0,k,d)+this.ae(1,k,d)),a.setAttribute(k,d,g);a.rb(this.R.Hk(),this.R.Cq());return a}};b.prototype.Zz=function(){return new e.Wa(this.R.Zz())};
b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.hR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var c=0,f=2*(this.description.af.length-2);c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=e.J.dh(a,
this.R.jc());if(!this.u()&&null!=this.la)for(var c=0,b=2*(this.description.af.length-2);c<b;c++)a=e.J.dh(a,this.la[c]);return a};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+", "+this.R.v+", "+this.R.B+"]"};return b}(e.T);e.ci=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=c,this.B=f)}d.pa=function(b,a,c,f){var k=new d;k.o=b;k.A=
a;k.v=c;k.B=f;return k};d.prototype.I=function(b,a,c,f){"number"===typeof b?void 0!==c?(this.o=b,this.A=a,this.v=c,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof d?this.I(b.o,b.A,b.v,b.B):b instanceof e.Ac&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};d.prototype.oT=function(b,a){var c=
new d;c.I(this.o,this.A,this.v,this.B);c.O(b,a);return c};d.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var c=1;c<a;c++){var f=b[c];f.x<this.o?this.o=f.x:f.x>this.v&&(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),c=1;c<b.length;c++)f=b[c],this.ml(f.x,f.y)};d.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};
d.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof e.qd?this.Nb(b.x,b.y):b instanceof d&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};d.prototype.ml=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};d.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>
this.v||this.A>this.B)&&this.Oa())};d.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};d.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.TH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};d.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);
b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};d.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,this.B);case 2:return e.b.pa(this.v,this.B);case 3:return e.b.pa(this.v,this.A);default:throw e.g.wd();}};d.prototype.QB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):
b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};d.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};d.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};d.prototype.Hk=function(){return(this.v+this.o)/2};d.prototype.Cq=function(){return(this.B+this.A)/2};d.prototype.N=function(){return this.v-this.o};d.prototype.fa=function(){return this.B-this.A};d.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};
d.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Hk(),a-this.Cq());else if(b instanceof e.b)this.xv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var c=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-c;this.B=b.nf()+c}else throw e.g.F();};d.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};d.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,
this.B);this.A=b;this.B=a}};d.prototype.Tn=function(b){b.ka(this.o,this.A)};d.prototype.TJ=function(b){b.ka(this.v,this.A)};d.prototype.WJ=function(b){b.ka(this.o,this.B)};d.prototype.Un=function(b){b.ka(this.v,this.B)};d.prototype.$U=function(){return this.u()||this.o<=this.v&&this.A<=this.B};d.prototype.Wf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};d.prototype.Zz=function(){return e.b.pa(this.o,this.A)};d.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&
a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Be(),b.nf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof d)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw e.g.F();};d.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Tm(b.x,b.y);if(b instanceof d)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};d.prototype.Eb=function(b){return b==this?!0:b instanceof d?
this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};d.prototype.jc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.dh(b),b=this.v,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.A,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.dh(b,a)};d.prototype.Ny=function(b){var a=new e.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;
b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};d.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,c=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+c+this.B-b.y:b.y==this.A?2*a+c+this.v-b.x:this.Wu(this.Ny(b))};d.prototype.AE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,c=this.v-this.o;return b<a?0:(b-=a)<c?1:b-c<a?2:3};d.prototype.no=
function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};d.prototype.gz=function(b,a){var c=this.wk(b),f=this.wk(a);if(0!=(c&f))return 0;if(0==(c|f))return 4;var k=(0!=c?1:0)|(0!=f?2:0);do{var e=a.x-b.x,u=a.y-b.y;e>u?0!=(c&d.bd)?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/e,b.x=this.o):(b.y+=u*(this.v-b.x)/e,b.x=this.v),c=this.wk(b)):0!=(f&d.bd)?(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/e,a.x=this.o):(a.y+=u*(this.v-a.x)/e,a.x=this.v),
f=this.wk(a)):0!=c?(0!=(c&d.tc)?(b.x+=e*(this.A-b.y)/u,b.y=this.A):(b.x+=e*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):(0!=(f&d.tc)?(a.x+=e*(this.A-a.y)/u,a.y=this.A):(a.x+=e*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=(c&d.fe)?(0!=(c&d.tc)?(b.x+=e*(this.A-b.y)/u,b.y=this.A):(b.x+=e*(this.B-b.y)/u,b.y=this.B),c=this.wk(b)):0!=(f&d.fe)?(0!=(f&d.tc)?(a.x+=e*(this.A-a.y)/u,a.y=this.A):(a.x+=e*(this.B-a.y)/u,a.y=this.B),f=this.wk(a)):0!=c?(0!=(c&d.Bb)?(b.y+=u*(this.o-b.x)/e,b.x=this.o):(b.y+=u*(this.v-b.x)/
e,b.x=this.v),c=this.wk(b)):(0!=(f&d.Bb)?(a.y+=u*(this.o-a.x)/e,a.x=this.o):(a.y+=u*(this.v-a.x)/e,a.x=this.v),f=this.wk(a));if(0!=(c&f))return 0}while(0!=(c|f));return k};d.prototype.wk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};d.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};d.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};d.prototype.Zx=function(b){var a=0,c=0,f;f=this.o-
b.v;f>a&&(a=f);f=this.A-b.B;f>c&&(c=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.ZK=function(b){var a=0,c=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>c&&(c=f);f=b.x-this.v;f>a&&(a=f);f=b.y-this.B;f>c&&(c=f);return a*a+c*c};d.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};d.DO=function(b,a,c,f){var k=1;isNaN(b)||(k+=Math.abs(b));isNaN(a)||(k+=Math.abs(a));isNaN(c)||(k+=Math.abs(c));isNaN(f)||(k+=Math.abs(f));return 2.220446049250313E-14*k};d.Bb=1;d.tc=
4;d.bd=3;d.fe=12;return d}();e.h=d})(t||(t={}));(function(e){var d;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=
12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(d||(d={}));var g=function(){function b(a,c){this.Ci=a;this.pI=c}b.prototype.hs=function(a,c,b){this.Ci.EY(b,a,c,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();d=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new e.h;this.on=this.ck=this.dk=this.Qd=this.fg=this.Yd=
this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.ql()}b.prototype.cs=function(){this.ql();this.Bw=!0;null==this.Lb?(this.Uo=new e.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,c){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.ql();this.Aw=!0;null==this.Lb?(this.Uo=new e.ia(0),
this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.$E=function(a,c){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(c);this.Uo.add(a);this.Lb.push(b)};b.prototype.uG=function(){if(!this.Aw)throw e.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.ql();this.zw=!0;null==this.Ad?(this.Qw=new e.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.WE=
function(a,c){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(c);this.Qw.add(a);this.Ad.push(b)};b.prototype.tG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.rA();break;case 1:a=this.nU();break;case 2:a=this.kU();break;case 3:a=this.mU();break;case 4:a=this.OY();
break;case 5:a=this.KY();break;case 6:a=this.LY();break;case 7:a=this.MY();break;case 8:a=this.by();break;case 9:a=this.GC();break;case 10:a=this.DA();break;case 11:a=this.dV();break;case 12:a=this.aV();break;case 13:a=this.bV();break;case 14:a=this.cV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw e.g.za();}return this.Pc?!1:!0};b.prototype.zC=function(a){this.ta=a};b.prototype.fA=function(a){return this.Lb[a]};b.prototype.Jz=function(a){return this.Ad[a]};b.prototype.Ql=
function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.KB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.ql=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;this.Pc=!0};b.prototype.rA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];
this.Bd.zs(c.o,c.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.nU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();
this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};b.prototype.kU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var c=this.Ad[a];
this.If.zs(c.o,c.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return this.$J()};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));null==this.If&&(this.If=
new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var c=this.Lb[a];this.Bd.zs(c.o,c.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)c=this.Ad[a],this.If.zs(c.o,c.v);this.If.yq();this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;
this.nh=this.fg.size;-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.OY=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.eC(this.Lb[c].o,this.Lb[c].v,this.ta);this.sg=c;this.Zb=10;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=
13;return!0};b.prototype.LY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.MY=function(){var a=this.Yd.get(this.Ne-1),c=this.fg.get(this.nh-1),f=this.Ms(a,!0),k=this.Ms(c,!1);return f>k?this.by():f<k?this.GC():b.KB(a)?this.by():b.KB(c)?this.GC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),c=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(c)?(this.Qd.kd(this.eg,this.dk.get(c)),this.dk.set(c,
-1)):this.Bd.remove(c),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Qd.at(this.dg))for(a=this.Qd.xc(this.dg);-1!=a;){var f=this.Qd.getData(a);this.If.eh(f);this.ck.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.dg,a);a=f}0<this.If.size()?(this.ax.eC(this.Lb[c].o,this.Lb[c].v,this.ta),this.sg=c,this.Zb=12):(-1==this.eg&&(null==this.Qd&&(this.Qd=new e.Xp),this.dk=new e.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Qd.mi(1)),this.dk.set(c,
this.Qd.addElement(this.eg,c)),this.Zb=7);return!0};b.prototype.GC=function(){var a=this.fg.get(--this.nh),c=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(c)?(this.Qd.kd(this.dg,this.ck.get(c)),this.ck.set(c,-1)):this.If.remove(c),0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Qd.at(this.eg))for(a=this.Qd.xc(this.eg);-1!=a;){var f=this.Qd.getData(a);this.Bd.eh(f);this.dk.set(f,-1);f=this.Qd.nb(a);this.Qd.kd(this.eg,a);a=f}0<this.Bd.size()?(this.bp.eC(this.Ad[c].o,this.Ad[c].v,
this.ta),this.bg=c,this.Zb=11):(-1==this.dg&&(null==this.Qd&&(this.Qd=new e.Xp),this.ck=new e.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Qd.mi(0)),this.ck.set(c,this.Qd.addElement(this.dg,c)),this.Zb=7);return!0};b.prototype.DA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.dV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>
1;this.If.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.cV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);
return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Qd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Qd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,c,b){null==this.on&&(this.on=
new e.Hu);b=new g(this,b);this.on.sort(a,0,c,b)};b.prototype.EY=function(a,c,f,k){var e=this;a.Gd(c,f,function(a,c){var f=e.Ms(a,k),m=e.Ms(c,k);return f<m||f==m&&b.Gm(a)&&b.KB(c)?-1:1})};b.prototype.Ms=function(a,c){var f=.5*this.ta;if(c)return c=this.Lb[a>>1],f=b.Gm(a)?c.A-f:c.B+f;c=this.Ad[a>>1];return f=b.Gm(a)?c.A-f:c.B+f};return b}();e.gD=d})(t||(t={}));(function(e){var d=function(){function d(){}d.pa=function(b,a,c,f,k,e){var m=new d;m.o=b;m.A=a;m.Bf=c;m.v=f;m.B=k;m.$g=e;return m};d.prototype.Oa=
function(){this.Bf=this.o=NaN};d.prototype.u=function(){return isNaN(this.o)};d.prototype.RU=function(){return isNaN(this.Bf)};d.prototype.I=function(b,a,c,f,k,e){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.Bf=c,this.v=f,this.B=k,this.$g=e):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*c,this.B=this.A+c,this.Bf=b.z-.5*f,this.$g=this.Bf+f):(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c)};d.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;
this.$g+=b.z};d.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};d.prototype.ml=function(b,a,c){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>c?this.Bf=c:this.$g<c&&(this.$g=c):this.$g=this.Bf=c};d.prototype.Nb=function(b,a,c,f,k,m){if("number"===typeof b)f?(this.Nb(b,a,c),this.Nb(f,k,m)):this.u()?(this.o=b,this.A=a,this.Bf=c,this.v=b,this.B=a,this.$g=c):this.ml(b,a,c);else if(b instanceof e.qd)this.Nb(b.x,b.y,b.z);
else if(b instanceof d)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw e.g.F();};d.prototype.pa=function(b,a,c){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=c.ca,this.$g=c.ha)};d.prototype.QB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.qd(this.o,this.A,this.Bf);b[1]=new e.qd(this.o,this.B,this.Bf);b[2]=new e.qd(this.v,this.B,this.Bf);b[3]=new e.qd(this.v,this.A,this.Bf);b[4]=new e.qd(this.o,this.A,this.$g);b[5]=new e.qd(this.o,this.B,
this.$g);b[6]=new e.qd(this.v,this.B,this.$g);b[7]=new e.qd(this.v,this.A,this.$g)};d.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var c=b[a];this.ml(c.x,c.y,c.z)}}};return d}();e.eM=d})(t||(t={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.df=function(){var e=Error();e.message="Not Implemented";return e};e.vk=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";
return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.UN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.KL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.wd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.n_=function(e){e.message=
"UserCancelException";return e}})(e.g||(e.g={}))})(t||(t={}));(function(e){e=e.Om||(e.Om={});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(t||(t={}));(function(e){var d=function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.mc);var b=new e.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),g=function(){function a(a,
b,k){this.$a=a;this.ex=b;this.Mo=!1;this.So=k;this.Pw=[0];this.Uk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new e.Ja;this.Wk=[]}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Uk[0]=0;this.mB=this.Pw[0]=
0;this.Di=NaN;this.Mo=!1;for(var f=this.Wk.length=0,k=new e.b,m=new e.b,d=[0];this.Cd.Ea()&&8>this.mB;){var g=this.Cd.ba();k.L(g.ec());m.L(g.Cc());k.scale(this.$a.mc);m.scale(this.$a.mc);e.Ej.Bv(k,m)?k.x=m.x:e.Ej.zv(k,m)&&(m.x=k.x);this.Wk.length=0;e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,k,m,this.$a.wB,this.$a.Tt,d,this.gk,this.Ct,this.Wk,this.Pw);null!=this.So&&(g=this.Wk.slice(0),this.So.EH(this.So.aa()-1,g,g.length-1));e.Ej.Av(k,m)?(this.fr.Oa(),this.$a.Yy(k,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),
this.Mo=this.dz(d[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.pA()){this.Cd.Li();this.Cd.ba();break}this.Cd.AX();break}null==a&&(a=new e.Ja,a.Bl(null,0));this.eF(a);f++}this.Pw[0]=0;if(0<f){for(d=this.Cd.Db();0<f;)this.Cd.Li(),k.L(this.ex.Ba(this.Cd.Db())),m.L(this.ex.Ba(this.Cd.Jk())),k.scale(this.$a.mc),m.scale(this.$a.mc),this.Wl&&(e.Ej.Bv(k,m)?k.x=m.x:e.Ej.zv(k,m)&&(m.x=k.x)),this.Wk.length=0,e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,m,k,this.$a.wB,this.$a.Tt,null,this.gk,this.Ct,this.Wk,
this.Pw),this.eF(a),f--;k.L(this.ex.Ba(this.Cd.Db()));k.scale(this.$a.mc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,k,this.Di+1.570796326794897,this.Di+4.71238898038469,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN);this.Cd.Tb(d);this.Cd.ba();f=e.na.ah(null,a,!0);return a=e.Dg.ol(a,f,!0,!0,this.$a.lc)}this.Mo=!1;this.Cd.ba();a=e.T.oe(this.fr);return a=e.Dg.ol(a,this.$a.pr,!0,!0,this.$a.lc)};a.prototype.eF=function(a){var c=this.Wk[0],k,m=this.gk[0]-1.570796326794897,d=this.Ct[0]+1.570796326794897,g;
if(!isNaN(this.Di)){this.Di>=this.gk[0]?(k=this.Di+1.570796326794897,m=k+3.141592653589793-(this.Di-this.gk[0])):(k=this.Di+1.570796326794897,m=k+3.141592653589793-(6.283185307179586-(this.gk[0]-this.Di)));g=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var A=!1;if(Math.abs(m-k)<=.5*this.$a.Qo)if(g){var w=a.Ba(a.D()-2);w.scale(this.$a.mc);var h=new e.ea(0);e.mb.Gz(this.$a.Vb,this.$a.rc,c.x,c.y,w.x,w.y,h);for(w=h.j;w<=
k;)w+=6.283185307179586;for(;w>k;)w-=6.283185307179586;w<m&&(A=!0)}else A=!0;A?(a.dC(0,a.D()-1),this.Wl||(c=new e.b,c.L(a.Ba(a.D()-1)),c.scale(this.$a.mc),-3.141592653589793>c.x-this.Uk[0]?this.Uk[0]-=6.283185307179586:3.141592653589793<c.x-this.Uk[0]&&(this.Uk[0]+=6.283185307179586)),g||(m=.5*(m+k))):(g?(k=new e.b,k.L(c),k.scale(1/this.$a.mc),a.Zf(0,-1,k)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.mc,this.$a.vb,this.Wk[0],k,m,this.$a.Qo,this.Wl,this.Uk,a,NaN,NaN),this.mB+=1)}b.Xy(this.$a.Vb,this.$a.rc,
this.$a.mc,this.$a.vb,this.$a.$e,this.Wk,m,d,this.Wl,this.Uk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Wk,a,this.gk[0],this.Ct[0],this.Wl,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(c,b,k,m,d,g){if(null==c)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(c.u())return new e.Ja(c.description);var f=new a;f.mh=b;f.Qc=e.fb.kc(b);var u=e.fb.hw(f.Qc);f.lc=g;f.Vb=e.fb.Sv(f.Qc);f.rc=u*(2-u);f.mc=f.Qc.Nd().Ai;f.ta=f.mh.Bo();
f.pr=f.Qc.Bo();f.Tt=f.pr*f.mc;f.or=1.570796326794897/f.mc;f.E_=3.141592653589793/f.mc;f.Et=6.283185307179586/f.mc;f.F_=f.Et/6;f.rB=0;f.D_=1.5707963267948966*f.Vb/f.rB;4==k?(f.$e=2,f.Jw=!0):(f.$e=k,f.Jw=!1);f.Qa=m;f.vb=Math.abs(m);isNaN(d)||.001>d?f.tY():f.Po=d;k=c.G();e.T.Oc(k)?(k=new e.Ua(c.description),k.dc(c,!0),c=k,k=1607):197==k&&(k=new e.h,c.s(k),k.N()<=f.ta||k.fa()<=f.ta?(k=new e.Ua(c.description),k.jd(c,!1),c=k,k=1607):(k=new e.Ja(c.description),k.jd(c,!1),c=k,k=1736));f.uY();e.T.Jo(k)||f.vY();
if(f.vb<=.5*f.Po)return 1736!=k?new e.Ja(c.description):f.Jw?c:e.Ej.Ls(c,f.mh,f.$e,f.wB,-1,g);if(0>f.Qa&&1736!=k)return new e.Ja(c.description);f.Jw&&e.T.Ic(k)?(b=e.Ej.Ls(c,b,4,NaN,f.Po,g),c=e.fb.Xg(b,f.mh,f.Qc,g)):c=e.fb.Xg(c,f.mh,f.Qc,g);c=e.gi.Mj(c,f.Qc);if(c.u())return new e.Ja(c.description);!f.Jw&&e.T.Ic(k)&&(c=e.Ej.zJ(f.mc,c));c=a.nQ(c,f.Qc);switch(k){case 1736:g=f.YP(c);break;case 1607:g=f.ZP(c);break;case 550:g=f.WP(c);break;case 33:g=f.XP(c);break;default:throw e.g.X("corrupted_geometry");
}f=e.fb.Xg(g,f.Qc,f.mh,f.lc);f.om(c.description);return f};a.prototype.YP=function(a){var c=new e.Ja;a=new g(this,a,c);a=e.ei.local().V(a,this.Qc,this.lc).next();a=e.Vp.Nj(a,this.Qc,2);var b=new e.Hd;b.scale(1/this.mc,1/this.mc);c.Xc(b);c=e.Vp.Nj(c,this.Qc,2);return 0<=this.Qa?e.ei.local().V(c,a,this.Qc,this.lc):e.cq.local().V(c,a,this.Qc,this.lc)};a.prototype.ZP=function(a){a=new g(this,a,null);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=
new d(this,a);a=e.ei.local().V(a,this.Qc,this.lc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.XP=function(a){a=a.w();a.scale(this.mc);var c=new e.Ja;this.Yy(a,!1,c);return c=e.Vp.Nj(c,this.Qc,2)};a.prototype.dz=function(c,b,k,m,d,g){var f=c[0],u=c[c.length-1],C=f.y>u.y?f.y:u.y,w=e.C.q(this.Vb,this.rc,f.y<u.y?f.y:u.y),C=e.C.q(this.Vb,this.rc,C);if(.001<this.rB-(w+b+this.vb)&&.001<this.rB+(C-b-this.vb))return!1;b=k-1.570796326794897;k=m+1.570796326794897;var w=b-3.141592653589793,C=b+3.141592653589793,
h=k+3.141592653589793,l=[NaN],n=[NaN],p=[NaN],q=[NaN];m=!1;a.AD(this.Vb,this.rc,this.vb,f,b,w,u,k,l,n);a.AD(this.Vb,this.rc,this.vb,u,h,k,f,w,p,q);k<l[0]&&l[0]<h?m=!0:k<n[0]&&n[0]<h&&(m=!0);m||(w<p[0]&&p[0]<b?m=!0:w<q[0]&&q[0]<b&&(m=!0));if(!m&&d)return!1;for(var t=[],r=c.length-1;0<=r;r--)t.push(c[r]);g.Oa();g.Bl(null,0);r=[0];a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,c,b,k,d,r,g);a.Fs(this.Vb,this.rc,this.mc,this.vb,u,k,h,this.Qo,d,r,g,l[0],n[0]);a.Xy(this.Vb,this.rc,this.mc,this.vb,this.$e,
t,h,C,d,r,g);a.Fs(this.Vb,this.rc,this.mc,this.vb,f,w,b,this.Qo,d,r,g,p[0],q[0]);c=!1;d||(c=this.PF(this.mc,g));return m||c};a.prototype.Yy=function(c,b,k){k.Oa();k.Bl(null,0);a.Fs(this.Vb,this.rc,this.mc,this.vb,c,-this.Qo,6.283185307179586,this.Qo,b,[0],k,NaN,NaN);b||this.PF(this.mc,k)};a.prototype.PF=function(a,b){var c=this.zQ(a,b);a=this.AQ(a,b);return c||a};a.prototype.zQ=function(a,b){var c=b.D(),f=!1,d=new e.h;b.s(d);if(!e.l.W(d.B*a,1.570796326794897)&&!e.l.W(d.A*a,-1.570796326794897))return!1;
for(var g=new e.b,c=c-1;0<=c;c--)b.w(c,g),g.y==d.B&&e.l.W(g.y*a,1.570796326794897)?(f=!0,this.IJ(g,c,b)):g.y==d.A&&e.l.W(g.y*a,-1.570796326794897)&&(f=!0,this.IJ(g,c,b));return f};a.prototype.AQ=function(a,b){var c=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(c.x-f.x)*a?(this.OW(b),!0):this.yQ(b)};a.prototype.yQ=function(a){return 0>a.hf()?(this.NW(a),!0):!1};a.prototype.IJ=function(a,b,k){var c=k.D(),f=0<b?b-1:c-1,c=k.Ba(b<c-1?b+1:0),f=k.Ba(f);if(!e.l.W(c.y,a.y)&&!e.l.W(c.x,a.x)){var d=
new e.b;d.ka(c.x,a.y);k.rb(b,d)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(c=new e.b,c.ka(f.x,a.y),k.Zf(0,b,c))};a.prototype.OW=function(a){var c=new e.Ja,b=new e.Ja,m=new e.Hd,d=a.Ba(0),g=a.Ba(a.D()-1),A=new e.b;d.x>g.x?(g=this.or,m.Ag(-this.Et,0)):(g=-this.or,m.Ag(this.Et,0));c.add(a,!1);a.Oa();b.add(c,!1);b.Xc(m);d=new e.h;b.s(d);d.O((this.Et-d.N())/2,0);d.A=-this.or;d.B=this.or;for(var w=0;w<b.D();w++)b.w(w,A),c.Zf(0,-1,A);b.Xc(m);for(w=0;w<b.D();w++)b.w(w,A),c.Zf(0,-1,A);b=c.Ba(0);m=c.Ba(c.D()-1);A.ka(m.x,
g);c.Zf(0,-1,A);A.ka(.5*(m.x+b.x),g);c.Zf(0,-1,A);A.ka(b.x,g);c.Zf(0,-1,A);c=e.gi.ht(c,this.Qc,2,!0,d.o);c=e.gi.ht(c,this.Qc,2,!0,d.v);c=e.ne.clip(c,d,this.pr,NaN);a.add(c,!1)};a.prototype.NW=function(a){var c=new e.h;a.s(c);c.O((this.Et-c.N())/2,0);c.A=-this.or;c.B=this.or;a.Bl(null,0);var b=new e.b;b.ka(c.o,c.A);a.Zf(1,-1,b);b.ka(c.o,c.B);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.B);a.Zf(1,-1,b);b.ka(c.v,c.B);a.Zf(1,-1,b);b.ka(c.v,c.A);a.Zf(1,-1,b);b.ka(.5*(c.o+c.v),c.A);a.Zf(1,-1,b)};a.Xy=function(c,b,
k,m,d,g,A,w,h,l,n){var f=null;h||(f=new e.b,f.$c(),0<n.D()&&(f.L(n.Ba(n.D()-1)),f.scale(k)));var u=new e.ea(0),C=new e.ea(0),p=new e.ea(0),q=new e.b,t=new e.b,L=g[g.length-1];k=1/k;for(var r=0;r<g.length;r++){var U=g[r],v;0==r?v=A:r==g.length-1?v=w:(e.mb.Ld(c,b,L.x,L.y,U.x,U.y,null,null,u,d),v=u.j-1.570796326794897);e.mb.Xi(c,b,U.x,U.y,m,v,C,p);h?t.ka(C.j,p.j):(q.ka(C.j,p.j),a.MF(U.x,q.x,f.x,l),t.ka(l[0]+q.x,q.y),f.L(t));t.scale(k);n.Zf(0,-1,t)}};a.Fs=function(c,b,k,m,d,g,A,w,h,l,n,p,q){if(!(A-g<
w)){var f=new e.ea(0),u=new e.ea(0),C=new e.b,t=new e.b,L=null;h||(L=new e.b,L.$c(),0<n.D()&&(L.L(n.Ba(n.D()-1)),L.scale(k)));var r=e.J.truncate(Math.ceil(g/w)),U=r++*w;U==g&&(U=r++*w);for(k=1/k;U<A+w;){g<p&&p<U?(U=p,r--):g<q&&q<U&&(U=q,r--);if(U>=A)break;e.mb.Xi(c,b,d.x,d.y,m,U,f,u);h?t.ka(f.j,u.j):(C.ka(f.j,u.j),a.MF(d.x,C.x,L.x,l),t.ka(l[0]+C.x,C.y),L.L(t));t.scale(k);n.Zf(0,-1,t);g=U;U=r++*w}}};a.AD=function(a,b,k,m,d,g,A,w,h,l){var c=new e.b,f=new e.b,u=new e.ea(0),C=new e.ea(0);e.mb.Xi(a,b,
m.x,m.y,k,d,u,C);c.ka(u.j,C.j);e.mb.Xi(a,b,m.x,m.y,k,g,u,C);f.ka(u.j,C.j);k=new e.ea(0);e.mb.Gz(a,b,A.x,A.y,c.x,c.y,k);h[0]=k.j;e.mb.Gz(a,b,A.x,A.y,f.x,f.y,k);for(l[0]=k.j;h[0]<=l[0];)h[0]+=6.283185307179586;for(;h[0]>l[0];)h[0]-=6.283185307179586;for(;h[0]>=w;)h[0]-=6.283185307179586,l[0]-=6.283185307179586;for(;h[0]<w;)h[0]+=6.283185307179586,l[0]+=6.283185307179586};a.MF=function(a,b,k,e){if(isNaN(k)){for(;3.141592653589793<e[0]+b-a;)e[0]-=6.283185307179586;for(;3.141592653589793<a-(e[0]+b);)e[0]+=
6.283185307179586}else 3.141592653589793<e[0]+b-k?e[0]-=6.283185307179586:3.141592653589793<k-(e[0]+b)&&(e[0]+=6.283185307179586)};a.nQ=function(a,b){var c=a.G(),f;e.T.Ic(c)?f=a.aa():550==c?f=a.D():f=1;if(1==f)return a;var d=new e.ia(0);d.resize(f);for(var g=[],A=new e.h,w=0;w<f;w++){d.write(w,w);var h;e.T.Ic(c)?(a.jk(w,A),h=A.Wf()):h=a.Ba(w);h=e.tM.UY(b,h);g[w]=h}d.Gd(0,d.size,function(a,c){return g[a]<g[c]?-1:g[a]>g[c]?1:0});A=a.Ka();for(w=0;w<f;w++)h=d.read(w),e.T.Ic(c)?A.Ti(a,h,!0):A.Id(a,h,h+
1);return A};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ka(0,10*this.mc);var k=45*this.mc,m=new e.ea(0),d=new e.ea(0),g=new e.ea(0),w=new e.ea(0),h=new e.ea(0),l=new e.ea(0),n=new e.ea(0),p=new e.ea(0),q=new e.b,t=new e.b,r=new e.b,v=new e.b;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,m,d);q.ka(m.j,d.j);e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,w);t.ka(g.j,w.j);for(var m=new e.ea(0),d=new e.ea(0),x=new e.ea(0);;){e.mb.Xi(this.Vb,
this.rc,b.x,b.y,a,.5*(0+k),h,l);r.ka(h.j,l.j);e.mb.Ld(this.Vb,this.rc,q.x,q.y,t.x,t.y,m,d,null,2);e.mb.Oj(this.Vb,this.rc,q.x,q.y,.5*m.j,d.j,n,p,2);v.ka(n.j,p.j);e.mb.Ld(this.Vb,this.rc,r.x,r.y,v.x,v.y,x,null,null,2);if(x.j<=this.Po)break;k*=.9;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,w);t.ka(g.j,w.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(k-0))};a.prototype.vY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,k=new e.b;
b.ka(0,10*this.mc);k.ka(10*this.mc,10*this.mc);var m=new e.ea(0),d=new e.ea(0),g=new e.ea(0);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,g,m,d,this.$e);var w=new e.ea(0),h=new e.ea(0),l=new e.ea(0),n=new e.ea(0),p=new e.b,q=new e.ea(0),t=new e.ea(0),r=new e.ea(0),v=new e.ea(0),x=new e.ea(0),z=new e.ea(0),G=new e.ea(0),y=new e.ea(0),B=new e.ea(0),E=new e.b,D=new e.b,H=new e.b,I=new e.b,J=1,m=m.j,d=d.j+1.570796326794897,g=g.j;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,m-1.570796326794897,t,r);E.ka(t.j,r.j);e.mb.Xi(this.Vb,
this.rc,k.x,k.y,a,d,v,x);D.ka(v.j,x.j);for(var t=new e.ea(0),r=new e.ea(0),d=new e.ea(0),F=new e.ea(0);;){e.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+J)*g,m,w,h,this.$e);p.ka(w.j,h.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,p.x,p.y,null,null,q,this.$e);e.mb.Xi(this.Vb,this.rc,p.x,p.y,a,q.j+1.570796326794897,z,G);H.ka(z.j,G.j);e.mb.Ld(this.Vb,this.rc,E.x,E.y,D.x,D.y,t,r,null,2);e.mb.Oj(this.Vb,this.rc,E.x,E.y,.5*t.j,r.j,y,B,2);I.ka(y.j,B.j);e.mb.Ld(this.Vb,this.rc,H.x,H.y,I.x,I.y,d,null,null,2);if(d.j<=this.Po)break;
J*=.9;e.mb.Oj(this.Vb,this.rc,b.x,b.y,J*g,m,l,n,this.$e);k.ka(l.j,n.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,null,null,F,this.$e);e.mb.Xi(this.Vb,this.rc,k.x,k.y,a,F.j+1.570796326794897,v,x);D.ka(v.j,x.j)}a=J*g;1E5<a&&(a=1E5);this.wB=a};a.prototype.tY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();e.sM=b})(t||(t={}));(function(e){var d=function(){function d(){}d.tc=function(b,a){var c=new e.b;c.L(a);b.push(c)};d.rk=function(b,
a){b.add(a.x);b.add(a.y)};d.ZC=function(b){b.yf(b.size-2)};d.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};d.Ls=function(b,a,c,f,k,m){if(null==b)throw e.g.F();var u=b.G();if(b.u()||e.T.Jo(u))return b;var g=new d;g.mh=a;g.Qc=e.fb.kc(a);var A=e.fb.hw(g.Qc);g.lc=m;g.Vb=e.fb.Sv(g.Qc);g.rc=A*(2-A);g.mc=g.Qc.Nd().Ai;g.pr=g.Qc.Bo();g.Tt=g.pr*g.mc;g.hB=f;g.gB=k;g.$e=c;197==u?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(u)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;if(4!=g.$e){a=0==g.mh.Eb(g.Qc)?
e.fb.Xg(c,g.mh,g.Qc,m):e.gi.Mj(c,g.Qc);if(a.u())return a;a=d.zJ(g.mc,a);a=g.Hz(a);a=e.Vp.Nj(a,g.Qc,g.$e);g=e.fb.Xg(a,g.Qc,g.mh,m)}else{2==e.Sd.Fb(a)?(b=e.fb.Mk(a),m=e.tk.local().V(c,b,a,m),m==b&&(m=new e.Ja,b.copyTo(m))):m=e.gi.Mj(c,g.Qc);a=m;if(a.u())return a;g=g.xY(a)}return g};d.zJ=function(b,a){var c=new e.h;a.ac(c);if(3.141592653589793>c.N()*b)return a;for(var f=!1,c=a.Fa(),k=new e.b,m=new e.b;c.Ya();)for(;c.Ea();){var u=c.ba();k.L(u.ec());m.L(u.Cc());k.scale(b);m.scale(b);if(3.141592653589793<
Math.abs(k.x-m.x)){var g=d.Av(k,m);if(!g){f=!0;break}if(6.283185307179586<Math.abs(k.x-m.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),A=1<a.description.Ga,h=new e.b,w=new e.b,l=new e.b,n=new e.b,p=new e.Wa;for(c.yj();c.Ya();)for(var q=NaN,t=[0];c.Ea();){u=c.ba();k.L(u.ec());m.L(u.Cc());k.scale(b);m.scale(b);isNaN(q)?(d.fe(k.x,NaN,t),w.L(k)):w.L(l);q=w.x;if(g=d.Av(k,m)){if(6.283185307179586<m.x-k.x)for(;6.283185307179586<m.x-k.x;)m.x-=6.283185307179586;if(-6.283185307179586>m.x-k.x)for(;-6.283185307179586>
m.x-k.x;)m.x+=6.283185307179586;d.fe(m.x,NaN,t);l.L(m)}else h.L(m),d.WM(h),d.fe(h.x,q,t),l.ka(t[0]+h.x,h.y);.5>Math.abs(l.x-m.x)&&l.L(m);A?(u.Fx(0,p),n.L(w),n.scale(1/b),p.rb(n),(g=c.jn())?f.Rf(p):f.lineTo(p),c.Io()&&!a.Qb(c.Ta)&&(u.Fx(1,p),n.L(l),n.scale(1/b),p.rb(n),f.lineTo(p))):((g=c.jn())&&f.sA(null,0),u=f.aa()-1,n.L(w),n.scale(1/b),f.Zf(u,-1,n),c.Io()&&!a.Qb(c.Ta)&&(n.L(l),n.scale(1/b),f.Zf(u,-1,n)))}return f};d.GG=function(b,a,c,f,k,m,u,g,A,h,w,l){var C=new e.b,n=new e.b,p=0<f.compare(k);d.rF(p,
f,k,C,n);d.wG(b,a,c,C,n,m,NaN,u,g,A,h,null,w,l);p&&d.qy(A,h,null,w)};d.prototype.Hz=function(b){var a=b.Ka(),c=b.Fa(),f=[],k=null,m=null,u=1<b.description.Ga;u&&(k=new e.Rd(0),m=new e.Cg);for(var g=[0],A=new e.b,h=new e.b,w=new e.b,l=new e.b;c.Ya();)for(g[0]=0;c.Ea();){var n=c.ba();A.L(n.ec());h.L(n.Cc());A.scale(this.mc);h.scale(this.mc);var p=0<A.compare(h);d.rF(p,A,h,w,l);f.length=0;null!=k&&k.yf(0);0<this.hB?d.wG(this.Vb,this.rc,this.$e,w,l,this.hB,this.gB,this.Tt,null,null,null,u?k:null,f,g):
d.SV(this.Vb,this.rc,this.$e,w,l,this.gB,this.Tt,u?k:null,f,g);p&&d.qy(null,null,u?k:null,f);f[0].L(n.ec());f[f.length-1].L(n.Cc());for(var q=1;q<f.length-1;q++)f[q].scale(1/this.mc);u?(p=d.TE(p,n,m),d.jE(c.jn(),c.Io()&&!b.Qb(c.Ta),n,p,k,f,a)):d.hE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.prototype.xY=function(b){var a=b.Ka(),c=b.Fa(),f=[],k=null,m=new e.Cg,u=1<b.description.Ga;for(u&&(k=new e.Rd(0));c.Ya();)for(;c.Ea();){var g=c.ba(),A=g.ec(),h=g.Cc(),A=0<A.compare(h),h=d.TE(A,g,m);f.length=0;
null!=k&&k.yf(0);d.GL(this.Vb,this.rc,this.mc,h,this.mh,this.hB,this.gB,u?k:null,f);A&&d.qy(null,null,u?k:null,f);u?d.jE(c.jn(),c.Io()&&!b.Qb(c.Ta),g,h,k,f,a):d.hE(c.jn(),c.Io()&&!b.Qb(c.Ta),f,a)}return a};d.hE=function(b,a,c,f){b&&f.sA(null,0);b=f.aa()-1;var k=c.slice(0);f.EH(b,k,k.length-1);a&&f.Zf(b,-1,c[c.length-1])};d.jE=function(b,a,c,f,k,m,d){var u=new e.Wa;c.Dp(u);b?d.Rf(u):d.lineTo(u);if(2<m.length){b=f.Rb();for(var g=1;g<m.length-1;g++){var h=f.bI(k.get(g)*b);f.Fx(h,u);u.rb(m[g]);d.lineTo(u)}}a&&
(c.Bp(u),d.lineTo(u))};d.wG=function(b,a,c,f,k,m,u,g,A,h,w,l,n,p){var C=new e.ea(0),q=new e.ea(0),t=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,t,C,q,c);var t=t.j,L=C=C.j,q=q.j;0>L&&(L+=6.283185307179586);0>q&&(q+=6.283185307179586);null!=A&&(A[0]=t);null!=h&&(h[0]=L);null!=w&&(w[0]=q);h=A=NaN;null!=l&&(h=e.C.Yg(b,a),w=e.C.q(b,a,f.y),A=(h-w)/t,h=(h+w)/t);w=d.Bv(f,k);var q=d.zv(f,k),L=w||q,r=d.uE(f,k,g),U=new e.ea(0),v=new e.ea(0),x=new e.b,W=new e.b,z=new e.b;d.fe(f.x,NaN,p);var da=[p[0]];if(t<=m)d.tc(n,
f),d.fe(k.x,NaN,p),null!=l&&l.add(0),L?(w&&d.my(f,k,l,n),q&&d.iy(f,k,l,n)):r?d.ly(f,k,C,A,h,l,n):0<u&&(W.ka(f.x-da[0],f.y),x.ka(k.x-p[0],k.y),d.GA(b,a,c,f,t,C,W,x,0,1,u,l,n,da)),d.tc(n,k);else{m=1+e.J.truncate(Math.ceil(t/m));var G=t/(m-1),y=new e.b,fa=0;d.tc(n,f);y.L(f);W.ka(f.x-p[0],f.y);null!=l&&l.add(0);for(var B=1;B<m;B++){var E;B<m-1?(e.mb.Oj(b,a,f.x,f.y,B*G,C,U,v,c),x.ka(U.j,v.j),d.fe(x.x,y.x,p),z.ka(p[0]+x.x,x.y),E=B/(m-1)):(d.fe(k.x,NaN,p),x.ka(k.x-p[0],k.y),z.L(k),E=1);L?(1==B&&w&&d.my(f,
z,l,n),B==m-1&&q&&d.iy(y,k,l,n)):r?d.sE(y,z,g)&&(f.x<k.x?y.x>z.x&&(p[0]+=6.283185307179586,z.ka(p[0]+x.x,x.y)):y.x<z.x&&(p[0]-=6.283185307179586,z.ka(p[0]+x.x,x.y)),d.ly(y,z,C,A,h,l,n)):0<u&&d.GA(b,a,c,f,t,C,W,x,fa,E,u,l,n,da);d.tc(n,z);null!=l&&l.add(E);y.L(z);W.L(x);da[0]=p[0];fa=E}}};d.SV=function(b,a,c,f,k,m,u,g,A,h){var C=new e.ea(0),w=new e.ea(0),l=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,l,C,w,c);var w=l.j,C=C.j,n=l=NaN;if(null!=g)var n=e.C.Yg(b,a),p=e.C.q(b,a,f.y),l=(n-p)/w,n=(n+p)/w;var p=
d.Bv(f,k),q=d.zv(f,k),t=p||q;u=d.uE(f,k,u);var L=d.Av(f,k),L=t||u||L;d.fe(f.x,NaN,h);var r=new e.b;d.tc(A,f);r.L(f);null!=g&&g.add(0);L?(t?(p&&d.my(f,k,g,A),q&&d.iy(f,k,g,A)):u&&d.ly(f,k,C,l,n,g,A),d.fe(k.x,NaN,h),d.tc(A,k)):w<=m?(d.fe(k.x,NaN,h),d.tc(A,k)):(l=new e.b,u=new e.b,l.L(f),u.L(k),l.x-=h[0],u.x-=h[0],-3.141592653589793>u.x?u.x+=6.283185307179586:3.141592653589793<u.x&&(u.x-=6.283185307179586),d.GA(b,a,c,f,w,C,l,u,0,1,m,g,A,h),d.tc(A,k),d.fe(k.x,NaN,h));null!=g&&g.add(1)};d.GA=function(b,
a,c,f,k,m,u,g,A,h,w,l,n,p){var C=new e.b,q=new e.b;C.ka(u.x+p[0],u.y);new e.ea(0);new e.ea(0);new e.ea(0);new e.ea(0);var t=new e.ea(0),L=new e.ea(0),r=new e.ea(0),U=new e.b,v=new e.b,x=new e.b,W=new e.b;U.L(u);v.L(g);u=new e.Rd(0);g=new e.Rd(0);d.rk(u,v);g.add(h);var z=new e.b,G=new e.Hb,da=[];for(d.sG(4,da);0<u.size;){for(var y=!1,fa,B=NaN,E=0;3>E;E++)if(fa=da[E]*h+(1-da[E])*A,e.mb.Oj(b,a,f.x,f.y,fa*k,m,t,L,c),x.ka(t.j,L.j),0==E&&(B=fa,W.L(x)),d.yO(U,x,v,G),G.gc(G.pe(x,!0),z),e.mb.Ld(b,a,x.x,x.y,
z.x,z.y,r,null,null,2),r.j>w){y=!0;break}y?(v.L(W),h=B,d.rk(u,v),g.add(h)):(d.ZC(u),g.Fk(g.size-1,1,g.size-1),0<u.size&&(d.fe(v.x,C.x,p),q.ka(p[0]+v.x,v.y),d.tc(n,q),C.L(q),null!=l&&l.add(h),U.L(v),A=h,d.oy(u,v),h=g.get(g.size-1)))}};d.GL=function(b,a,c,f,k,m,u,g,A){var C=new e.b,h=new e.b,w=new e.b,l=new e.b,n=new e.b,p=new e.b,q=new e.b,t=new e.b,r=new e.b,v=new e.b,x=new e.ea(0),z=new e.ea(0),G=new e.b,y=[[],[]],B=1==e.Sd.Fb(k);k=k.re(0);var E=f.ec(),D=f.Cc();B?(p.ka(E.x*c,E.y*c),q.ka(D.x*c,D.y*
c)):(y[0][0]=E.x,y[0][1]=E.y,y[1][0]=D.x,y[1][1]=D.y,e.fb.lu(),p.x=y[0][0]*c,p.y=y[0][1]*c,q.x=y[1][0]*c,q.y=y[1][1]*c);var H=0,I=0,J=1,F=f.Go();C.L(E);h.L(D);var D=new e.Rd(0),M=new e.Rd(0),Q=new e.Rd(0);d.rk(D,h);d.rk(M,q);Q.add(J);d.tc(A,C);null!=g&&g.add(I);var R=[],K;K=0<u?F?5:3:F?5:1;d.sG(K,R);for(var O=new e.ea(0),P=new e.ea(0),N=new e.ea(0),Y=new e.ea(0),V=new e.ea(0),T=new e.ea(0),S=new e.ea(0);0<M.size;){var Z=!1,X,aa=NaN;e.mb.Ld(b,a,p.x,p.y,q.x,q.y,O,P,null,2);for(E=0;E<K;E++){if(0==E){if(!F&&
0>=u&&O.j<=m&&3.141592653589793>Math.abs(p.x-q.x))break;if(f.Dy(I,J)<=k)break}X=R[E]*J+(1-R[E])*I;f.gc(X,w);B?t.ka(w.x*c,w.y*c):(y[0][0]=w.x,y[0][1]=w.y,e.fb.lu(),t.x=y[0][0]*c,t.y=y[0][1]*c);if(0==E&&(aa=X,n.L(w),v.L(t),0<m&&(O.j>m||3.141592653589793<=Math.abs(p.x-q.x)))){Z=!0;break}if(F&&0<m){if(e.mb.Ld(b,a,p.x,p.y,t.x,t.y,N,null,null,2),N.j>m||3.141592653589793<=Math.abs(p.x-t.x)){Z=!0;break}}else if(0<u)if(F?(l.JU(C,h,R[E]),B?r.ka(l.x*c,l.y*c):(y[0][0]=l.x,y[0][1]=l.y,e.fb.lu(),r.x=y[0][0]*c,
r.y=y[0][1]*c)):(l.L(w),r.L(t)),e.mb.Ld(b,a,p.x,p.y,r.x,r.y,Y,null,null,2),Y.j<=O.j){e.mb.Oj(b,a,p.x,p.y,Y.j,P.j,x,z,2);G.ka(x.j,z.j);e.mb.Ld(b,a,G.x,G.y,t.x,t.y,V,null,null,2);if(V.j>u){Z=!0;break}if(F){e.mb.Ld(b,a,G.x,G.y,r.x,r.y,T,null,null,2);if(T.j>u){Z=!0;break}e.mb.Ld(b,a,r.x,r.y,t.x,t.y,S,null,null,2);if(S.j>u){Z=!0;break}}}else{Z=!0;break}}Z?(h.L(n),q.L(v),J=aa,d.rk(D,h),d.rk(M,q),Q.add(J)):(d.ZC(D),d.ZC(M),Q.Fk(Q.size-1,1,Q.size-1),d.tc(A,h),H+=O.j,null!=g&&g.add(H),0<M.size&&(C.L(h),p.L(q),
I=J,d.oy(D,h),d.oy(M,q),J=Q.get(Q.size-1)))}if(null!=g)for(b=1/H,E=0;E<g.size;E++)g.write(E,g.read(E)*b)};d.qy=function(b,a,c,f){f.reverse();null!=c&&c.Zd(0,c.size,1);c=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=c)};d.rF=function(b,a,c,f,k){b?(f.L(c),k.L(a)):(f.L(a),k.L(c))};d.TE=function(b,a,c){if(!b)return a;c.create(a.G());a.copyTo(c.get());c.get().reverse();return c.get()};d.fe=function(b,a,c){if(isNaN(a)){for(;3.141592653589793<c[0]-b;)c[0]-=6.283185307179586;for(;3.141592653589793<
b-c[0];)c[0]+=6.283185307179586}else 3.141592653589793<c[0]+b-a?c[0]-=6.283185307179586:3.141592653589793<a-(c[0]+b)&&(c[0]+=6.283185307179586)};d.yO=function(b,a,c,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Mc(b),3.141592653589793<=c.x-b.x?f.vm(c.x-6.283185307179586,c.y):3.141592653589793<=b.x-c.x?f.vm(c.x+6.283185307179586,c.y):f.vm(c.x,c.y)):(f.Mc(c),3.141592653589793<=b.x-c.x?f.vm(b.x-6.283185307179586,b.y):3.141592653589793<=c.x-b.x?f.vm(b.x+6.283185307179586,b.y):f.vm(b.x,b.y))};d.sG=function(b,
a){for(var c=0;c<b;c++){var f=Math.ceil(c/2)/(b+1);0!=c%2&&(f=-f);a[c]=.5+f}};d.Bv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};d.zv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};d.uE=function(b,a,c){return!d.sE(b,a,c)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||e.l.W(a.y,
1.570796326794897)||e.l.W(a.y,-1.570796326794897)?!1:!0};d.sE=function(b,a,c){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=c?!0:!1};d.Av=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};d.my=function(b,a,c,f){if(0<b.y){var k=new e.b;k.ka(a.x,1.570796326794897)}else k=new e.b,k.ka(a.x,-1.570796326794897);e.l.W(b.x,k.x)||e.l.W(a.y,k.y)||(d.tc(f,k),null!=c&&c.add(0))};d.iy=function(b,a,c,f){if(0<
a.y){var k=new e.b;k.ka(b.x,1.570796326794897)}else k=new e.b,k.ka(b.x,-1.570796326794897);e.l.W(a.x,k.x)||e.l.W(b.y,k.y)||(d.tc(f,k),null!=c&&c.add(1))};d.ly=function(b,a,c,f,k,m,u){e.l.xd(c)?(0<1.570796326794897-b.y&&(c=new e.b,c.ka(b.x,1.570796326794897),d.tc(u,c),null!=m&&m.add(f)),0<1.570796326794897-a.y&&(c=new e.b,c.ka(a.x,1.570796326794897),d.tc(u,c),null!=m&&m.add(f))):(0<1.570796326794897+b.y&&(c=new e.b,c.ka(b.x,-1.570796326794897),d.tc(u,c),null!=m&&m.add(k)),0<1.570796326794897+a.y&&
(c=new e.b,c.ka(a.x,-1.570796326794897),d.tc(u,c),null!=m&&m.add(k)))};d.WM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return d}();e.Ej=d})(t||(t={}));(function(e){var d=function(){function d(){}d.Nj=function(b,a,c){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=b,k=f.G();if(e.T.Ic(k)){f=e.gi.Mj(b,a);b=new e.h;f.s(b);for(var k=e.na.be(a,b,!1),m=e.fb.Bh(a),
u=Math.floor((b.o-m.o)/m.N())*m.N()+m.o;u<b.v;)u>b.o+k&&u<b.v-k&&(f=e.gi.ht(f,a,c,!0,u)),u+=m.N()}else{if(197==k)return b=new e.Ja(f.description),b.jd(f,!1),d.Nj(b,a,c);if(e.T.Oc(k))return b=new e.Ua(f.description),b.dc(f,!0),d.Nj(b,a,c)}return d.kV(f,a)};d.kV=function(b,a){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var c;c=b.G();197==c?(c=new e.Ja(b.description),c.jd(b,!1)):e.T.Oc(c)?(c=new e.Ua(b.description),c.dc(b,!0)):c=b;c=e.gi.Mj(c,a);return c.u()?c:1==e.Sd.Fb(a)?e.gi.Xm(c,
a,0,c!=b,0):d.eV(c,a,c!=b)};d.eV=function(b,a,c){if(!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=e.fb.ee(a),k=0-180*f,f=360*f;2==e.Sd.Fb(a)&&(k=e.fb.Bh(a),f=k.v,k=k.o,f-=k);return e.gi.Aq(b,k,f,a,c,0,!0)};return d}();e.Vp=d})(t||(t={}));(function(e){var d=function(){function d(){}d.gV=function(b,a){var c=Math.abs(b%a);return isNaN(c)||c==b||c<=Math.abs(a)/2?c:0>b?-1*(c-a):0<b?1*(c-a):0*(c-a)};d.K=function(b){return 0>b?-b:b};d.Ab=function(b,a){return 0<=a?d.K(b):-d.K(b)};d.W=function(b,a){return b==
a||d.K(b-a)<=d.hD*(1+(d.K(b)+d.K(a))/2)};d.xd=function(b){return 0==b||d.K(b)<=d.hD};d.Fu=function(b){b=d.gV(b,d.nA);return d.K(b)<=d.Oi?b:0>b?b+d.nA:b-d.nA};d.LB=function(b,a){b.j=d.Fu(b.j);a.j=d.Fu(a.j);d.K(a.j)>d.ss&&(b.j=d.Fu(b.j+d.Oi),a.j=d.Ab(d.Oi,a.j)-a.j)};d.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var c=a*a;return b/(1+a)*(1+c*(.25+c*(.015625+1/256*c)))*d.ss};d.TS=function(b,a,c,f,k){var m,u,g,A,h,l,w,n=0,p=l=0,q=0,t=0,r=0;h=0;var v,x,z;w=0;var G,y,B;z=new e.ea;m=new e.ea;if(null!=
k)if(z.j=b,m.j=a,d.LB(z,m),b=z.j,a=m.j,z.j=c,m.j=f,d.LB(z,m),c=z.j,f=m.j,c=d.Fu(c-b),d.W(a,f)&&(d.xd(c)||d.W(d.K(a),d.ss)))null!=k&&(k.j=0);else{if(d.W(a,-f)){if(d.W(d.K(a),d.ss)){null!=k&&(k.j=2*d.Yg(6378137,.0066943799901413165));return}if(d.W(d.K(c),d.Oi)){null!=k&&(k.j=2*d.Yg(6378137,.0066943799901413165));return}}if(d.xd(.0066943799901413165))t=Math.cos(a),r=Math.cos(f),null!=k&&(n=Math.sin((f-a)/2),l=Math.sin(c/2),w=2*Math.asin(Math.sqrt(n*n+t*r*l*l)),k.j=6378137*w);else{z=1-Math.sqrt(.9933056200098587);
b=1-z;m=Math.atan(b*Math.tan(a));a=Math.sin(m);m=Math.cos(m);u=Math.atan(b*Math.tan(f));f=Math.sin(u);u=Math.cos(u);A=g=c;y=0;B=1;G=c;for(x=!0;1==x;)y+=1,1==B&&(h=Math.sin(G),l=Math.cos(G),n=u*h,w=m*f-a*u*l,n=Math.sqrt(n*n+w*w),l=a*f+m*u*l,w=Math.atan2(n,l),p=1E-15>d.K(n)?m*u*h/d.Ab(1E-15,n):m*u*h/n,q=1-p*p,t=1E-15>d.K(q)?l-a*f/d.Ab(1E-15,q)*2:l-a*f/q*2,r=t*t,h=((-3*q+4)*z+4)*q*z/16),v=(1-h)*z*(w+h*n*(t+l*h*(2*r-1))),1==B?(G=c+v*p,1E-14>d.K(G-A)?x=!1:d.K(G)>d.Oi?(B=2,G=d.Oi,0>c&&(G=-G),p=0,q=1,g=
A=2,w=d.Oi-d.K(Math.atan(a/m)+Math.atan(f/u)),n=Math.sin(w),l=Math.cos(w),h=((-3*q+4)*z+4)*q*z/16,1E-14>d.K(p-g)?x=!1:(t=1E-15>d.K(q)?l-a*f/d.Ab(1E-15,q)*2:l-a*f/q*2,r=t*t)):(0>(G-A)*(A-g)&&5<y&&(G=(2*G+3*A+g)/6),g=A,A=G)):(p=(G-c)/v,0>(p-A)*(A-g)&&5<y&&(p=(2*p+3*A+g)/6),g=A,A=p,q=1-p*p,h=p*n/(m*u),l=-Math.sqrt(d.K(1-h*h)),G=Math.atan2(h,l),n=u*h,w=m*f-a*u*l,n=Math.sqrt(n*n+w*w),l=a*f+m*u*l,w=Math.atan2(n,l),h=((-3*q+4)*z+4)*q*z/16,1E-14>d.K(p-g)?x=!1:(t=1E-15>d.K(q)?l-a*f/d.Ab(1E-15,q)*2:l-a*f/q*
2,r=t*t));null!=k&&(p=Math.sqrt(1+(1/(b*b)-1)*q),p=(p-1)/(p+1),q=p*(1-.375*p*p),k.j=(1+p*p/4)/(1-p)*b*6378137*(w-q*n*(t+q/4*(l*(-1+2*r)-q/6*t*(-3+4*n*n)*(-3+4*r)))))}}};d.Oi=3.141592653589793;d.ss=1.5707963267948966;d.nA=6.283185307179586;d.hD=3.552713678800501E-15;return d}();e.qM=d})(t||(t={}));(function(e){var d=function(){return function(b){this.ue=b;this.ll=this.ue.getCode();0>this.ll&&(this.ll=0)}}();e.SZ=d;var g=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&
(this.Kh=new d(a))}b.prototype.yc=function(){return null!=this.Kh?this.Kh.ll:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ue:null};b.prototype.BK=function(a){if(0>=a)throw e.g.F();if(a!=this.yc()){a=e.Tf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Kh=
new d(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ue.toString()};b.prototype.getName=function(){if(null==this.Kh||null==this.Kh.ue)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ue.getName()};b.prototype.pY=function(a){if(null==a)throw e.g.F();var c=null;try{c=e.Tf.fromString(e.Vc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Kh=new d(c)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.yc()||this.yc()!=a.yc())||this.cn().isEqual(a.cn()))?this.nn==
a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,c){var f=new b;f.BK(a);c&&f.kt();return f};b.gG=function(a,c){var f=new b;f.pY(a);c&&f.kt();return f};return b}();e.io=g})(t||(t={}));(function(e){var d=function(){function b(){}b.pa=function(a,c,f,k){var e=new b;e.vn=a;e.wn=c;e.MI=f;e.NI=k;return e};b.Hs=function(a,c){return a.vn==c.vn?a.wn==c.wn?0:a.wn<c.wn?-1:1:a.vn<c.vn?-1:1};return b}(),
g=function(){function b(){this.Hw=!1;this.OI=[];this.aB=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,c){if(a==c)return null;var f=b.zo();if(f.iI){var k=b.FA(f.aB,a,c);return null!=k?k:null}k=b.FA(f.aB,a,c);return null!=k?k:b.FA(f.OI,a,c)};b.gO=function(a,c,b,k,m){var f=e.ny.create();if(0<a)try{var d=e.io.create(a,c);if(0==d.yc())return null;f.add(d);if(0<b){var g=e.io.create(b,
k);if(0==g.yc())return null;f.add(g)}m&&(f=f.Wv())}catch(L){f=null}return f};b.FA=function(a,c,f){if(c==f||0==a.length)return null;for(var k=d.pa(c,f,0,0),e=!1,u=!1,g=0,h=0,l=-1,w=0;w<a.length;w++)if(0===d.Hs(k,a[w])){l=w;break}if(0>l||a[l].vn!=k.vn||a[l].wn!=k.wn){k=d.pa(f,c,0,0);c=-1;for(w=0;w<a.length;w++)if(0===d.Hs(k,a[w])){c=w;break}0<=c&&a[c].vn==k.vn&&a[c].wn==k.wn&&(g=a[c].MI,h=a[c].NI,u=e=!0)}else g=a[l].MI,h=a[l].NI,e=!1,u=!0;if(!u)return null;0==g&&(g=h,h=0);k=a=!1;0>g&&(g=-g,a=!0);0>
h&&(h=-h,k=!0);return b.gO(g,a,h,k,e)};b.prototype.kq=function(){this.CE(this.OI)&&(this.Hw=!0);this.CE(this.aB)&&(this.jI=!0);this.iI=!this.Hw};b.prototype.CE=function(a){try{for(var c=[],c=c.sort(d.Hs),b=0;b<c.length;b++)a.push(c[b])}catch(k){}return!0};b.Q_=function(){return null};return b}();e.RZ=g})(t||(t={}));(function(e){var d=function(){function e(){}e.prototype.My=function(b){this.Hi=b};e.prototype.OE=function(b){this.Mb=b};e.prototype.PE=function(b){this.np=b};e.KF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};e.JF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.wl=d})(t||(t={}));(function(e){var d=function(){function d(){}d.nX=function(b){var a=new e.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};d.Xg=function(b,a){return null===b?null:e.os.local().V(b,a,null)};d.hZ=function(b,a){var c=e.ei.local();b=new e.hd(b);return c.V(b,a,
null).next()};d.Vm=function(b,a,c){return e.cq.local().V(b,a,c,null)};d.Pp=function(b,a,c){return e.uy.local().V(b,a,c,null)};d.PY=function(b,a,c){var f=e.uy.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Eb=function(b,a,c){return e.Gj.local().V(3,b,a,c,null)};d.RR=function(b,a,c){return e.Gj.local().V(4,b,a,c,null)};d.MU=function(b,a,c){var f=e.tk.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);
return f};d.OR=function(b,a,c){var f=e.cq.local();b=new e.hd(b);a=new e.hd(a);c=f.V(b,a,c,null);for(f=[];null!=(a=c.next());)f.push(a);return f};d.Ma=function(b,a,c){return e.tk.local().V(b,a,c,null)};d.sZ=function(b,a,c){return e.Gj.local().V(2,b,a,c,null)};d.contains=function(b,a,c){return e.Gj.local().V(1,b,a,c,null)};d.zR=function(b,a,c){return e.Gj.local().V(16,b,a,c,null)};d.touches=function(b,a,c){return e.Gj.local().V(8,b,a,c,null)};d.pW=function(b,a,c){return e.Gj.local().V(32,b,a,c,null)};
d.OU=function(b,a,c){return e.Gj.local().V(1073741824,b,a,c,null)};d.ZB=function(b,a,c,f){return e.qN.local().V(b,a,c,f,null)};d.Cb=function(b,a,c,f){var k=null;if(null!=c){if(k=c.Nd(),null!=f&&k.yc()!=f.yc()&&k.nd!=f.nd)throw e.g.vk();}else if(null!=f)throw e.g.F();b=e.iN.local().V(b,a,null);null!==k&&null!==f&&(b=e.oc.li(b,k,f));return b};d.clip=function(b,a,c){return e.cN.local().V(b,e.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),c,null)};d.Hl=function(b,a,c){if(null==b||null==a)return null;b=e.eN.local().V(!0,
b,a,c,null);for(a=[];null!=(c=b.next());)c.u()||a.push(c);return a.slice(0)};d.RP=function(b,a,c,f,k,m,u,g){if(!0===k)return d.ZM(b,a,c,f,m,u,g);k=c;if(null!=a){if(u=a.Nd(),null!=f&&u.yc()!=f.yc()){if(u.nd!=f.nd)throw e.g.vk();k=[];e.oc.eG(c,c.length,f,u,k)}}else if(null!=f)throw e.g.F();c=e.DD.local();if(m){b=new e.hd(b);a=c.V(b,a,k,m,null);for(b=[];null!=(m=a.next());)b.push(m);m=b.slice(0)}else for(m=[],f=0;f<b.length;f++)m[f]=c.V(b[f],a,k[f],null);return m};d.ZM=function(b,a,c,f,k,m,d){if(null===
a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();e.oc.eG(c,c.length,f,e.oc.ze(9001),c);f=e.JD.local();if(k){b=new e.hd(b);a=f.V(b,a,m,c,d,!1,k,null);for(c=[];null!=(m=a.next());)c.push(m);k=c.slice(0)}else{k=[];for(var u=0;u<b.length;u++)k[u]=f.V(b[u],a,m,c[u],d,!1,null)}return k};d.buffer=function(b,a,c,f,k,m,d){var u=c;if(!1===k){if(null!=a){if(k=a.Nd(),null!=f&&k.yc()!=f.yc()){if(k.nd!=f.nd)throw e.g.vk();u=e.oc.li(c,f,k)}}else if(null!=f)throw e.g.F();
b=e.DD.local().V(b,a,u,null)}else{if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.yc()?a.Nd():e.oc.ze(9001);if(0!==f.nd)throw e.g.F();u=e.oc.li(c,f,e.oc.ze(9001));b=e.JD.local().V(b,a,m,u,d,!1,null)}return b};d.nW=function(b,a,c,f,k,m,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();b=new e.hd(b);a=e.MD.local().V(b,a,c,f,k,m,null);for(c=[];null!=(f=a.next());)c.push(f);return c.slice(0)};d.offset=function(b,
a,c,f,k,m,d){if(null!=a){var u=a.Nd();if(null!=d&&u.yc()!=d.yc()){if(u.nd!=d.nd)throw e.g.vk();c=e.oc.li(c,d,u)}}else if(null!=d)throw e.g.F();return e.MD.local().V(b,a,c,f,k,m,null)};d.iR=function(b){return e.FD.local().V(b,null)};d.jR=function(b,a){var c=e.FD.local();b=new e.hd(b);c=c.V(b,a,null);for(b=[];null!=(a=c.next());)b.push(a);return b};d.$z=function(b,a,c){return e.sy.local().$z(b,a,c)};d.aA=function(b,a){return e.sy.local().aA(b,a)};d.bA=function(b,a,c,f){return e.sy.local().bA(b,a,c,
f)};d.DC=function(b,a){return e.Km.local().V(b,a,!1,null)};d.ZU=function(b,a){return e.Km.local().Wq(b,a,null)};d.HS=function(b,a,c,f,k){var m=e.HD.local();if(null!=a){if(a=a.Nd(),null!=k&&a.yc()!=k.yc()){if(a.nd!=k.nd)throw e.g.vk();c=e.oc.li(c,k,a)}}else if(null!=k)throw e.g.F();return m.V(b,c,f,null)};d.Ls=function(b,a,c,f){var k=e.Jm.local();if(null!=a){if(a=a.Nd(),null!=f&&a.yc()!=f.yc()){if(a.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,a)}}else if(null!=f)throw e.g.F();return k.V(b,c,null)};d.Fz=
function(b,a,c,f,k){void 0===k&&(k=0);var m=e.kN.local();if(4==k)throw e.g.df();if(0!==k)throw e.g.df();if(null!=a){var d=a.Nd();if(null!=f&&d.yc()!=f.yc()){if(d.nd!=f.nd)throw e.g.vk();c=e.oc.li(c,f,d)}}else if(null!=f)throw e.g.F();return m.V(b,c,a,k,null)};d.NS=function(b,a,c,f){if(null===b)return 0;if(4==f)throw e.g.df();if(0!==f)throw e.g.df();if(197==b.G())b=d.nX(b);else if(1736!=b.G())return 0;f=e.fb.kc(a);b=e.fb.Xg(b,a,f,null);b=e.rM.OS([b])[0];if(null!==c){if(2!==c.nd)throw e.g.F("Unit must be a area unit type");
b=e.oc.li(b,e.oc.ze(109404),c)}return b};d.RS=function(b,a,c,f){b=e.mN.local().V(b,a,f,null);if(null!==c){if(0!==c.nd)throw e.g.F("Unit must be a linear unit type");b=e.oc.li(b,e.oc.ze(9001),c)}return b};d.xW=function(b,a,c){if(null===b)return 0;var f=null;if(null!=a){f=a.Nd();if(0==f.nd&&(f=e.oc.lH(f),null==f&&null!==c))throw e.g.F();if(null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==c?e.oc.li(b,f,c):b):0};d.yW=function(b,
a,c){if(null===b||b.u()||1>b.tb())return 0;var f=null;if(null!=a){if(f=a.Nd(),null!=c&&f.yc()!=c.yc()&&f.nd!=c.nd)throw e.g.vk();}else if(null!=c)throw e.g.F();1736==b.G()||197==b.G()?a=b.Gg():e.T.Oc(b.G())?(a=new e.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var k=new e.b,m=new e.b;a.Ya();)for(;a.Ea();){var d=a.ba();d.Oq(k);d.Ps(m);b+=e.b.Cb(k,m)}null!==f&&null!==c&&(b=e.oc.li(b,f,c));return b};d.$Z=function(b,a){return e.Sd.QS(b,a)};d.dG=function(b){return void 0!==b.points?d.lW(b,void 0===
b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM):void 0!==b.rings?d.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?d.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?d.vW(b):void 0!==b.xmin?d.dW(b):null};d.vW=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.sY(b.z);void 0!==b.m&&null!==b.m&&a.cY(b.m);return a};d.dW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.ci;var a=
new e.ci(b.xmin,b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};d.lW=function(b,a,c){var f=0,k=new e.Ed,m=3*b.points.length;0!=m%2&&m++;2>m&&(m=2);var d=e.J.truncate(3*b.points.length/2);4>d?d=4:16>d&&(d=16);for(var m=e.Uc.Um(m,0),g=e.Uc.Um(d),d=e.Uc.Um(d),h=0;h<b.points.length;h++)m.write(2*h,b.points[h][0]),m.write(2*h+1,b.points[h][1]),g.write(h,a||c?b.points[h][2]:NaN),d.write(h,c&&
a?b.points[h][3]:NaN),f++;0!=f&&(k.resize(f),k.Yn(0,m));a&&(k.Ud(1),k.Yn(1,g));c&&(k.Ud(2),k.Yn(2,0==a?g:d));k.Dc(16777215);return k};d.wH=function(b,a,c,f){var k,m=0,d=2;"P"==f?(k=new e.Ja,m=1,d=3):k=new e.Ua;for(var g=e.Uc.wh(0),h=e.Uc.vq(0),l=0,w=0,n=[],p=[],q=0;q<b.length;q++){var t=b[q].length;n[q]=!1;if("P"===f&&b[q][0][0]===b[q][b[q].length-1][0]&&b[q][0][1]===b[q][b[q].length-1][1]){var r=0==c?!0:b[q][0][3]===b[q][b[q].length-1][3]||void 0===b[q][0][3]&&void 0===b[q][b[q].length-1][3];(0==
a||b[q][0][2]===b[q][b[q].length-1][2]||void 0===b[q][0][2]&&void 0===b[q][b[q].length-1][2])&&r&&(n[q]=!0,--t)}t>=d?(p[q]=!1,w+=1,g.add(l),h.add(m),l+=t):p[q]=!0}f=3*l;0!=f%2&&f++;2>f&&(f=2);q=e.J.truncate(3*l/2);4>q?q=4:16>q&&(q=16);f=e.Uc.Um(f,0);m=e.Uc.Um(q);d=e.Uc.Um(q);for(q=t=0;q<b.length;q++)if(!1===p[q])for(r=0;r<b[q].length;r++){var v=!1;r===b[q].length-1&&!0===n[q]&&(v=!0);v||(f.write(2*t,b[q][r][0]),f.write(2*t+1,b[q][r][1]),m.write(t,a||c?b[q][r][2]:NaN),d.write(t,c&&a?b[q][r][3]:NaN),
t++)}0!=l&&(b=k,g.resize(w),h.resize(w),0<l&&(g.add(l),h.add(0)),b.Yn(0,f),b.GK(h),b.HK(g));a&&(k.Ud(1),k.Yn(1,m));c&&(k.Ud(2),k.Yn(2,0==a?m:d));k.Dc(16777215);return k};return d}();e.cc=d})(t||(t={}));(function(e){var d=function(){function e(){}e.Hm=function(b){var a=0,c,f=b.length,e=b[0],m;for(c=0;c<f-1;c++)m=b[c+1],a+=(m[0]-e[0])*(m[1]+e[1]),e=m;return 0<=a};e.rotate=function(b,a,c){a=a*Math.PI/180;var f=Math.cos(a),k=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var m=0;m<b.paths.length;m++){for(var d=
b.paths[m],g=[],h=0;h<d.length;h++){var l=d[h].slice(0);g.push(l);var w=f*(d[h][0]-c.x)-k*(d[h][1]-c.y)+c.x,n=k*(d[h][0]-c.x)+f*(d[h][1]-c.y)+c.y;l[0]=w;l[1]=n}a.paths.push(g)}return a}if(void 0!==b.rings){a={rings:[]};for(m=0;m<b.rings.length;m++){for(var d=b.rings[m],g=[],p=e.Hm(d),h=0;h<d.length;h++)l=d[h].slice(0),g.push(l),w=f*(d[h][0]-c.x)-k*(d[h][1]-c.y)+c.x,n=k*(d[h][0]-c.x)+f*(d[h][1]-c.y)+c.y,l[0]=w,l[1]=n;e.Hm(g)!==p&&g.reverse();a.rings.push(g)}return a}if(void 0!==b.x)return a={x:f*(b.x-
c.x)-k*(b.y-c.y)+c.x,y:k*(b.x-c.x)+f*(b.y-c.y)+c.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(h=0;h<b.length;h++)m=b[h].slice(0),m[0]=f*(b[h][0]-c.x)-k*(b[h][1]-c.y)+c.x,m[1]=k*(b[h][0]-c.x)+f*(b[h][1]-c.y)+c.y,a.points.push(m);return a}return null};e.zG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var k=0;k<b.paths.length;k++){for(var m=b.paths[k],d=[],g=0;g<m.length;g++){var h=m[g].slice(0);d.push(h);f=a.x-m[g][0];h[0]=m[g][0]+
2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(k=0;k<b.rings.length;k++){for(var m=b.rings[k],l=e.Hm(m),d=[],g=0;g<m.length;g++)h=m[g].slice(0),d.push(h),f=a.x-m[g][0],h[0]=m[g][0]+2*f;e.Hm(d)!==l&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.x-b.x,c={x:b.x+2*f,y:b.y},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};k=b.points;for(g=0;g<k.length;g++)m=k[g].slice(0),f=a.x-m[0],m[0]+=2*f,c.points.push(m);return c}return void 0!==
b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.x-b.xmin,c.xmax=b.xmin+2*f,f=a.x-b.xmax,c.xmin=b.xmax+2*f,c):null};e.AG=function(b,a){var c,f;if(void 0!==b.paths){c={paths:[]};for(var k=0;k<b.paths.length;k++){for(var m=b.paths[k],d=[],g=0;g<m.length;g++){var h=m[g].slice(0);d.push(h);f=a.y-m[g][1];h[1]=m[g][1]+2*f}c.paths.push(d)}return c}if(void 0!==b.rings){c={rings:[]};for(k=0;k<b.rings.length;k++){for(var m=
b.rings[k],l=e.Hm(m),d=[],g=0;g<m.length;g++)h=m[g].slice(0),d.push(h),f=a.y-m[g][1],h[1]=m[g][1]+2*f;e.Hm(d)!==l&&d.reverse();c.rings.push(d)}return c}if(void 0!==b.x)return f=a.y-b.y,c={y:b.y+2*f,x:b.x},void 0!==b.z&&(c.z=b.z),void 0!==b.m&&(c.m=b.m),c;if(void 0!==b.points){c={points:[]};k=b.points;for(g=0;g<k.length;g++)m=k[g].slice(0),f=a.y-m[1],m[1]+=2*f,c.points.push(m);return c}return void 0!==b.xmin?(c={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(c.zmin=b.zmin,c.zmax=b.zmax),void 0!==
b.mmin&&(c.mmin=b.mmin,c.mmax=b.mmax),f=a.y-b.ymin,c.ymax=b.ymin+2*f,f=a.y-b.ymax,c.ymin=b.ymax+2*f,c):null};return e}();e.Wp=d})(t||(t={}));(function(e){var d=function(){function d(){}d.bh=function(b,a){null==a&&(a=e.ye.Ig());switch(b){case 33:return new e.Wa(a);case 322:return new e.Hb(a);case 197:return new e.ci(a);case 550:return new e.Ed(a);case 1607:return new e.Ua(a);case 1736:return new e.Ja(a);default:throw e.g.X("invalid argument.");}};return d}();e.vM=d})(t||(t={}));(function(e){var d=
function(){function d(b,a){this.tf=e.ia.zd(b,-1);this.va=new e.Lu;this.bm=a}d.prototype.yX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};d.prototype.addElement=function(b,a){if(void 0===a)return this.dP(b);a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,b)};d.prototype.dP=function(b){var a=this.bm.Wz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);-1==c&&(c=this.va.mi(),this.tf.set(a,c));return this.va.addElement(c,
b)};d.prototype.kd=function(b,a){if(void 0===a)this.HR(b);else{a=e.J.truncate(a%this.tf.size);var c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){var m=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,k,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):k=f;f=m}}};d.prototype.HR=function(b){var a=this.bm.Wz(b),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){var m=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(c,
k,f),-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1))):k=f;f=m}};d.prototype.iT=function(b){b=e.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};d.prototype.yT=function(b){return this.va.nb(b)};d.prototype.Kd=function(b){var a=this.bm.Wz(this.ja(b)),a=e.J.truncate(a%this.tf.size),c=this.tf.get(a);if(-1==c)throw e.g.F();for(var f=this.va.xc(c),k=-1;-1!=f;){if(f==b){this.va.kd(c,k,f);-1==this.va.xc(c)&&(this.va.zh(c),this.tf.set(a,-1));return}k=f;f=this.va.nb(f)}throw e.g.F();
};d.prototype.ja=function(b){return this.va.ja(b)};d.prototype.clear=function(){this.tf=e.ia.zd(this.tf.size,-1);this.va.clear()};d.prototype.size=function(){return this.va.eH()};return d}();e.FM=d})(t||(t={}));(function(e){var d=function(){function d(){this.kj=new e.ad(3);this.va=new e.ad(6);this.tV=!1;this.Ge=-1}d.prototype.Kl=function(b){this.kj.kd(b)};d.prototype.Bx=function(){return this.kj.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.GB=function(){return this.va.Pe()};d.prototype.vC=
function(b,a){this.kj.P(b,1,a)};d.prototype.Qx=function(b,a){this.kj.P(b,2,a)};d.prototype.bY=function(b,a){this.kj.P(b,3,a)};d.prototype.tC=function(b,a){this.va.P(b,4,a)};d.prototype.eY=function(b,a){this.va.P(b,3,a)};d.prototype.KK=function(b,a){this.va.P(b,2,a)};d.prototype.mi=function(b){var a=this.GB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};d.prototype.zh=function(b){this.RF(b);var a=this.va.S(b,2),c=this.va.S(b,3);-1!=a?this.eY(a,
c):this.Ge=c;-1!=c&&this.KK(c,a);this.Pv(b);return c};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.$G=function(b){return this.va.S(b,5)};d.prototype.aY=function(b,a){this.va.P(b,5,a)};d.prototype.addElement=function(b,a){return this.pU(b,a)};d.prototype.pU=function(b,a){var c=this.Bx();this.Qx(c,-1);-1==this.va.S(b,0)&&this.va.P(b,0,c);var f=this.va.S(b,1);this.vC(c,f);-1!=f&&this.Qx(f,c);this.va.P(b,1,c);this.setData(c,a);this.tC(b,this.at(b)+1);this.tV&&this.bY(c,b);return c};d.prototype.kd=
function(b,a){var c=this.Ve(a),f=this.nb(a);-1!=c?this.Qx(c,f):this.va.P(b,0,f);-1!=f?this.vC(f,c):this.va.P(b,1,c);this.Kl(a);this.tC(b,this.at(b)-1);return f};d.prototype.Vn=function(b){this.kj.Qe(b)};d.prototype.getData=function(b){return this.kj.S(b,0)};d.prototype.setData=function(b,a){this.kj.P(b,0,a)};d.prototype.nb=function(b){return this.kj.S(b,2)};d.prototype.Ve=function(b){return this.kj.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.Fc=function(b){return this.va.S(b,
1)};d.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};d.prototype.RF=function(b){for(var a=this.Fc(b);-1!=a;){var c=a,a=this.Ve(c);this.Kl(c)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.tC(b,0)};d.prototype.u=function(){return 0==this.kj.size};d.prototype.eH=function(){return this.kj.size};d.prototype.at=function(b){return this.va.S(b,4)};d.prototype.cA=function(b){return this.va.S(b,3)};return d}();e.Xp=d})(t||(t={}));(function(e){var d=function(){function d(b){void 0===b?(this.Qg=
new e.ad(2),this.va=new e.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new e.ad(2),this.va=new e.ad(b?4:2),this.Ge=-1,this.Cw=b)}d.prototype.Kl=function(b){this.Qg.kd(b)};d.prototype.Bx=function(){return this.Qg.Pe()};d.prototype.Pv=function(b){this.va.kd(b)};d.prototype.GB=function(){return this.va.Pe()};d.prototype.mi=function(){var b=this.GB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};d.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var c=a,a=this.nb(a);
this.Kl(c)}this.Cw&&(a=this.va.S(b,2),c=this.va.S(b,3),-1!=a?this.va.P(a,3,c):this.Ge=c,-1!=c&&this.va.P(c,2,a));this.Pv(b)};d.prototype.pu=function(b){this.va.Qe(b)};d.prototype.addElement=function(b,a){var c=this.va.S(b,1),f=this.Bx();-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f);this.va.P(b,1,f);this.Qg.P(f,0,a);return f};d.prototype.Vn=function(b){this.Qg.Qe(b)};d.prototype.kd=function(b,a,c){-1!=a?(this.Qg.P(a,1,this.Qg.S(c,1)),this.va.S(b,1)==c&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(c,1)),this.va.S(b,
1)==c&&this.va.P(b,1,-1));this.Kl(c)};d.prototype.mz=function(b,a){var c=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=c?this.Qg.P(c,1,f):this.va.P(b,0,f),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(c=this.va.S(a,2),f=this.va.S(a,3),-1!=c?this.va.P(c,3,f):this.Ge=f,-1!=f&&this.va.P(f,2,c));this.Pv(a)};d.prototype.ja=function(b){return this.Qg.S(b,0)};d.prototype.kk=function(b,a){this.Qg.P(b,0,a)};d.prototype.nb=function(b){return this.Qg.S(b,1)};d.prototype.xc=function(b){return this.va.S(b,0)};d.prototype.yo=
function(b){return this.ja(this.xc(b))};d.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};d.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};d.prototype.eH=function(){return this.Qg.size};d.prototype.cA=function(b){return this.va.S(b,3)};return d}();e.Lu=d})(t||(t={}));(function(e){var d=function(){function d(){}d.$D=function(b,a,c,f,k,m,g){var u=new e.b;u.L(b);b=new e.b;b.L(a);k.Ny(u);k.Ny(b);a=k.Wu(u);var h=k.Wu(b);0==h&&(h=k.ZG());if(u.x!=b.x&&
(u.y!=b.y||u.y!=k.A&&u.y!=k.B)||h>a!=m){a=k.AE(u);var h=k.AE(b),l,w=m?1:3;do a=a+w&3,l=k.Gx(a),0!=g&&(f=d.$D(u,l,c,f,k,m,g)),c[f++].ka(l.x,l.y),u=l;while((a&3)!=h);0!=g&&(f=d.$D(u,b,c,f,k,m,g))}else if(k=new e.b,k.ka(b.x-u.x,b.y-u.y),0!=g&&(g=e.J.truncate(k.SO()/g),0<g))for(k.scale(1/(g+1)),m=0;m<g;m++)u.add(k),c[f++].ka(u.x,u.y);return f};d.be=function(b,a,c){a=a.no();b=null!=b&&void 0!==b.re?b.re(0):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.Cs=function(b){return 2*Math.sqrt(2)*b};d.sP=function(b){return Math.sqrt(2)*
b};d.ah=function(b,a,c){var f=new e.h;a.s(f);return d.be(b,f,c)};d.GF=function(b,a,c){a=a.xf(1,0).no();b=null!=b?b.re(1):0;c&&(a*=4,b*=1.1);return Math.max(b,a)};d.a_=function(b,a){var c=new e.h;b.ac(c);c.Nb(a);return c};d.Zv=function(b,a){var c=new e.h;b.ac(c);b=new e.h;a.ac(b);c.Nb(b);return c};d.j_=function(b,a){var c=b.nT(a),f=b.wa(a),k=b.Gc(a),d=b.Ba(c);c==f?(k=b.Ba(k-1),c=b.Ba(f+1)):c==k-1?(k=b.Ba(c-1),c=b.Ba(f)):(k=b.Ba(c-1),c=b.Ba(c+1));d=e.b.zp(k,d,c);return 0==d?0<b.Sm(a):-1==d};d.bQ=function(b){var a=
new e.h;b.ac(a);if(a.u())return null;var c=new e.gq(a,8),f=-1,k=new e.h,d=!1;do for(var g=0,h=b.aa();g<h;g++)if(b.jk(g,k),f=c.lw(g,k,f),-1==f){if(d)throw e.g.X("internal error");b.uo(a,!1);d=!0;c.reset(a,8);break}else d=!1;while(d);return c};d.BF=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=-1,k=b.Fa(),d=new e.h,g=!1;k.Ya();)for(;k.Ea();){var h=k.ba(),l=k.Db();h.s(d);f=c.lw(l,d,f);if(-1==f){if(g)throw e.g.za();b.uo(a,!1);g=!0;c.reset(a,8);k.yj();break}}return c};d.Lj=function(b,a){var c=
new e.h;b.ac(c);for(var f=new e.gq(c,8),k=-1,d=new e.h,g=b.Fa(),h=!1;g.Ya();)for(;g.Ea();){var l=g.ba(),w=g.Db();l.s(d);if(d.Yb(a)&&(k=f.lw(w,d,k),-1==k)){if(h)throw e.g.X("internal error.");b.uo(c,!1);h=!0;f.reset(c,8);g.yj();break}}return f};d.S_=function(b){var a=new e.h;b.ac(a);for(var c=new e.gq(a,8),f=new e.b,k=new e.h,d=!1,g=0;g<b.D();g++)if(b.w(g,f),k.I(f),-1==c.eh(g,k)){if(d)throw e.g.za();b.uo(a,!1);d=!0;c.reset(a,8);g=-1}return c};d.CF=function(b,a){for(var c=new e.gq(a,8),f=new e.b,k=
!1,d=new e.h,g=0;g<b.D();g++)if(b.w(g,f),a.contains(f)&&(d.I(f),-1==c.eh(g,d))){if(k)throw e.g.za();k=!0;g=new e.h;b.uo(g,!1);c.reset(g,8);g=-1}return c};d.dT=function(b,a,c){var f=new e.h,k=new e.h;b.ac(f);a.ac(k);f.O(c,c);k.O(c,c);var d=new e.h;d.I(f);d.Ma(k);b=b.Fa();a=a.Fa();var g=new e.gD;g.zC(c);var h=!1;for(g.bL();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(d)&&(h=!0,c=new e.h,c.I(f),g.$E(b.Db(),c));g.uG();if(!h)return null;f=!1;for(g.aL();a.Ya();)for(;a.Ea();)a.ba().s(k),k.Yb(d)&&(f=!0,c=new e.h,
c.I(k),g.WE(a.Db(),c));g.tG();return f?g:null};d.eT=function(b,a,c,f,k){var d=b.G(),g=a.G(),h=new e.h,l=new e.h;b.ac(h);a.ac(l);h.O(c,c);l.O(c,c);var w=new e.h;w.I(h);w.Ma(l);var n=new e.gD;n.zC(c);var p=!1;n.bL();var q=0;for(c=b.aa();q<c;q++)if(!f||1736!=d||b.rw(q))b.jk(q,h),h.Yb(w)&&(p=!0,n.$E(q,h));n.uG();if(!p)return null;b=!1;n.aL();f=0;for(c=a.aa();f<c;f++)if(!k||1736!=g||a.rw(f))a.jk(f,l),l.Yb(w)&&(b=!0,n.WE(f,l));n.tG();return b?n:null};d.o_=function(b,a){return 0<b.Lk(a)};d.R_=function(b,
a){var c=new e.h;b.iX(a,c);var c=new e.gq(c,8),f=-1,k=new e.h;b=b.Fa();b.fC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var d=b.Db();a.ac(k);f=c.lw(d,k,f);if(-1==f)throw e.g.X("internal error");}return c};d.Fv=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=e.b.El(a[f]):b[f].L(a[f])};d.oz=function(b,a,c,f){var e=0;for(f+=0;e<f;c++,e++)null==b[e]&&(b[e]=[0,0]),b[e][0]=a[c].x,b[e][1]=a[c].y};d.nz=function(b,a,c,f){var k=a,d=0;for(a=f+a;k<a;d++,k++)null==b[k]?b[k]=e.b.pa(c[d][0],c[d][1]):b[k].ka(c[d][0],
c[d][1])};d.kR=function(b,a,c){if(b!=a)for(var f=0;f<c;f++)null==b[f]?b[f]=new e.Wa(a[f]):a[f].copyTo(b[f])};d.FP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var d=0;d<a;d+=c){var g=b.read(d);g<e?b.write(d,e):g>f&&b.write(d,f)}};d.vP=function(b,a,c,f){var e=f.ca;f=f.ha;for(var d=0;d<a;d+=c){var g=b.read(d);g<e?b.write(d,e):g>f&&b.write(d,f)}};d.UK=function(b,a,c){if(b.hasAttribute(c)){var f=b.G();if(e.T.gh(f)){var k=e.ma.si(c),f=e.ma.Xa(c),m=b.D();if(1==k){b=b.Pa(c);d.FP(b,m*f,f,a);return}if(2==k){b=
b.Pa(c);d.vP(b,m*f,f,a);return}throw e.g.X("snap_coordinate not implemented");}if(197==f)m=b.xf(c,0),f=!1,m.ca<a.ca&&(f=!0,m.ca=a.ca),m.ha>a.ha&&(f=!0,m.ha=a.ha),f&&b.setInterval(c,0,m);else if(33==f)m=b.Yc(c,0),f=!1,m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.setAttribute(c,0,m);else if(e.T.Oc(f))m=b.dt(c,0),f=!1,m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.Tx(c,0,m),m=b.Os(c,0),m<a.ca&&(f=!0,m=a.ca),m>a.ha&&(f=!0,m=a.ha),f&&b.Lx(c,0,m);else throw e.g.X("snap_coordinate not implemented");
}};d.jo=function(b,a,c,f,e){var k=0;null!=a&&(k=a.re(b),e&&!f||null==a||(k+=1.01*a.gA(b)));f&&(c*=4,k*=1.01);return Math.max(k,c)};d.T_=function(b,a,c,f){a=e.h.DO(a.Be(),a.nf(),c.Be(),c.nf());return d.jo(0,b,a,f,!1)};d.Zy=function(b,a,c){a=a.no();return d.jo(0,b,a,c,!1)};d.U_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!1)};d.hQ=function(b,a){var c=new e.h;a.s(c);return d.Zy(b,c,!0)};d.$y=function(b,a){a=a.no();return d.jo(0,b,a,!1,!0)};d.V_=function(b,a,c){a=a.no();return d.jo(1,b,a,c,!0)};d.vv=
function(b,a){var c=new e.h;a.s(c);return d.$y(b,c)};d.NH=function(b,a,c,f){f*=f;var k=new e.b;k.zc(b,a);b=new e.b;b.zc(c,a);a=k.qk();c=b.qk();if(a<=f&&c<=f)return!0;var d=e.Ub.Yx(k.Ui(b));return d<=f*a||d<=f*c?0<=k.oi(b):!1};d.VK=function(b,a,c,f){for(var k=0;k<a;k++){var d=b[k].y,g=e.J.pk(d,c,f);g!=d&&(b[k].y=g)}};return d}();e.na=d})(t||(t={}));(function(e){var d=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ja(f);f=this.ab.Pk(b);var e=this.ab.Pk(a);return f<e?-1:f==
e?c.Vq(b)&&c.tw(a)?-1:c.Vq(a)&&c.tw(b)?1:0:1};return a}(),g=function(){function a(a){this.ab=a}a.prototype.hs=function(a,c,b){this.ab.BY(b,a,c)};a.prototype.Qq=function(a){return this.ab.Pk(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new e.Ac;this.oh=new e.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,
c){this.pj.ca=a.ca-c;this.pj.ha=a.ha+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.eC=function(a,c,b){if(a>c)throw e.g.F();this.pj.ca=a-b;this.pj.ha=c+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.Wn=function(a,c){this.pj.ca=a-c;this.pj.ha=a+c;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw e.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.qW();break;case 2:a=this.rW();break;case 3:a=this.sW();break;
case 4:a=this.tW();break;case 5:a=this.DX();break;case 6:a=this.mV();break;case 7:a=this.wP();break;case 0:a=this.rA();break;default:throw e.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Ni(b,f);return e};a.DZ=function(c,b,f){var e=new a;e.ab=c;e.oh.yb(20);e.Wn(b,f);return e};a.pa=function(c){var b=new a;b.ab=c;b.oh.yb(20);b.Ee=-1;return b};a.prototype.rA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=
1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Ok(this.Sc),this.lj=this.ab.Nk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=
a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.rW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Nk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Nk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){this.Sc=
this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Ok(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=this.ab.Ok(this.Sc);this.lj=this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.tW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=
this.ab.Ok(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Nk(this.Sc)&&this.oh.add(this.ab.Nk(this.Sc));return!0};a.prototype.mV=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq())&&this.ab.Pk(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.DX=function(){this.jh=this.Ei;if(-1!=this.jh&&c.tw(this.Gq())&&this.ab.Pk(this.Gq())>=this.pj.ca)return this.Ei=this.KT(),!1;this.Ee--;
return!0};a.prototype.wP=function(){this.jh=this.Ei;if(-1!=this.jh&&c.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};a.prototype.KT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();e.WZ=a;var c=function(){function c(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=
this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}c.prototype.cs=function(){this.ql(!0)};c.prototype.zs=function(a,c){if(!this.Ew)throw e.g.Da();this.bk.push(new e.Ac(a,c))};c.prototype.yq=function(){if(!this.Ew)throw e.g.X("invalid call");this.Ew=!1;this.ar=!0;this.pg||(this.rU(),this.Mw=this.bk.length)};c.prototype.eh=function(a){if(!this.pg||!this.ar)throw e.g.F("invalid call");if(-1==this.Mf){var c=this.bk.length;if(this.SA){var b=new e.ia(0);b.yb(2*c);this.VJ(b);this.zi.yb(2*c);this.zi.resize(0);
this.UJ(b);this.xn.resize(c,-1);this.xn.Zh(-1,0,c);this.SA=!1}else this.xn.Zh(-1,0,c);this.Mf=this.Hv()}c=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.iA(c));this.MK(c,b);this.xn.set(a,c);this.Mw++};c.prototype.remove=function(a){if(!this.pg||!this.ar)throw e.g.X("invalid call");var c=this.xn.get(a);if(-1==c)throw e.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.iA(c),f;f=this.vg.TT(b);this.vg.Kd(this.rT(c),b);this.vg.Kd(this.NT(c),b);a=
this.vg.size(b);0==a&&(this.vg.JR(b),this.PK(f,-1));this.ak.kd(c);for(var b=this.fH(f),k=this.Qj(f),d=this.Nk(f),c=0;!(0<a||f==this.Mf||-1!=k&&-1!=d);)f==this.Qj(b)?-1!=k?(this.rl(b,k),this.mk(k,b),this.rl(f,-1)):-1!=d?(this.rl(b,d),this.mk(d,b),this.tl(f,-1)):this.rl(b,-1):-1!=k?(this.tl(b,k),this.mk(k,b),this.rl(f,-1)):-1!=d?(this.tl(b,d),this.mk(d,b),this.tl(f,-1)):this.tl(b,-1),this.mk(f,-1),c++,f=b,b=this.Ok(f),a=-1!=b?this.vg.size(b):0,k=this.Qj(f),d=this.Nk(f),b=this.fH(f)};c.prototype.reset=
function(){if(!this.pg||!this.ar)throw e.g.F("invalid call");this.ql(!1)};c.prototype.size=function(){return this.Mw};c.prototype.mf=function(){return a.pa(this)};c.prototype.VJ=function(a){for(var c=this.bk.length,b=0;b<2*c;b++)a.add(b);this.CY(a,2*c)};c.prototype.UJ=function(a){for(var c=NaN,b=0;b<a.size;b++){var f=a.get(b),e=this.Pk(f);e!=c&&(this.zi.add(f),c=e)}};c.prototype.rU=function(){var a=this.bk.length,c=new e.ia(0);c.yb(2*a);this.VJ(c);this.zi.yb(2*a);this.zi.resize(0);this.UJ(c);this.ak.Qe(a);
this.sj.Vn(2*a);var b=e.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<c.size;a++){var f=c.get(a),d=b.get(f>>1);-1!=d?this.MK(d,this.sj.addElement(this.iA(d),f)):(d=this.DH(f,this.Mf),b.set(f>>1,d))}};c.prototype.DH=function(a,c){var b=c,f=c,k,d=-1,m=0,g=this.zi.size-1,h=0,l=a>>1,w=NaN,n=NaN;k=!0;for(var p=this.xT(l),l=this.uT(l);k;){m<g?(h=m+e.J.truncate((g-m)/2),-1==this.Qz(b)&&this.vK(b,this.zi.get(h),this.zi.get(h+1))):-1==this.Qz(b)&&this.vK(b,this.zi.get(m),this.zi.get(m));var q=this.Hq(b);
if(l<q)-1!=c&&(c==b?(f=b,w=q,c=this.Qj(b),-1!=c?n=this.Hq(c):n=NaN):n>q&&(q<w?this.rl(f,b):this.tl(f,b),this.tl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,w=q,c=-1,n=NaN)),g=this.sT(b),-1==g&&(g=this.Hv(),this.ZX(b,g)),b=g,g=h;else if(p>q)-1!=c&&(c==b?(f=b,w=q,c=this.Nk(b),-1!=c?n=this.Hq(c):n=NaN):n<q&&(q<w?this.rl(f,b):this.tl(f,b),this.rl(b,c),this.pg&&(this.mk(b,f),this.mk(c,b)),f=b,w=q,c=-1,n=NaN)),m=this.OT(b),-1==m&&(m=this.Hv(),this.jY(b,m)),b=m,m=h+1;else{k=this.Ok(b);-1==k&&(k=this.xR(b),
this.PK(b,k));var t=this.eP(k,a),d=this.vR();this.mY(d,k);this.YX(d,t);b!=c&&(q<w?this.rl(f,b):this.tl(f,b),this.pg&&this.mk(b,f),-1!=c&&(n<q?this.rl(b,c):this.tl(b,c),this.pg&&this.mk(c,b)));k=!1}}return d};c.prototype.Hv=function(){return this.Je.Pe()};c.prototype.xR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};c.prototype.vR=function(){return this.ak.Pe()};c.prototype.ql=function(a){a?(this.Ew=this.SA=!0,this.ar=!1,null==this.zi?this.zi=e.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=
[]:this.bk.length=0):this.SA=!1;this.pg?null==this.xn?(this.xn=e.Uc.wh(0),this.vg=new e.uk,this.vg.Ep(new d(this))):this.vg.clear():null==this.sj?this.sj=new e.Xp:this.sj.clear();null==this.Je?(this.ak=new e.ad(3),this.Je=new e.ad(this.pg?8:7)):(this.ak.Vi(!1),this.Je.Vi(!1));this.Mf=-1;this.Mw=0};c.prototype.vK=function(a,c,b){this.TX(a,c);this.UX(a,b)};c.prototype.Hq=function(a){var c=this.Qz(a);if(-1==c)return NaN;c=this.Pk(c);a=this.Pk(this.ZS(a));return c==a?c:.5*(c+a)};c.prototype.TX=function(a,
c){this.Je.P(a,0,c)};c.prototype.UX=function(a,c){this.Je.P(a,1,c)};c.prototype.ZX=function(a,c){this.Je.P(a,3,c)};c.prototype.jY=function(a,c){this.Je.P(a,4,c)};c.prototype.PK=function(a,c){this.Je.P(a,2,c)};c.prototype.rl=function(a,c){this.Je.P(a,5,c)};c.prototype.tl=function(a,c){this.Je.P(a,6,c)};c.prototype.mk=function(a,c){this.Je.P(a,7,c)};c.prototype.mY=function(a,c){this.ak.P(a,0,c)};c.prototype.eP=function(a,c){return this.pg?this.vg.addElement(c,a):this.sj.addElement(a,c)};c.prototype.YX=
function(a,c){this.ak.P(a,1,c)};c.prototype.MK=function(a,c){this.ak.P(a,2,c)};c.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};c.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};c.Vq=function(a){return 0==(a&1)};c.tw=function(a){return 1==(a&1)};c.prototype.Qz=function(a){return this.Je.S(a,0)};c.prototype.ZS=function(a){return this.Je.S(a,1)};c.prototype.Ok=function(a){return this.Je.S(a,2)};c.prototype.sT=function(a){return this.Je.S(a,3)};c.prototype.OT=
function(a){return this.Je.S(a,4)};c.prototype.Qj=function(a){return this.Je.S(a,5)};c.prototype.Nk=function(a){return this.Je.S(a,6)};c.prototype.fH=function(a){return this.Je.S(a,7)};c.prototype.iA=function(a){return this.ak.S(a,0)};c.prototype.rT=function(a){return this.ak.S(a,1)};c.prototype.NT=function(a){return this.ak.S(a,2)};c.prototype.xT=function(a){return this.bk[a].ca};c.prototype.uT=function(a){return this.bk[a].ha};c.prototype.CY=function(a,c){null==this.on&&(this.on=new e.Hu);var b=
new g(this);this.on.sort(a,0,c,b)};c.prototype.BY=function(a,b,f){var e=this;a.Gd(b,f,function(a,b){var f=e.Pk(a),k=e.Pk(b);return f<k||f==k&&c.Vq(a)&&c.tw(b)?-1:1})};c.prototype.Pk=function(a){var b=this.bk[a>>1];return c.Vq(a)?b.ca:b.ha};return c}();e.ns=c})(t||(t={}));(function(e){var d=function(){function d(b){if(null==b)throw e.g.X("Invalid arguement");this.Ke=b;var a=b.fT();a.cU()?b.je.UH()?this.Zo=e.di.PannableFold:this.Zo=e.di.Clip:this.Zo=e.di.DontClip;a.dU()?b.He.UH()?this.Dn=e.di.PannableFold:
this.Dn=e.di.Clip:this.Dn=e.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}d.Xg=function(b,a,c){return a.xr.Xg(b,c)};d.gs=function(b,a,c,f){return b.xr.gs(a,c,f)};d.Du=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.gs(a,c,f);if(b==c)return b;for(var e=a=0;e<c;e++){var d=f[e];d.isNaN()||(a<e&&f[a].L(d),a++)}for(;a<c;a++)f[a].$c();return b};d.MC=function(b,a,c,f){return b.xr.MC(a,c,f)};d.iL=function(b,a,c,f){c=0>c?a.length:c;b=b.xr.MC(a,c,f);if(b==c)return b;
for(var e=a=0;e<c;e++){var d=f[e];isNaN(d.x)||(a<e&&f[a].I(d.x,d.y,d.z),a++)}for(;a<c;a++)f[a].dv();return b};d.transform=function(b,a,c,f,k){if(b.Ho())return e.na.kR(f,a,c),c;for(var m=[],g=0,h=0;h<c;){for(var l=Math.min(m.length,c-h),w=h,n=0;w<l;w++,n++)null==m[n]?m[n]=a[w].w():a[w].w(m[n]);var p;p=k?d.Du(b,m,l,m):d.gs(b,m,l,m);for(n=w=0;w<p;w++,n++)null==f[h]&&(f[h]=new e.Wa(a[h])),f[h].rb(m[n]);h+=l;g+=p}return g};d.jL=function(b,a,c){if(0==c)return[];var f=new e.Ed;f.oP(a,2*c);a=this.Xg(f,b,
null);b=a.Pa(0);a=2*a.D();c=e.J.gf(a);b.pl(0,a,c,0,!0);return c};d.prototype.gs=function(b,a,c){if(this.Ke.Ho())return b!=c&&e.na.Fv(c,b,a),a;var f=this.Ke.je,k=this.Ke.He,d=f.Fb(),g=k.Fb();if(0==d&&d===g){var h=f.Yi(),k=k.Yi(),k=h/k,h=new e.Hd;h.Op(k,k);h.$Y(b,a,c);return a}h=e.J.qv(Math.min(a,64));if(3==d){var l;l=f.ij;f=l.Gk();d=f.Fb();c!=b&&e.na.Fv(c,b,a);e.Ib.Dl(l,c,a,!0);l.Du(e.Om.forward,c,a);e.Ib.Cl(l,c,a,!0)}if(3==d||3===g)throw e.g.X("image: transform_in_place_");if(2==d)this.Zo==e.di.Clip?
(c!=b&&e.na.Fv(c,b,a),b=f.Mk(),e.Ib.KU(b,f,c,a)):(c!=b&&e.na.Fv(c,b,a),f.Jc()&&(d=f.re(0),l=f.qe(),e.Ib.zY(c,a,l,d),e.Ib.BG(c,a,f,0))),e.Ib.xN(f,c,a,h);else for(d=f.re(0),l=f.qe(),f=0;f<a;f++)e.Ib.AY(b[f],l,d,c[f]);e.Ib.vN(this.Ke,c,a,h);b=0;(g=2==g)?b=k.pi():isNaN(this.pn)||(b=this.pn);g&&this.Dn!=e.di.Clip||e.Ib.BG(c,a,k.kc(),b);g&&(e.Ib.LH(c,a,k,this.Dn),e.Ib.wN(k,c,a,h));b=a;for(f=0;f<a;++f)c[f].isNaN()&&b--;return b};d.prototype.MC=function(b,a,c){a=0>a?b.length:a;if(this.Ke.Ho()){for(var f=
0;f<a;++f)null==c[f]&&(c[f]=new e.qd),c[f].I(b[f].x,b[f].y,b[f].z);return a}var k=this.Ke.je,f=this.Ke.He,d=k.Fb(),g=f.Fb();if(0==d&&d==g)return k=k.Yi(),f=f.Yi(),f=k/f,k=new e.fO,k.Op(f,f,f),k.transform(b,a,c),a;d=new e.Ed;d.Ud(1);d.Ud(3);d.nP(b);b=d.Pa(3);f=0;for(k=a;f<k;f++)b.write(f,f);d=this.Xg(d,null);for(f=0;f<a;++f)null==c[f]?c[f]=e.qd.pa(NaN,NaN,NaN):c[f].dv();if(null==d)return 0;b=d.Pa(3);var g=d.Pa(0),h=d.Pa(1);d.gX(c,a);f=0;for(k=d.D();f<k;f++)a=b.read(f),g.pX(2*f,c[a]),c[a].z=h.read(f);
return d.D()};d.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),d=f.Fb();if(0==k&&k==d)return c=c.Yi(),f=f.Yi(),c/=f,f=new e.Hd,f.Op(c,c),c=e.T.oe(b),c.Xc(f),c;switch(b.G()){case 1607:case 1736:f=this.NJ(b,a);break;case 550:f=this.XW(b,a);break;case 197:f=this.WW(b,a);break;default:throw e.g.X("");}return f};d.prototype.PJ=function(b){var a=b.w(),c=[];c[0]=a;this.gs(c,1,c);b=new e.Wa(b);b.rb(c[0]);return b};d.prototype.NJ=
function(b,a){if(b.hn())throw e.g.X("curves not supported");var c=b.G();if(1736==c)return this.YW(b,a);if(1607==c)return this.ZW(b,a);throw e.g.X("projectMultiPath");};d.prototype.YW=function(b,a){var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),m=f.Fb(),g=e.J.qv(Math.min(b.D(),64));b=e.Ja.oe(b);if(3==k){var h=c.ij,c=h.Gk(),k=c.Fb();b=h.Dl(b,!0);this.qq(h,e.Om.forward,b);b=h.Cl(b,!0)}h=null;3==m&&(h=f.ij,f=h.Gk(),m=f.Fb());var l=2==k,w=2==m,n=w?f.kc():f,p=!w&&!this.Gw,m=!1,q=b;if(l){if(q=e.Ib.MJ(q,c,this.Zo,
a),q.u())return q}else{b=new e.h;q.ac(b);k=c.qe();if(b.A<k.A||b.B>k.B){var t=e.h.pa(b.o-1,k.A,b.v+1,k.B),q=e.uh.rq(q,t,c,NaN,0,a);if(q.u())return q}b.N()>2*k.N()&&(q=e.Ib.Aq(q,-2*k.N(),2*k.N(),c,!0,0,!0,a))}b=this.yI;(k=!isNaN(b))&&(q=e.Jm.local().V(q,b,a));var t=w?f.Sj():null,r=NaN;l&&(r=c.pi());var v=null!=f.Ws();if(this.mI)l&&(e.Ib.qs(c,r,q,g),k&&(l=c.Ch(),r=c.kc().Ch(),b*=r/l)),e.Ib.ps(this.Ke,q,p,g),k&&(l=c.kc().Ch(),r=f.kc().Ch(),b*=r/l),c=q;else{var x=new e.Ua(q.description);x.VE(q);l&&(e.Ib.qs(c,
r,x,g),k&&(l=c.Ch(),r=c.kc().Ch(),b*=r/l));e.Ib.ps(this.Ke,x,p,g);k&&(l=c.kc().bn(),r=f.kc().bn(),b*=r/l);p=NaN;w?(t=f.Sj(),p=f.pi()):isNaN(this.pn)||(p=this.pn);l=d.se(c)|d.se(f);r=10*n.re(0);this.Gw&&(l=3,r=0);c=e.Ib.LS(q,c,x,n,p,a,l,r)}v&&(c=e.Ib.kF(c,f,a));w&&(m||(w=n.qe().N(),c.xf(0,0).N()>=w-n.re(0)&&(n=t.getNorthPoleLocation(),w=t.getSouthPoleLocation(),q=t.getNorthPoleGeometry(),t=t.getSouthPoleGeometry(),p=0,q==e.Bg.PE_POLE_POINT&&n!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),t==e.Bg.PE_POLE_POINT&&
w!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(m=!0))),c=e.Ib.uA(c,f,this.Dn,a),k&&(c=e.Jm.local().V(c,b,a)),e.Ib.vy(f,c,g));if(c.u())return c;m&&(c=e.Km.local().V(c,f,!1,a));null!=h&&(c=h.Cl(c,!1),this.qq(h,e.Om.reverse,c),c=h.Dl(c,!1));return c};d.se=function(b){if(2!=b.Fb())return 0;var a=0,c=b.Sj();b=c.getNorthPoleLocation();var f=c.getSouthPoleLocation(),k=c.getNorthPoleGeometry(),c=c.getSouthPoleGeometry();k==e.Bg.PE_POLE_POINT&&b!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);c==e.Bg.PE_POLE_POINT&&
f!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};d.prototype.ZW=function(b,a){var c=this.Ke.je,f=this.Ke.He,k=c.Fb(),m=f.Fb(),g=e.J.qv(Math.min(b.D(),64));b=e.Ua.oe(b);if(3==k){var h=c.ij,c=h.Gk(),k=c.Fb();b=h.Dl(b,!0);this.qq(h,e.Om.forward,b);b=h.Cl(b,!0)}h=null;3==m&&(h=f.ij,f=h.Gk(),m=f.Fb());var l=2==k,k=(m=2==m)?f.kc():f,w=!m&&!this.Gw;if(l){if(b=e.Ib.MJ(b,c,this.Zo,a),b.u())return b}else{var n=new e.h;b.ac(n);var p=c.qe();if(n.A<p.A||n.B>p.B)if(n=e.h.pa(n.o-1,p.A,n.v+1,p.B),b=e.uh.rq(b,n,
c,NaN,0,a),b.u())return b}var q=NaN;l&&(q=c.pi());var n=null!=f.Ws(),p=this.yI,t=!isNaN(p);t&&(b=e.Jm.local().V(b,p,a));if(this.mI)l&&e.Ib.qs(c,q,b,g),t&&(l=c.Ch(),q=c.kc().Ch(),p*=q/l),e.Ib.ps(this.Ke,b,w,g),t&&(l=c.kc().Ch(),q=f.kc().Ch(),p*=q/l),c=b;else{var r=new e.Ua(b.description);r.VE(b);l&&(e.Ib.qs(c,q,r,g),t&&(l=c.Ch(),q=c.kc().Ch(),p*=q/l));e.Ib.ps(this.Ke,r,w,g);t&&(l=c.kc().Ch(),q=f.kc().Ch(),p*=q/l);w=NaN;m?w=f.pi():isNaN(this.pn)||(w=this.pn);l=d.se(c)|d.se(f);q=10*k.re(0);this.Gw&&
(l=3,q=0);c=e.Ib.MS(b,c,r,k,w,a,l,q)}n&&(c=e.Ib.kF(c,f,a));m&&(c=e.Ib.uA(c,f,this.Dn,a),t&&(c=e.Jm.local().V(c,p,a)),e.Ib.vy(f,c,g));if(c.u())return c;null!=h&&(c=h.Cl(c,!1),this.qq(h,e.Om.reverse,c),c=h.Dl(c,!1));return c};d.prototype.WW=function(b,a){var c=(b.fa()+b.N())/400;if(0!=c){var f=e.Jm.local().V(b,c,a),f=this.NJ(f,a),c=b.Ka();f.Qn(c)}else c=new e.Wa(b.Bq()),f=this.PJ(c),c=b.Ka(),f.u()?c.Oa():(b.copyTo(c),f=f.w(),c.I(f.x,f.y,f.x,f.y));return c};d.prototype.XW=function(b,a){b=e.T.oe(b);var c=
this.Ke.je,f=this.Ke.He,k=c.Fb(),d=f.Fb(),g=e.J.qv(Math.min(b.D(),64));if(3==k){var h=c.ij,c=h.Gk(),k=c.Fb();b=h.Cl(b,!0);this.qq(h,e.Om.forward,b);b=h.Dl(b,!0)}if(2==k){this.Zo==e.di.Clip?b=e.tk.local().V(b,c.Mk(),c,a):c.Jc()&&(k=new e.h,b.ac(k),c.qe().contains(k)||(this.Zo==e.di.PannableFold&&(b=e.Ib.Mj(b,c)),e.Ib.xu(b,c.qe(),c.re(0),!0),b=e.Ib.Xm(b,c,0,!0,0,a)));if(b.u())return b;e.Ib.qs(c,0,b,g)}else e.Ib.xu(b,c.qe(),c.re(0),!0);e.Ib.ps(this.Ke,b,!1,g);c=0;k=!1;h=null;3==d&&(k=!0,h=f.ij,f=h.Gk(),
d=f.Fb());(d=2==d)?c=f.pi():isNaN(this.pn)||(c=this.pn);d&&this.Dn!=e.di.Clip||(b=e.Ib.Xm(b,f.kc(),c,!1,0,a));if(d&&(b=e.Ib.uA(b,f,this.Dn,a),e.Ib.vy(f,b,g),b.u()))return b;k&&(b=h.Cl(b,!0),this.qq(h,e.Om.reverse,b),b=h.Dl(b,!0));return b};d.prototype.qq=function(b,a,c){var f=c.D();if(0!=f){for(var k=c.Pa(0),d=e.J.gf(200,0),g=[],h=0;h<f;){var l=Math.min(100,f-h);k.pl(2*h,2*l,d,2,!0);for(var w=0;w<l;++w)g[w]=e.b.pa(d[2*h],d[2*h+1]);b.Du(a,g,l);h+=l}c.Dc(1993)}};d.rk=function(b,a,c){if(null==b||null==
a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new e.Ja(b.description),f.jd(b,!1)):e.T.Oc(f)?(f=new e.Ua(b.description),f.dc(b,!0)):f=b;f=e.Ib.Mj(f,a);return f.u()?f:e.Ib.Xm(f,a,0,f!=b,0,c)};d.Nj=function(b,a,c,f){if(null==b||null==a||!a.Jc())throw e.g.X("Invalid Arguement");if(b.u())return b;var k=b.G();if(e.T.Ic(k)){b=e.Ib.Mj(b,a);k=new e.h;b.s(k);for(var m=e.na.Zy(a,k,!1),g=a.Bh(),h=Math.floor((k.o-g.o)/g.N())*g.N()+g.o;h<k.v;)h>k.o+m&&h<k.v-m&&(b=e.Ib.qU(b,
a,c,h)),h+=g.N()}else{if(197==k)return k=new e.Ja(b.description),k.jd(b,!1),d.Nj(k,a,c,f);if(e.T.Oc(k))return k=new e.Ua(b.description),k.dc(b,!0),d.Nj(k,a,c,f)}return d.rk(b,a,f)};d.Yp=function(b,a,c,f){var k=a.Fb(),m=new e.fE;a.jX(m);if(0==k)return d.Dj(b,m,a,c);f==e.Up.foldAndClipWithHorizon&&a.Jc()&&(b=d.rk(b,a,c));b=d.Dj(b,m,a,c);if(f==e.Up.clipToDomainOnly||b.u())return b;if(1==k)return f==e.Up.clipWithHorizon?(f=new e.h,b.ac(f),k=a.qe(),m=.01*k.N(),f.A=k.A,f.B=k.B,f.o-=m,f.v+=m,e.uh.rq(b,f,
a,NaN,0,c)):b;if(2==k)return k=a.Mk(),f==e.Up.clipWithHorizon||f==e.Up.foldAndClipWithHorizon?(a=e.tk.local().V(b,k,a,c),a==k?e.T.oe(a):a):b;if(3==k)return b;throw e.g.X("missing implementation");};d.Dj=function(b,a,c,f){var k=a.XT(),d=b.hasAttribute(1),g=b.hasAttribute(2),h=new e.Ac;h.Oa();var l=new e.Ac;l.Oa();d&&(h=a.YT());g&&(l=a.tT());a=e.uh.rq(b,k,c,NaN,0,f);d&&(d=a.xf(1,0),h.contains(d)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,h,1)));g&&(d=a.xf(2,0),l.contains(d)||(b==a&&(a=e.T.oe(a)),e.na.UK(a,l,2)));
return a};return d}();e.ko=d})(t||(t={}));(function(e){var d=function(d){function b(a,c,b,k){d.call(this);void 0===a?this.description=e.ye.Ig():void 0===b?this.description=a:(this.description=e.ye.Ig(),this.xC(a,c),this.vm(b,k))}N(b,d);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,c=this.ra-this.oa;return Math.sqrt(a*a+c*c)};b.prototype.fh=function(a){var c=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(c*c+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=
function(){var a=new e.b;a.zc(this.Cc(),this.ec());return a};b.gR=function(a,c){return new b(a.x,a.y,c.x,c.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var c=new e.h;this.s(c);a.Gp(c);for(var c=1,b=this.description.Ga;c<b;c++)for(var k=this.description.rd(c),d=e.ma.Xa(k);c<d;c++){var g=this.xf(k,0);a.setInterval(k,0,g)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,
this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof e.Hd){this.Bc();var c=new e.b;c.x=this.ua;c.y=this.ra;a.$h(c,c);this.ua=c.x;this.ra=c.y;c.x=this.sa;c.y=this.oa;a.$h(c,c);this.sa=c.x;this.oa=c.y}else this.Bc(),c=new e.qd,c.x=this.ua,c.y=this.ra,c.z=this.ae(0,1,0),c=a.Rp(c),this.ua=c.x,this.ra=c.y,this.oo(0,1,0,c.z),c.x=this.sa,c.y=this.oa,c.z=this.ae(1,1,0),c=a.Rp(c),this.sa=c.x,this.oa=c.y,this.oo(1,1,0,c.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=
function(a,c){return(this.sa-a-(this.ua-a))*(this.oa-c+(this.ra-c))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return e.Ub.Xq(this.ua,this.sa,a)};b.prototype.YS=function(a){return e.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=function(a,c){var b=new e.Cg;this.yh(a,c,b);return b.get()};b.prototype.yh=function(a,c,b){if(null==b)throw e.g.F();b.Js();b=b.get();b.Fg(this.description);var f=new e.b;this.gc(a,f);b.xC(f.x,f.y);
this.gc(c,f);b.vm(f.x,f.y);for(var f=1,d=this.description.Ga;f<d;f++)for(var g=this.description.Td(f),h=e.ma.Xa(g),l=0;l<h;l++){var w=this.Yc(a,g,l);b.Tx(g,l,w);w=this.Yc(c,g,l);b.Lx(g,l,w)}};b.prototype.Yc=function(a,c,b){if(0==c)return 0==b?this.gc(a).x:this.gc(a).y;switch(e.ma.Xz(c)){case 0:return.5>a?this.dt(c,b):this.Os(c,b);case 1:var f=this.dt(c,b);c=this.Os(c,b);return e.Ub.Xq(f,c,a);case 2:throw e.g.X("not implemented");}throw e.g.za();};b.prototype.pe=function(a,c){var b=this.sa-this.ua,
e=this.oa-this.ra,d=b*b+e*e;if(0==d)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*e)/d;c||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,c,b,e){if(a){a=this.oa-this.ra;if(0==a)return c==this.oa?-1:0;c=(c-this.ra)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.PG(c))}else{a=this.sa-this.ua;if(0==a)return c==this.sa?-1:0;c=(c-this.ua)/a;if(0>c||1<c)return 0;null!=b&&(b[0]=this.YS(c))}null!=e&&(e[0]=c);return 1};b.prototype.pf=function(a,c){var b=this.oa-this.ra;if(0==b)return a==this.oa?c:NaN;b=(a-
this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,c,b){return 0<=this.lq(a.x,a.y,c,b)};b.prototype.Si=function(a,c,b){return 0<=this.lq(a,c,b,!0)};b.prototype.mt=function(a,c){return this.av(a,c,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,c=this.description.Er-2;a<c;a++){var b=this.la[a];this.la[a]=this.la[a+c];this.la[a+c]=b}}};b.prototype.ev=
function(a,c){a=e.b.pa(a,c);a.sub(this.ec());c=new e.b;c.zc(this.Cc(),this.ec());var b=c.Ui(a);a=8.881784197001252E-16*(Math.abs(c.x*a.y)+Math.abs(c.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,c,b,k){var f=this.ua,d=this.ra,g=a-f,h=c-d,g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return k&&0==g?NaN:0;g=a-this.sa;h=c-this.oa;g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return k&&0==g?NaN:1;g=this.sa-this.ua;h=this.oa-this.ra;k=Math.sqrt(g*g+h*h);if(0<
k){var l=1/k,g=g*l,h=h*l,w=a-f,n=c-d,p=w*g+n*h,q=1.7763568394002505E-15*(Math.abs(w*g)+Math.abs(n*h)),t=g,g=-h,h=t,q=Math.max(b,q);if(p<-q||p>k+q)return NaN;if(Math.abs(w*g+n*h)<=Math.max(b,1.7763568394002505E-15*(Math.abs(w*g)+Math.abs(n*h)))&&(g=e.J.pk(p*l,0,1),.5>=g?(h=this.ua+(this.sa-this.ua)*g,k=this.ra+(this.oa-this.ra)*g):(h=this.sa-(this.sa-this.ua)*(1-g),k=this.oa-(this.oa-this.ra)*(1-g)),e.b.xz(h,k,a,c)<=b)){if(.5>g){if(e.b.xz(h,k,f,d)<=b)return 0}else if(e.b.xz(h,k,this.sa,this.oa)<=b)return 1;
return g}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.NO(a)};b.prototype.JE=function(a,c,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var d=new e.b;d.x=a.sa-f;d.y=a.oa-b;return c.oi(d)>6.661338147750939E-16*c.zE(d)?(d.x=a.ua-f,d.y=a.ra-b,c.oi(d)<=6.661338147750939E-16*c.zE(d)):!0};b.prototype.IE=function(a){var c=new e.b;c.x=this.sa-this.ua;c.y=this.oa-this.ra;if(!this.JE(a,c,!1))return!1;c.Lr();return this.JE(a,c,!0)?!0:!1};b.We=
function(a,c){var b=a.ev(c.ua,c.ra),e=a.ev(c.sa,c.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=c.ev(a.ua,a.ra);e=c.ev(a.sa,a.oa);if(0>b&&0>e||0<b&&0<e)return!1;b=a.Rb();e=c.Rb();return b>e?a.IE(c):c.IE(a)};b.se=function(a,c,b){var f=e.b.pa(NaN,NaN),d=a.sa-a.ua,g=a.oa-a.ra,h=c.sa-c.ua,l=c.oa-c.ra,w=h*g-d*l;if(0==w)return f;var n=8.881784197001252E-16*(Math.abs(h*g)+Math.abs(d*l)),p=c.ua-a.ua,q=c.ra-a.ra,t=h*q-p*l,r=t/w,v=Math.abs(w),h=(8.881784197001252E-16*(Math.abs(h*q)+Math.abs(p*l))*v+n*Math.abs(t))/(w*
w)+2.220446049250313E-16*Math.abs(r);if(r<-h||r>1+h)return f;l=d*q-p*g;h=l/w;d=(8.881784197001252E-16*(Math.abs(d*q)+Math.abs(p*g))*v+n*Math.abs(l))/(w*w)+2.220446049250313E-16*Math.abs(h);if(h<-d||h>1+d)return f;r=e.J.pk(r,0,1);d=e.J.pk(h,0,1);g=a.gc(r);w=c.gc(d);n=new e.b;n.zc(g,w);if(n.length()>b&&(n.add(g,w),n.scale(.5),r=a.pe(n,!1),d=c.pe(n,!1),a=a.gc(r),c=c.gc(d),a.sub(c),a.length()>b))return f;f.ka(r,d);return f};b.RO=function(a,c,f,e){var k=0;if(a.ua==c.ua&&a.ra==c.ra||a.ua==c.sa&&a.ra==c.oa)if(k++,
!e)return 1;if(a.sa==c.ua&&a.oa==c.ra||a.sa==c.sa&&a.oa==c.oa){k++;if(2==k)return 2;if(!e)return 1}return c.Si(a.ua,a.ra,f)||c.Si(a.sa,a.oa,f)||a.Si(c.ua,c.ra,f)||a.Si(c.sa,c.oa,f)?1:e&&0!=k?0:0==b.We(a,c)?0:1};b.Gy=function(a,c,f,k,d,g){var m=0,u=a.lq(c.ua,c.ra,g,!1),h=a.lq(c.sa,c.oa,g,!1),l=c.lq(a.ua,a.ra,g,!1),w=c.lq(a.sa,a.oa,g,!1);isNaN(u)||(null!=k&&(k[m]=u),null!=d&&(d[m]=0),null!=f&&(f[m]=e.b.pa(c.ua,c.ra)),m++);isNaN(h)||(null!=k&&(k[m]=h),null!=d&&(d[m]=1),null!=f&&(f[m]=e.b.pa(c.sa,c.oa)),
m++);2==m||isNaN(l)||0==u&&0==l||0==h&&1==l||(null!=k&&(k[m]=0),null!=d&&(d[m]=l),null!=f&&(f[m]=e.b.pa(a.ua,a.ra)),m++);2==m||isNaN(w)||1==u&&0==w||1==h&&1==w||(null!=k&&(k[m]=1),null!=d&&(d[m]=w),null!=f&&(f[m]=e.b.pa(c.sa,c.oa)),m++);if(0<m)return 2==m&&null!=k&&k[0]>k[1]&&(a=k[0],k[0]=k[1],k[1]=a,null!=d&&(k=d[0],d[0]=d[1],d[1]=k),null!=f&&(d=e.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=d)),m;m=b.se(a,c,g);if(isNaN(m.x))return 0;null!=f&&(f[0]=a.gc(m.x));null!=k&&(k[0]=m.x);null!=d&&(d[0]=m.y);return 1};
b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(e.dE);e.Hb=d})(t||(t={}));(function(e){var d=function(){function e(){this.am=[];this.Ca=-1}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=
null};e.prototype.TY=function(b){this.am.push(b)};e.prototype.Re=function(){return!0};return e}();e.RM=d})(t||(t={}));(function(e){(function(e){e[e.enumFillRuleOddEven=0]="enumFillRuleOddEven";e[e.enumFillRuleWinding=1]="enumFillRuleWinding"})(e.JN||(e.JN={}));var d=function(d){function b(a,c){d.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===c)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=
this.ir=0,this.description=e.ye.Ig();else{if(null==c)throw e.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=c}this.bj=null;this.Ta=0}N(b,d);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Bc();null==this.ur?this.ur=new e.Wa(this.description):this.ur.Fg(this.description)};b.prototype.$x=function(a,c){var b=new e.b;b.x=a;b.y=c;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw e.g.F();
this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=e.Uc.wh(2),this.kb.write(0,0),this.jb=e.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-2,1),a++);var c=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(c+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(c,this.ur),this.hh=!1)};b.prototype.Xj=function(a,c){this.By();this.rb(this.qa-
1,a,c)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.oW=function(a){this.Bc();if(this.$f)throw e.g.za();var c=this.aa();if(a>c)throw e.g.za();if(this.Qb(a)){if(null==this.jb)throw e.g.za();var b=this.qa,k=this.wa(a),d=this.Gc(a);this.zl(this.qa+1);this.wc();for(var g=0,h=this.description.Ga;g<h;g++)if(null!=this.ya[g]){var l=e.ma.Xa(this.description.Td(g));this.ya[g].Rk(l*d,this.ya[g],l*k,l,!0,1,l*b)}for(;c>a;c--)b=
this.kb.read(c),this.kb.write(c,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var c=this.jb.read(a);this.jb.write(a,c|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.se[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var c=this.wa(a);a=this.Gc(a)-1;if(c>a)return!1;c=this.Ba(c);a=this.Ba(a);return c.ub(a)};b.prototype.ft=function(a){return 0!=
(this.jb.read(a)&2)};b.prototype.dc=function(a,c){this.om(a.description);if(322==a.G()){var b=new e.Wa;if(c||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw e.g.za();};b.prototype.oq=function(a){var c=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,a.A);this.sq();this.hh=!1;c&&this.lg(256,!1)};b.prototype.jd=function(a,c){if(!a.u()){for(var b=0==this.qa,k=new e.Wa(this.description),d=0;4>d;d++)a.ig(c?4-d-1:d,k),0==d?this.Rf(k):this.lineTo(k);this.sq();this.hh=
!1;b&&!c&&this.lg(256,!1)}};b.prototype.add=function(a,c){for(var b=0;b<a.aa();b++)this.Ti(a,b,!c)};b.prototype.Ti=function(a,c,b){this.Yf(-1,a,c,b)};b.prototype.Bl=function(a,c){this.sA(a,c)};b.prototype.Bs=function(a,c,b,k,d){d||0!=this.aa()||(d=!0);0>c&&(c=a.aa()-1);if(c>=a.aa()||0>b||0>k||k>a.ew(c))throw e.g.X("index out of bounds");if(0!=k){var f=a.Qb(c)&&b+k==a.ew(c);if(!f||1!=k){this.hh=!1;this.om(a.description);b=a.wa(c)+b+1;d&&(k++,b--);f&&k--;f=this.qa;this.zl(this.qa+k);this.wc();if(d){if(0==
k)return;this.kb.add(this.qa);d=a.jb.read(c);d&=-5;this.$f&&(d|=1);this.jb.write(this.jb.size-1,d);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);d=0;for(var m=this.description.Ga;d<m;d++){var g=this.description.rd(d),h=e.ma.Xa(g),l=a.description.mg(g);0>l||null==a.ya[l]?this.ya[d].Vj(h*f,e.ma.de(g),k*h,h*f):this.ya[d].Rk(h*f,a.ya[l],h*b,k*h,!0,h,h*f)}if(this.hn())throw e.g.za();if(a.ft(c))throw e.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,c=this.aa();a<c;a++)this.CX(a)};
b.prototype.CX=function(a){this.wc();if(a>=this.aa())throw e.g.F();var c=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var k=0,d=this.description.Ga;k<d;k++)if(null!=this.ya[k]){var g=e.ma.Xa(this.description.Td(k));this.ya[k].Zd(g*(c+a),g*(b-a),g)}this.Dc(1993)};b.prototype.Rr=function(a){this.wc();var c=this.aa();0>a&&(a=c-1);if(a>=c)throw e.g.F();for(var b=this.wa(a),k=this.La(a),d=0,g=this.description.Ga;d<g;d++)if(null!=this.ya[d]){var h=e.ma.Xa(this.description.Td(d));this.ya[d].Fk(h*b,h*k,h*
this.qa)}for(b=a+1;b<=c;b++)d=this.kb.read(b),this.kb.write(b-1,d-k);if(null==this.jb)for(b=a+1;b<=c;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(c);this.jb.resize(c);this.qa-=k;this.lh-=k;this.Dc(1993)};b.prototype.Yf=function(a,c,b,d){if(c==this)throw e.g.F();if(b>=c.aa())throw e.g.F();var f=this.aa();if(a>f)throw e.g.F();0>a&&(a=f);0>b&&(b=c.aa()-1);this.hh=!1;this.om(c.description);c.wc();var k=c.wa(b),g=c.La(b),h=this.qa,l=c.Qb(b)&&!d?1:0;this.zl(this.qa+g);this.wc();for(var w=a<
f?this.wa(a):h,n=0,p=this.description.Ga;n<p;n++){var q=this.description.Td(n),t=c.description.mg(q),r=e.ma.Xa(q);0<=t&&null!=c.ya[t]?(0!=l&&this.ya[n].Rk(w*r,c.ya[t],r*k,r,!0,r,r*h),this.ya[n].Rk((w+l)*r,c.ya[t],r*(k+l),r*(g-l),d,r,r*(h+l))):this.ya[n].Vj(w*r,e.ma.de(q),r*g,r*h)}this.kb.add(h+g);for(d=f;d>=a+1;d--)k=this.kb.read(d-1),this.kb.write(d,k+g);c.ft(b);this.jb.add(0);for(d=f-1;d>=a+1;d--)f=this.jb.read(d),f&=-5,this.jb.write(d+1,f);f=c.DT().read(b);f&=-5;this.$f&&(f|=1);this.jb.write(a,
f)};b.prototype.sA=function(a,c){var b=-1,d=this.aa();if(b>d)throw e.g.F();0>b&&(b=d);this.hh=!1;var m=this.qa;this.zl(this.qa+c);this.wc();var g=b<d?this.wa(b):m;null!=a?this.ya[0].Sq(2*g,a,0,c,!0,2*m):(a=e.ma.de(0),this.ya[0].Vj(2*g,a,2*c,2*m));for(var h=1,l=this.description.Ga;h<l;h++){a=this.description.rd(h);var w=e.ma.Xa(a);a=e.ma.de(a);this.ya[h].Vj(g*w,a,w*c,w*m)}this.kb.add(this.qa);for(m=d;m>=b+1;m--)g=this.kb.read(m-1),this.kb.write(m,g+c);this.jb.add(0);for(m=d-1;m>=b+1;m--)d=this.jb.read(m),
d&=-5,this.jb.write(m+1,d);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,c,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>c.length)throw e.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.wc();var d=this.qa;this.zl(this.qa+b);this.wc();for(var g=0,h=this.description.Ga;g<h;g++){var l=this.description.Td(g),w=e.ma.Xa(l);this.ya[g].ho(w*(this.wa(a)+f+b),(d-this.wa(a)-f)*w,this.ya[g],w*(this.wa(a)+
f),!0,w);0==g?this.ya[g].ks(w*(this.wa(a)+f),b,c,0,!0):this.ya[g].Zh(e.ma.de(l),(this.wa(a)+f)*w,b*w)}this.hn()&&(this.cf.ho(this.wa(a)+f+b,d-this.wa(a)-f,this.cf,this.wa(a)+f,!0,1),this.tj.ho(this.wa(a)+f+b,d-this.wa(a)-f,this.tj,this.wa(a)+f,!0,1),this.cf.Zh(1,this.wa(a)+f,b),this.tj.Zh(-1,this.wa(a)+f,b));a+=1;for(c=this.aa();a<=c;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,c,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||c>this.La(a))throw e.g.X("index out of bounds");a==
this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>c&&(c=this.La(a));var d=this.qa;this.zl(this.qa+1);this.wc();var g=this.wa(a);this.ya[0].eh(2*(g+c),b,2*d);b=1;for(var h=this.description.Ga;b<h;b++){var l=this.description.Td(b),w=e.ma.Xa(l);this.ya[b].Vj(w*(g+c),e.ma.de(l),w,w*d)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.dC=function(a,c){var b=this.aa();0>a&&(a=b-1);if(a>=b||c>=this.La(a))throw e.g.X("index out of bounds");this.wc();var d=this.wa(a);
0>c&&(c=this.La(a)-1);d+=c;c=0;for(var m=this.description.Ga;c<m;c++)if(null!=this.ya[c]){var g=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(g*d,g,g*this.qa)}for(;b>=a+1;b--)d=this.kb.read(b),this.kb.write(b,d-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.FF=function(a,c,b,d){a=this.wa(a)+c;b=this.wa(b)+d;if(b<a||0>a||b>this.D()-1)throw e.g.F();d=this.Fa();c=0;d.Tb(a);do{for(;d.Ea();){a=d.ba();if(d.Db()==b)break;a=a.Rb();c+=a}if(d.Db()==b)break}while(d.Ya());return c};b.prototype.gQ=function(a,
c,b){c=this.wa(a)+c;b=this.wa(a)+b;if(0>c||b>this.D()-1)throw e.g.F();var f=this.Fa();if(c>b){if(!this.Qb(a))throw e.g.F("cannot iterate across an open path");f.kC()}var d=a=0;f.Tb(c);do d+=a,a=f.ba().Rb();while(f.Db()!=b);return d};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.GU=function(a,c,b,d){for(var f=a;f<b-1;f++)if(this.Qb(f))throw e.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var k=this.FF(a,c,b,d);if(0!=k)for(var g=1;g<f;g++){var h=this.description.rd(g);
if(2!=e.ma.Xz(h))for(var l=e.ma.Xa(h),w=0;w<l;w++)this.IU(h,a,c,b,d,k,w)}}};b.prototype.FU=function(a,c,b){var f=this.description.Ga;if(1!=f){var d=this.gQ(a,c,b);if(0!=d)for(var g=1;g<f;g++){var h=this.description.rd(g);if(2!=e.ma.Xz(h))for(var l=e.ma.Xa(h),w=0;w<l;w++)this.HU(h,a,c,b,d,w)}}};b.prototype.IU=function(a,c,b,d,m,g,h){var f=this.Fa();c=this.wa(c)+b;d=this.wa(d)+m;m=this.Yc(a,c,h);b=this.Yc(a,d,h);var k=m,u=0;f.Tb(c);do if(f.Ea()){f.ba();if(f.Db()==d)break;this.setAttribute(a,f.Db(),
h,k);f.Li();do{c=f.ba();if(f.Jk()==d)return;c=c.Rb();u+=c;k=e.Ub.Xq(m,b,u/g);f.Fo()||this.setAttribute(a,f.Jk(),h,k)}while(f.Ea())}while(f.Ya())};b.prototype.HU=function(a,c,b,d,m,g){var f=this.Fa(),k=this.wa(c)+b;c=this.wa(c)+d;if(c!=k){d=this.Yc(a,k,g);b=this.Yc(a,c,g);var u=0;f.Tb(k);f.kC();k=d;do{var h=f.ba();this.setAttribute(a,f.Db(),g,k);k=h.Rb();u+=k;k=e.Ub.Xq(d,b,u/m)}while(f.Jk()!=c)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.NE()};
b.prototype.Xc=function(a){a instanceof e.Hd?this.lF(a,-1):this.zP(a)};b.prototype.lF=function(a,c){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],d=new e.b,m=new e.b,g,h,l;for(0>c?(g=this.hn(),h=0,l=this.qa):(g=this.ft(c),h=this.wa(c),l=this.Gc(c));h<l;h++){d.x=b.read(2*h);d.y=b.read(2*h+1);if(g&&(c=this.tj.read(h),0<=c))switch(this.cf.read(h)&7){case 2:m.x=this.Xd.read(c);m.y=this.Xd.read(c+1);a.$h(m,m);this.Xd.write(c,m.x);this.Xd.write(c+1,m.y);m.x=this.Xd.read(c+3);m.y=this.Xd.read(c+4);a.$h(m,
m);this.Xd.write(c+3,m.x);this.Xd.write(c+4,m.y);break;case 4:throw e.g.za();}a.$h(d,d);b.write(2*h,d.x);b.write(2*h+1,d.y)}this.Dc(1993)}};b.prototype.zP=function(a){if(!this.u()){this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],d=new e.qd,m=new e.qd,g=this.hn(),h=0;h<this.qa;h++){d.x=c.read(2*h);d.y=c.read(2*h+1);d.z=b.read(h);if(g){var l=this.tj.read(h);if(0<=l)switch(this.cf.read(h)&7){case 2:m.x=this.Xd.read(l);m.y=this.Xd.read(l+1);m.z=this.Xd.read(l+2);m=a.Rp(m);this.Xd.write(l,m.x);
this.Xd.write(l+1,m.y);this.Xd.write(l+1,m.z);m.x=this.Xd.read(l+3);m.y=this.Xd.read(l+4);m.z=this.Xd.read(l+5);m=a.Rp(m);this.Xd.write(l+3,m.x);this.Xd.write(l+4,m.y);this.Xd.write(l+5,m.z);break;case 4:throw e.g.za();}}d=a.Rp(d);c.write(2*h,d.x);c.write(2*h+1,d.y);b.write(h,d.z)}this.Dc(1993)}};b.prototype.Py=function(){null==this.kb&&(this.kb=e.Uc.wh(1,0),this.jb=e.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;
a.mr=this.mr;null!=this.kb?a.kb=e.ia.Bk(this.kb):a.kb=null;null!=this.jb?a.jb=e.Fm.Bk(this.jb):a.jb=null;null!=this.tj?a.tj=e.ia.Bk(this.tj):a.tj=null;null!=this.cf?a.cf=e.Fm.Bk(this.cf):a.cf=null;null!=this.Xd?a.Xd=e.Rd.Bk(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.yk(1024)?a.bj=null:a.bj=this.bj};b.prototype.Rb=function(){if(!this.yk(512))return this.hr;for(var a=this.Fa(),c=new e.ry(0);a.Ya();)for(;a.Ea();)c.add(a.ba().Rb());this.hr=c.en();this.lg(512,!1);return c.en()};b.prototype.Eb=function(a){if(a==
this)return!0;if(!(a instanceof b&&d.prototype.Eb.call(this,a)))return!1;var c=this.aa();return c!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,c+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,c)?!1:d.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new e.ZN(this)};b.prototype.Oy=function(a){d.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,c){d.prototype.uo.call(this,a,c);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};
b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.yk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.yk(1024)){var a=this.aa();null==this.bj?this.bj=new e.Rd(a):this.bj.size!=a&&this.bj.resize(a);
for(var a=new e.ry(0),c=new e.ry(0),b=new e.b,d=0,m=this.Fa();m.Ya();){c.reset();for(this.w(this.wa(m.Ta),b);m.Ea();)c.add(m.ba().Cy(b.x,b.y));a.add(c.en());var g=d++;this.bj.write(g,c.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.zT=function(){if(this.$f){this.Al();for(var a=0,c=this.aa(),b=0;b<c;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.yk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=e.Uc.vq(a+1);for(var c=1,b=0;b<a;b++){var d=this.bj.read(b);
0==b&&(c=0<d?1:-1);0<d*c?this.jb.jC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var c=this.Ta,b=this.aa();if(0<=c&&c<b){if(a<this.Gc(c)){if(a>=this.wa(c))return c;c--}else c++;if(0<=c&&c<b&&a>=this.wa(c)&&a<this.Gc(c))return this.Ta=c}if(5>b){for(c=0;c<b;c++)if(a<this.Gc(c))return this.Ta=c;throw e.g.X("corrupted geometry");}c=0;for(--b;b>c;){var d=c+(b-c>>1),m=this.wa(d);if(a<m)b=d-1;else if(c=this.Gc(d),a>=c)c=d+1;else return this.Ta=d}return this.Ta=c};b.prototype.nT=function(a){var c=
this.Pa(0);this.ET();var b=this.Gc(a),d=this.wa(a);a=-1;var m=new e.b,g=new e.b;m.y=-Infinity;m.x=-Infinity;for(d+=0;d<b;d++)c.fc(2*d,g),-1==m.compare(g)&&(a=d,m.L(g));return a};b.prototype.jA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),c=0,b=this.aa();c<b;c++)this.Qb(c)&&a++;return a};b.prototype.ew=function(a){var c=this.La(a);this.Qb(a)||c--;return c};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?
1736:1607};b.prototype.ET=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.PT=function(){this.Cu();return this.cf};b.prototype.DT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};
b.prototype.Xu=function(a,c){null==this.ob&&(this.ob=new e.wl);c=e.xy.lX(c);var b=this.ob.Hi;if(null!=b)if(b.jl<a||c>b.LT())this.ob.My(null);else return!0;b=e.xy.create(this,a,c);this.ob.My(b);return!0};b.prototype.jc=function(){var a=d.prototype.jc.call(this);if(!this.Hc()){var c=this.aa();null!=this.kb&&this.kb.Ak(a,0,c+1);null!=this.jb&&this.jb.Ak(a,0,c)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,c,b){var f=this.cw(a);if(a==this.Gc(f)-
1&&!this.Qb(f))throw e.g.X("index out of bounds");this.wc();var d=this.cf,g=1;null!=d&&(g=d.read(a)&7);switch(g){case 1:c.Js();break;case 2:throw e.g.za();case 4:throw e.g.za();default:throw e.g.za();}c=c.get();b?c.Fg(e.ye.Ig()):c.Fg(this.description);f=a==this.Gc(f)-1&&this.Qb(f)?this.wa(f):a+1;d=new e.b;this.w(a,d);c.Mc(d);this.w(f,d);c.Zc(d);if(!b)for(b=1,d=this.description.Ga;b<d;b++)for(var g=this.description.Td(b),h=e.ma.Xa(g),l=0;l<h;l++){var w=this.Yc(g,a,l);c.Tx(g,l,w);w=this.Yc(g,f,l);c.Lx(g,
l,w)}};b.prototype.jk=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),d=new e.b,m=new e.h;m.Oa();var g=this.wa(a);for(a=this.Gc(a);g<a;g++)b.fc(2*g,d),m.Nb(d);c.I(m)}};b.prototype.iX=function(a,c){if(a>=this.aa())throw e.g.F();if(this.u())c.Oa();else{if(this.ft(a))throw e.g.X("not implemented");var b=this.Pa(0),d=new e.b,m=new e.h;m.Oa();var g=this.wa(a);for(a=this.Gc(a);g<a;g++)b.fc(2*g,d),m.Nb(d);c.I(m)}};b.prototype.Hj=
function(a){null==this.ob&&(this.ob=new e.wl);if(0==a||16>this.D())return!1;a=e.na.BF(this);this.ob.OE(a);return!0};b.prototype.CO=function(){null==this.ob&&(this.ob=new e.wl);if(null!=this.ob.np)return!0;this.ob.PE(null);var a=e.na.bQ(this);this.ob.PE(a);return!0};b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.VE=function(a){if(this==a)throw e.g.X("MultiPathImpl.add");for(var c=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.oW(c),c++};b.prototype.oQ=
function(a){var c=this.cw(a),b=this.wa(c);if(b!=a){c=this.Gc(c);if(a>=c||a<b)throw e.g.X("change_ring_start_point");for(var d=0,m=this.description.Ga;d<m;d++){var g=this.description.rd(d),g=e.ma.Xa(g);this.ya[d].rotate(b*g,a*g,c*g)}}};b.se=[0,0,6,0,8,0];return b}(e.Mu);e.xl=d})(t||(t={}));(function(e){var d=function(d){function b(a){d.call(this);if(void 0!==a){if(null==a)throw e.g.F();this.description=a}else this.description=e.ye.Ig();this.qa=0}N(b,d);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,c){this.resize(this.qa+1);var b=new e.b;b.ka(a,c);this.rb(this.qa-1,b)};b.prototype.Id=function(a,c,b){b=0>b?a.D():b;if(0>c||c>a.D()||b<c)throw e.g.F();if(c!=b){this.om(a.description);b-=c;var f=this.qa;this.resize(this.qa+b);this.wc();for(var d=0,g=a.description.Ga;d<g;d++){var h=a.description.Td(d),l=e.ma.Xa(h),w=this.Pa(h),h=a.Pa(h);w.Rk(f*l,h,c*l,b*l,!0,1,f*l)}}};b.prototype.ZE=function(a,c){var b=
a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;c=this.qa;this.resize(this.qa+b);for(var d=0;d<b;d++)this.rb(c+d,a[0+d])}};b.prototype.dC=function(a){if(0>a||a>=this.D())throw e.g.X("index out of bounds");this.wc();for(var c=0,b=this.description.Ga;c<b;c++)if(null!=this.ya[c]){var d=e.ma.Xa(this.description.Td(c));this.ya[c].Fk(d*a,d,d*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){d.prototype.NE.call(this)};
b.prototype.Xc=function(a){if(a instanceof e.Hd){if(!this.u()){this.wc();for(var c=this.ya[0],b=new e.b,d=0;d<this.qa;d++)b.x=c.read(2*d),b.y=c.read(2*d+1),a.$h(b,b),c.write(2*d,b.x),c.write(2*d+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();this.Ud(1);this.wc();for(var c=this.ya[0],b=this.ya[1],m=new e.qd,d=0;d<this.qa;d++){m.x=c.read(2*d);m.y=c.read(2*d+1);m.z=b.read(d);var g=a.Rp(m);c.write(2*d,g.x);c.write(2*d+1,g.y);b.write(d,g.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=
function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?d.prototype.Eb.call(this,a):!1};b.prototype.nP=function(a){var c=a.length,b=c;if(0>c||0>c||0>b)throw e.g.F();this.Ud(1);if(0!=b){c=b-0;b=this.qa;this.aK(this.qa+c);for(var d=this.Pa(0),m=0;m<c;m++){var g=a[0+m].y;d.write(2*(b+m),a[0+m].x);d.write(2*(b+m)+1,g)}d=this.Pa(1);for(m=0;m<c;m++)d.write(b+m,a[0+m].z);this.Dc(1993)}};b.prototype.oP=function(a,
c){var b=a.length;c=0>c?b:c;if(0>b||0>c)throw e.g.F();if(0!=c){b=c-0;if(0!=(b&1))throw e.g.F();c=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*c,b,a,0,!0)}};b.prototype.aK=function(a){var c=this.qa;this.zl(a);if(this.qa>c){a=1;for(var b=this.description.Ga;a<b;a++){var d=this.description.rd(a),m=e.ma.Xa(d);this.ya[a].Vj(m*c,e.ma.de(d),m*(this.qa-c),m*c)}}};b.prototype.fX=function(a,c){var b=this.qa,b=Math.min(b,c+1E3);if(0>c||c>=this.qa||b<c||1E3!=a.length)throw e.g.F();var d=this.Pa(0),m=b-c,g=[];
d.pl(2*c,2*m,g,0,!0);for(d=0;d<m;d++)a[d]=e.b.pa(g[2*d],g[2*d+1]);return b};b.prototype.gX=function(a,c){var b=this.qa,b=Math.min(b,0+c);if(0>=this.qa||0>b||a.length!=c)throw e.g.F();c=this.Pa(0);var d=null,m=e.ma.de(1),g=this.hasAttribute(1);g&&(d=this.Pa(1));var b=b-0,h=[],l=[];c.pl(0,2*b,h,0,!0);d.pl(0,b,l,0,!0);for(c=0;c<b;c++)a[c]=new e.qd(h[2*c],h[2*c+1],g?l[c]:m)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};
b.prototype.Gg=function(){return null};return b}(e.Mu);e.Ed=d})(t||(t={}));(function(e){(function(e){e[e.NotDetermined=0]="NotDetermined";e[e.Structure=1]="Structure";e[e.DegenerateSegments=2]="DegenerateSegments";e[e.Clustering=3]="Clustering";e[e.Cracking=4]="Cracking";e[e.CrossOver=5]="CrossOver";e[e.RingOrientation=6]="RingOrientation";e[e.RingOrder=7]="RingOrder";e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";e[e.OGCDisconnectedInterior=
10]="OGCDisconnectedInterior"})(e.YM||(e.YM={}));var d=function(){function e(b,a,c){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=c)}e.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return e}();e.$d=d})(t||(t={}));(function(e){var d=function(){function d(){}d.YZ=function(b){if(!1===b)throw e.g.KL();};d.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};d.qv=function(b){var a;void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=d.gf(2,a);return c};d.gf=function(b,
a){void 0===a&&(a=0);for(var c=[],f=0;f<b;f++)c[f]=a;return c};d.Nv=function(b,a){var c,f;void 0===c&&(c=0);for(void 0===f&&(f=b.length-1);c<=f;c++)b[c]=a};d.pk=function(b,a,c){return b<a?a:b>c?c:b};d.t_=function(){return 4};d.dh=function(b,a){var c=5381;void 0!==a?c=(a<<5)+a+(b&255):c=(c<<5)+c+(b&255);c=(c<<5)+c+(b>>8&255);c=(c<<5)+c+(b>>16&255);return(c<<5)+c+(b>>24&255)&2147483647};d.Zi=function(){throw Error("Not Implemented");};d.p_=function(){return-Infinity};d.r_=function(){return Infinity};
d.h_=function(){return 2147483647};d.UZ=function(){return 2.220446049250313E-16};d.VZ=function(){return 1.7976931348623157E308};d.IB=function(b){return d.eZ(b)+12345&2147483647};d.gI=function(b){var a=32,c=b%d.qA|0,f=b/d.qA|0;if(0===(a&=63))return b;32>a?(b=c>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*d.qA+(b>>>0)};d.eZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};d.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};d.hV=Math.pow(2,53)-1;d.XZ=-d.hV;d.jD=
65536;d.K_=16777216;d.qA=d.jD*d.jD;return d}();e.J=d})(t||(t={}));(function(e){(function(e){e[e.Project=0]="Project";e[e.Union=1]="Union";e[e.Difference=2]="Difference";e[e.Proximity2D=3]="Proximity2D";e[e.Relate=4]="Relate";e[e.Equals=5]="Equals";e[e.Disjoint=6]="Disjoint";e[e.Intersects=7]="Intersects";e[e.Within=8]="Within";e[e.Contains=9]="Contains";e[e.Crosses=10]="Crosses";e[e.Touches=11]="Touches";e[e.Overlaps=12]="Overlaps";e[e.Buffer=13]="Buffer";e[e.Distance=14]="Distance";e[e.Intersection=
15]="Intersection";e[e.Clip=16]="Clip";e[e.Cut=17]="Cut";e[e.DensifyByLength=18]="DensifyByLength";e[e.DensifyByAngle=19]="DensifyByAngle";e[e.LabelPoint=20]="LabelPoint";e[e.GeodesicBuffer=21]="GeodesicBuffer";e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";e[e.ShapePreservingDensify=23]="ShapePreservingDensify";e[e.GeodeticLength=24]="GeodeticLength";e[e.GeodeticArea=25]="GeodeticArea";e[e.Simplify=26]="Simplify";e[e.SimplifyOGC=27]="SimplifyOGC";e[e.Offset=28]="Offset";e[e.Generalize=
29]="Generalize";e[e.SymmetricDifference=30]="SymmetricDifference";e[e.ConvexHull=31]="ConvexHull";e[e.Boundary=32]="Boundary";e[e.SimpleRelation=33]="SimpleRelation"})(e.tN||(e.tN={}));var d=function(){function d(){}d.prototype.G=function(){return null};d.prototype.qo=function(){return!1};d.prototype.wv=function(){return!1};d.NZ=function(b){e.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.OE(null)))};return d}();e.ef=d})(t||(t={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}
N(b,d);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m){return a instanceof e.T?(m=new e.hd(a),this.V(m,c,[b],!1,d).next()):!0===d?(b=new e.ED(a,c,b,!1,m),e.ei.local().V(b,c,m)):new e.ED(a,c,b,!1,m)};b.$=null;return b}(e.ef);e.DD=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c,f,d){this.Ca=-1;this.ie=b;this.JA=a;this.yt=c;this.uV=new e.h;this.uV.Oa();this.To=-1;this.lc=d}d.prototype.next=function(){for(var b;null!=
(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};d.prototype.Ia=function(){return this.Ca};d.prototype.buffer=function(b,a){return e.QL.buffer(b,a,this.JA,NaN,96,this.lc)};d.prototype.Re=function(){return!0};return d}();e.ED=d})(t||(t={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}N(b,d);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,
c,b,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d).next()):new e.dN(a,c,b,d)};b.$=null;return b}(e.ef);e.cN=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c){this.Ca=-1;if(null==b)throw e.g.F();this.R=a;this.$k=b;this.ta=e.na.be(c,a,!1)}d.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),e.ne.clip(b,this.R,this.ta,0)):null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.dN=d})(t||(t={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}N(b,d);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof e.T?e.GD.EF(a):new e.GD(c,a,b)};b.$=null;return b}(e.ef);e.FD=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c){this.bB=new e.Ju;this.Ca=-1;if(null==a)throw e.g.F();this.oI=b;this.Pc=!1;this.$k=a;this.lc=c}d.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.fQ(this.$k);this.Pc=!0;
return b}return null}if(!this.Pc){b=this.$k.next();if(null!=b)return this.Ca=this.$k.Ia(),d.EF(b);this.Pc=!0}return null};d.prototype.Ia=function(){return this.Ca};d.prototype.fQ=function(b){for(var a;null!=(a=b.next());)this.bB.Jb(a);return this.bB.VS()};d.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw e.g.X("Invalid call for non merging convex hull.");var b=this.$k.next();if(null!=b)return this.bB.Jb(b),!0;throw e.g.X("Expects a non-null geometry.");};d.EF=function(b){if(d.Wg(b))return b;
var a=b.G();if(e.xl.Oc(a))return a=new e.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var c=new e.Wa,a=new e.Ua(b.description);b.Ae(0,c);a.Rf(c);b.Ae(1,c);a.lineTo(c);return a}return e.Ju.VQ(b)};d.Wg=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:e.xl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:e.Ju.VH(b,0)};return d}();e.GD=d})(t||(t={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}N(b,d);b.prototype.G=
function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,d,m){return new e.fN(a,c,b,d,m)};b.$=null;return b}(e.ef);e.eN=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c,f,d){this.qg=null;if(null==a||null==c)throw e.g.X("invalid argument");this.rV=b;this.WA=a;this.xI=c;b=e.na.Zv(a,c);this.ta=e.na.be(f,b,!0);this.wI=-1;this.ke=d}d.prototype.Ia=function(){return 0};d.prototype.next=function(){this.IS();return++this.wI<this.qg.length?this.qg[this.wI]:
null};d.prototype.IS=function(){if(null==this.qg)switch(this.qg=[],this.WA.G()){case 1607:this.KS();break;case 1736:this.JS()}};d.prototype.KS=function(){var b=new e.Ua,a=new e.Ua,c=new e.Ua;this.qg.push(b);this.qg.push(a);var f=[];e.XL.VL(this.rV,this.WA,this.xI,this.ta,f,this.ke);for(var d=0;d<f.length;d++){var m=f[d];0==m.nx?b.add(m.Y,!1):1==m.nx||2==m.nx?a.add(m.Y,!1):3==m.nx?this.qg.push(m.Y):c.add(m.Y,!1)}c.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(c);b.u()&&a.u()&&3>this.qg.length&&
(this.qg.length=0)};d.prototype.JS=function(){var b=new e.ia(0),a=new e.fd,c=a.iG(),f=a.Jb(this.WA),d=a.Jb(this.xI),m=new e.Dg;try{m.Xr(a,this.ta,this.ke);m.Hl(c,f,d,b);var g=a.Se(f),h=new e.Ja,l=new e.Ja;this.qg.length=0;this.qg.push(h);this.qg.push(l);for(f=0;f<b.size;f++){var n,w=new e.fd,p=w.Jb(g),q=w.Jb(a.Se(b.get(f)));m.Wr(w,this.ke);var t=m.nw(p,q);n=w.Se(t);if(!n.u()){var r=a.VG(b.get(f),c);2==r?h.add(n,!1):1==r?l.add(n,!1):this.qg.push(n);var v=new e.fd,p=v.Jb(g),q=v.Jb(a.Se(b.get(f)));m.Wr(v,
this.ke);g=v.Se(m.Vm(p,q))}}!g.u()&&0<b.size&&this.qg.push(g);h.u()&&l.u()&&(this.qg.length=0)}finally{m.qh()}};d.prototype.Re=function(){return!0};return d}();e.fN=d})(t||(t={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}N(b,d);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){if(a instanceof e.T)return a=new e.hd(a),this.V(a,c,b).next();if(0>=c)throw e.g.F();return new e.gN(a,c,b)};b.$=null;return b}(e.ef);
e.Jm=d})(t||(t={}));(function(e){var d=function(){function d(b,a){this.Ca=-1;this.ie=b;this.Kt=a}d.prototype.Ia=function(){return this.Ca};d.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.KR(b)):null};d.prototype.KR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(e.T.Oc(a))return this.MR(b);if(197==a)return this.LR(b);throw e.g.za();};d.prototype.MR=function(b){if(b.Rb()<=this.Kt)return b;var a=new e.Ua(b.description);
a.dc(b,!0);return this.wz(a)};d.prototype.LR=function(b){var a=new e.Ja(b.description);a.jd(b,!1);var c=new e.h;b.s(c);b=c.fa();return c.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};d.prototype.wz=function(b){for(var a=b.Ka(),c=b.Fa();c.Ya();)for(var f=!0;c.Ea();){var d=c.ba();if(322!=d.G())throw e.g.X("not implemented");var m=c.Fo(),g=d.Rb();if(g>this.Kt){var h=Math.ceil(g/this.Kt),g=new e.Wa(b.description);f&&(d.Dp(g),a.Rf(g));for(var l=f=1/h,n=0,h=h-1;n<h;n++)d.Fx(l,g),a.lineTo(g),l+=f;m?a.sq():(d.Bp(g),
a.lineTo(g))}else m?a.sq():a.dc(d,f);f=!1}return a};d.prototype.Re=function(){return!0};return d}();e.gN=d})(t||(t={}));(function(e){var d=function(d){function b(){d.apply(this,arguments)}N(b,d);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 2};b.prototype.V=function(a,c,b,d){return a instanceof e.T?(a=new e.hd(a),c=new e.hd(c),this.V(a,c,b,d).next()):new e.hN(a,c,b,d)};b.Vm=function(a,c,f,d){if(a.u()||c.u())return a;var k=a.tb(),g=c.tb();if(k>g)return a;var h=
a.G(),l=c.G(),n=new e.h,w=new e.h,p=new e.h;a.s(n);c.s(w);p.I(n);p.Nb(w);var p=e.na.be(f,p,!0),q=p*Math.sqrt(2)*1.00001,t=new e.h;t.I(n);t.O(q,q);if(!t.Yb(w))return a;if(1==k&&2==g)return b.TL(a,c,l,f,d);if(33==h)switch(e.xl.Oc(l)?(f=new e.Ua(c.description),f.dc(c,!0)):f=c,l){case 1736:return b.hO(a,f,p);case 1607:return b.lO(a,f,p);case 550:return b.WN(a,f,p);case 197:return b.QN(a,f,p);case 33:return b.dO(a,f,p);default:throw e.g.F();}else if(550==h)switch(l){case 1736:return b.DM(a,c,p);case 197:return b.nM(a,
c,p);case 33:return b.yM(a,c,p)}return e.Dg.Vm(a,c,f,d)};b.hO=function(a,c,b){return 0==e.gd.WH(c,a,b)?a:a.Ka()};b.lO=function(a,c,b){var f=a.w();c=c.Fa();for(var d=b*Math.sqrt(2)*1.00001,g=d*d,h=new e.h;c.Ya();)for(;c.Ea();){var l=c.ba();l.s(h);h.O(d,d);if(h.contains(f)){if(l.mt(f,b))return a.Ka();var n=l.ec();if(e.b.sc(f,n)<=g)return a.Ka();n=l.Cc();if(e.b.sc(f,n)<=g)return a.Ka()}}return a};b.WN=function(a,c,b){var f=c.Pa(0);c=c.D();var d=a.w(),g=new e.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var h=
0;h<c;h++)if(f.fc(2*h,g),e.b.sc(g,d)<=b)return a.Ka();return a};b.QN=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.w();return f.contains(c)?a.Ka():a};b.dO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w();c=c.w();return e.b.sc(f,c)<=b?a.Ka():a};b.DM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);for(var d=a.D(),g=!1,h=[],l=0;l<d;l++)h[l]=!1;for(var n=new e.b,l=0;l<d;l++)a.w(l,n),f.contains(n)&&0!=e.gd.ge(c,n,b)&&(g=!0,h[l]=!0);if(!g)return a;c=a.Ka();for(l=0;l<d;l++)h[l]||c.Id(a,l,l+1);
return c};b.nM=function(a,c,b){var f=new e.h;c.s(f);f.O(b,b);c=a.D();var d=!1;b=[];for(var g=0;g<c;g++)b[g]=!1;for(var h=new e.b,g=0;g<c;g++)a.w(g,h),f.contains(h)&&(d=!0,b[g]=!0);if(!d)return a;f=a.Ka();for(g=0;g<c;g++)b[g]||f.Id(a,g,g+1);return f};b.yM=function(a,c,b){var f=a.Pa(0),d=a.D(),g=c.w(),h=new e.b,l=!1;c=[];for(var n=0;n<d;n++)c[n]=!1;n=b*Math.sqrt(2)*1.00001;b=n*n;for(n=0;n<d;n++)f.fc(2*n,h),e.b.sc(h,g)<=b&&(l=!0,c[n]=!0);if(!l)return a;f=a.Ka();for(n=0;n<d;n++)c[n]||f.Id(a,n,n+1);return f};
b.TL=function(a,c,b,d,m){var f=new e.ci;a.Qn(f);var k=new e.h;c.s(k);f.Nb(k);f.O(.1*f.N(),.1*f.fa());k=new e.Ja;k.jd(f,!1);1736==b?k.add(c,!0):k.jd(c,!0);return e.tk.local().V(a,k,d,m)};b.$=null;return b}(e.ef);e.cq=d})(t||(t={}));(function(e){var d=function(){function d(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.JA=c;this.xV=a.next();this.lc=f}d.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),e.cq.Vm(b,this.xV,this.JA,this.lc)):
null};d.prototype.Ia=function(){return this.Ca};d.prototype.Re=function(){return!0};return d}();e.hN=d})(t||(t={}));(function(e){var d=function(){function b(a){this.ke=a;this.Zj=new e.h;this.Zj.Oa();this.Jh=new e.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.$R=function(a,c){var b=!this.Zj.Yb(this.Jh);if(e.T.Ic(a.G())&&
e.T.Ic(c.G())){if(a.D()>c.D())return this.uF(a,c,b);this.Bu();b=this.uF(c,a,b);this.Bu();return b}if(550==a.G()&&e.T.Ic(c.G()))return b=this.vF(c,a,b),this.Bu(),b;if(550==c.G()&&e.T.Ic(a.G()))return this.vF(a,c,b);if(550==a.G()&&550==c.G()){if(a.D()>c.D())return this.wF(a,c);this.Bu();b=this.wF(c,a);this.Bu();return b}return 0};b.prototype.uF=function(a,c,b){var f=a.Fa(),d=c.Fa(),g=new e.h,h=new e.h,l=1.7976931348623157E308;if(!b&&this.rZ(a,c,f,d))return 0;for(;f.Ya();)for(;f.Ea();)if(a=f.ba(),a.s(g),
!(g.Zx(this.Jh)>l)){for(;d.Ya();)for(;d.Ea();)if(c=d.ba(),c.s(h),g.Zx(h)<l&&(c=a.Cb(c,b),c*=c,c<l)){if(0==c)return 0;l=c}d.yj()}return Math.sqrt(l)};b.prototype.vF=function(a,c,b){var f=a.Fa(),d=new e.h,g=1.7976931348623157E308,h=new e.b,l,n=c.D();for(b=!b&&1736==a.G();f.Ya();)for(;f.Ea();){var w=f.ba();w.s(d);if(!(1<n&&d.Zx(this.Jh)>g)){for(var p=0;p<n;p++){c.w(p,h);if(b&&0!=e.gd.ge(a,h,0))return 0;l=w.pe(h,!1);h.sub(w.gc(l));l=h.qk();if(l<g){if(0==l)return 0;g=l}}b=!1}}return Math.sqrt(g)};b.prototype.wF=
function(a,c){for(var b=1.7976931348623157E308,d=new e.b,m=new e.b,g,h=a.D(),l=c.D(),n=0;n<h;n++)if(a.w(n,d),!(1<l&&this.Jh.ZK(d)>b))for(var w=0;w<l;w++)if(c.w(w,m),g=e.b.sc(d,m),g<b){if(0==g)return 0;b=g}return Math.sqrt(b)};b.prototype.rZ=function(a,c,b,d){if(1736==a.G()){for(;d.Ya();)if(d.Ea()){var f=d.ba();if(0!=e.gd.ge(a,f.Cc(),0))return!0}d.yj()}if(1736==c.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=e.gd.ge(c,a.Cc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,c){if(a.u()||c.u())return NaN;
a.s(this.Zj);c.s(this.Jh);return this.$R(a,c)};return b}(),g=function(b){function a(){b.apply(this,arguments)}N(a,b);a.prototype.V=function(a,b,k){if(null==a||null==b)throw e.g.F();if(a.u()||b.u())return NaN;var c,f;c=a.G();f=b.G();if(33==c){if(33==f)return e.b.Cb(a.w(),b.w());if(197==f)return k=new e.h,b.s(k),k.Cb(a.w());c=new e.Ed;c.add(a);a=c}else if(197==c){if(197==f)return f=new e.h,a.s(f),k=new e.h,b.s(k),k.Cb(f);c=new e.Ja;c.jd(a,!1);a=c}33==f?(f=new e.Ed,f.add(b),b=f):197==f&&(f=new e.Ja,
f.jd(b,!1),b=f);return(new d(k)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(e.ef);e.iN=g})(t||(t={}));(function(e){var d=function(){function d(b,a,c,f){this.LI=b;this.TI=a;this.ke=f;this.lI=c}d.prototype.next=function(){var b=this.LI.next();return null==b?null:this.lD(b)};d.prototype.Ia=function(){return this.LI.Ia()};d.prototype.lD=function(b){var a=b.G();if(e.T.Jo(a))return b;if(197==a)return a=new e.Ja(b.description),a.jd(b,
!1),this.lD(a);if(b.u())return b;if(null==b)throw e.g.za();for(var a=b.Ka(),c=new e.Hb,f=0,d=b.aa();f<d;f++)this.pM(b,f,a,c);return a};d.prototype.pM=function(b,a,c,f){if(!(2>b.La(a))){var d=b.wa(a),m=b.Gc(a)-1,g=b.Pa(0),h=b.Qb(a),l=new e.ia(0);l.yb(b.La(a)+1);var n=new e.ia(0);n.yb(b.La(a)+1);l.add(h?d:m);l.add(d);for(d=new e.b;1<l.size;){var w=l.Fc();l.Pf();var p=l.Fc();b.w(w,d);f.Mc(d);b.w(p,d);f.Zc(d);p=this.lM(f,d,g,w,p,m);0<=p?(l.add(p),l.add(w)):n.add(w)}h||n.add(l.get(0));if(n.size==l.size)c.Ti(b,
a,!0);else if(2<=n.size&&(!this.lI||2!=n.size||!(h||e.b.Cb(b.Ba(n.get(0)),b.Ba(n.get(1)))<=this.TI))){a=new e.Wa;f=0;for(m=n.size;f<m;f++)b.Ae(n.get(f),a),0==f?c.Rf(a):c.lineTo(a);h&&(this.lI||2!=n.size||c.lineTo(a),c.sq())}}};d.prototype.lM=function(b,a,c,f,e,d){var k=e-1;e<=f&&(k=d);d=e=-1;for(f+=1;f<=k;f++){c.fc(2*f,a);var m=a.x,g=a.y;b.gc(b.pe(a,!1),a);a.x-=m;a.y-=g;m=a.length();m>this.TI&&m>d&&(e=f,d=m)}return e};d.prototype.Re=function(){return!0};return d}();e.jN=d})(t||(t={}));(function(e){var d=
function(d){function b(){d.apply(this,arguments)}N(b,d);b.prototype.G=function(){return 29};b.prototype.V=function(a,c,b,d){return a instanceof e.T?(a=new e.hd(a),this.V(a,c,b,d).next()):new e.jN(a,c,b,d)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(e.ef);e.HD=d})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,
e,m,g,h,l){return a instanceof d.T?(l=new d.hd(a),this.V(l,c,b,[e],m,g,!1,h).next()):!0===h?(b=new d.KD(a,c,b,e,m,!1,!1,l),d.ei.local().V(b,c,l)):new d.KD(a,c,b,e,m,!1,!1,l)};b.$=null;return b}(d.ef);d.JD=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f,e,m,g,h){if(m)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.yt=f;this.Po=e;this.To=-1;this.lc=h;this.vV=new d.h;this.vV.Oa()}e.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=
this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.SS(b,this.yt[this.To]);return null};e.prototype.Ia=function(){return this.Ca};e.prototype.SS=function(b,a){return d.sM.buffer(b,this.Rg,this.$e,a,this.Po,this.lc)};e.prototype.Re=function(){return!0};return e}();d.KD=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,e){if(null==c)throw d.g.F();
if(a.u()||1>a.tb())return 0;if(4==b)throw d.g.df();var f=d.fb.kc(c),k=d.fb.hw(f),g=d.fb.Sv(f),k=k*(2-k),h=f.Nd().Ai,l=a.G(),n;1736==l||197==l?n=a.Gg():d.T.Oc(l)?(n=new d.Ua(a.description),n.dc(a,!0)):n=a;if(0==f.Eb(c)){if(d.fb.Jc(c)){n=d.gi.Mj(n,c);1607==l&&n==a&&(n=d.T.oe(a));a=new d.Ac;d.fb.Bh(c).Sn(a);for(var l=0,w=n.D();l<w;l++){var p=n.Ba(l);p.x=d.gi.Nn(p.x,a);n.rb(l,p)}}a=n.Ka();n=d.gi.OJ(c,f,n,a,e)?a:d.fb.Xg(n,c,f,e)}return this.bS(n,b,g,k,h)};b.prototype.bS=function(a,c,b,e,m){var f=new d.ea(0),
k=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var g=a.ba(),h=g.ec(),g=g.Cc();h.scale(m);g.scale(m);d.mb.Ld(b,e,h.x,h.y,g.x,g.y,f,null,null,c);k+=f.j}return k};b.$=null;return b}(d.ef);d.mN=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,e,m){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,e,m).next()):new d.lN(a,b,e,c,-1,-1,m)};b.$=null;return b}(d.ef);
d.kN=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f,e,m){if(0<m)throw d.g.df();if(4!=c&&0<e)throw d.g.df();if(null==a)throw d.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=c;this.CV=f;this.BV=e}e.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Hz(b);return null};e.prototype.Ia=function(){return this.Ca};e.prototype.Hz=function(b){return d.Ej.Ls(b,this.Rg,this.$e,this.CV,this.BV,this.lc)};e.prototype.Re=function(){return!0};return e}();
d.lN=e})(t||(t={}));(function(d){(function(d){d[d.Unknown=0]="Unknown";d[d.Contains=1]="Contains";d[d.Within=2]="Within";d[d.Equals=3]="Equals";d[d.Disjoint=4]="Disjoint";d[d.Touches=8]="Touches";d[d.Crosses=16]="Crosses";d[d.Overlaps=32]="Overlaps";d[d.NoThisRelation=64]="NoThisRelation";d[d.Intersects=1073741824]="Intersects";d[d.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(d.BM||(d.BM={}));var e=function(){function e(){}e.s_=function(b,a,c,f){if(a.u()||b.u())return 4;var k=b.G(),m=
a.G(),g;d.T.Oc(k)&&(b=g=new d.Ua(b.description),g.dc(b,!0));d.T.Oc(m)&&(a=g=new d.Ua(a.description),g.dc(a,!0));switch(k){case 33:switch(m){case 33:return e.FN(b,a,c);case 197:return e.se(e.CD(a,b,c));case 550:return e.se(e.aE(a,b,c));case 1607:return e.se(e.aD(a,b,c,f));case 1736:return e.se(e.oE(a,b,c))}throw d.g.za();case 197:switch(m){case 33:return e.CD(b,a,c);case 197:return e.JM(b,a,c);case 550:return e.se(e.TD(a,b,c,f));case 1607:return e.se(e.tE(a,b));case 1736:return e.se(e.kE(a,b))}throw d.g.za();
case 550:switch(m){case 33:return e.aE(b,a,c);case 197:return e.TD(b,a,c,f);case 550:return e.ZD(b,a,c,f);case 1607:return e.se(e.vE(a,b));case 1736:return e.se(e.mE(a,b))}throw d.g.za();case 1607:switch(m){case 33:return e.aD(b,a,c,f);case 197:return e.tE(b,a);case 550:return e.vE(b,a);case 1607:return e.mO(b,a);case 1736:return e.se(e.rE(a,b))}throw d.g.za();case 1736:switch(m){case 33:return e.oE(b,a,c);case 197:return e.kE(b,a);case 550:return e.mE(b,a);case 1607:return e.rE(b,a);case 1736:return e.XN(b,
a)}throw d.g.za();default:throw d.g.za();}};e.FN=function(b,a,c){b=b.w();a=a.w();return e.iE(b,a,c)};e.iE=function(b,a,c){b.sub(a);return b.qk()<=c*c?3:4};e.CD=function(b,a,c){var f=new d.h;b.s(f);b=a.w();return e.QM(f,b,c)};e.QM=function(b,a,c){b.O(-c,-c);if(b.contains(a))return 1;b.O(c,c);return b.contains(a)?8:4};e.UM=function(b,a,c){return a.contains(c)?1:b.contains(c)?8:4};e.JM=function(b,a,c){var f=new d.h;b.s(f);b=new d.h;a.s(b);return e.NM(f,b,c)};e.NM=function(b,a,c){var f=0;b.contains(a)&&
(f|=1);a.contains(b)&&(f|=2);if(0!=f)return f;b.O(-c,-c);a.O(-c,-c);if(b.Yb(a))return f=b,f.O(c,c),f=f.contains(a)?1:0,a.O(c,c),f|=a.contains(b)?2:0,0!=f?f:32;f=b;f.O(c,c);a.O(c,c);return f.Yb(a)?8:4};e.aE=function(b,a,c){a=a.w();return e.cE(b,a,c)};e.cE=function(b,a,c){for(var f=0,d=b.D();f<d;f++){var m;m=b.Ba(f);m=e.iE(m,a,c);if(4!=m)return 0!=(m&2)&&1!=d?1:m}return 4};e.TD=function(b,a,c,f){var k=new d.h;a.s(k);return e.aN(b,k,c,f)};e.aN=function(b,a,c,f){a.O(-c,-c);a.O(c,c);for(var d=c=0,m=b.D();d<
m;d++){var g;g=b.Ba(d);g=e.se(e.UM(a,a,g));if(4!=g&&(c|=g,4==f))return 1073741824}return 0==c?4:2==c?c:32};e.ZD=function(b,a,c,f){for(var d=0,m=0,g=a.D();m<g;m++){var h;h=a.Ba(m);h=e.cE(b,h,c);if(4!=h&&(d++,4==f))return 1073741824}return 0<d?d==a.D()?3==f?(h=e.ZD(a,b,c,1),1==h?3:0):1:32:0};e.aD=function(b,a,c,f){a=a.w();return e.iO(b,a,c,f)};e.XM=function(b,a){var c=null;b=b.ob;null!=b&&(c=b.Hi);if(null!=c){c=c.rm(a.x,a.y);if(0==c)return 4;if(1==c)return 1}else return-1;return 0};e.iO=function(b,
a,c,f){if(0==(f&1073741839))return 64;var k=e.XM(b,a);if(0<k)return k;c*=c;for(k=b.Fa();k.Ya();){var m=k.Ta;if(!b.Qb(m)){var g=b.La(m),m=b.wa(m);if(0==g)continue;if(d.b.sc(b.Ba(m),a)<=c||1<g&&d.b.sc(b.Ba(m+g-1),a)<=c)return 8}if(8!=f)for(;k.Ea();)if(g=k.ba(),g=g.gc(g.pe(a,!1)),d.b.sc(g,a)<=c)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};e.tE=function(b,a){var c=new d.h;a.s(c);return e.eO(b,c)};e.eO=function(b,a){b=e.eq(b,a);return 0<b?b:0};e.eq=function(b,a){b=b.ob;if(null!=
b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};e.vE=function(b,a){var c=new d.h;a.s(c);c=e.eq(b,c);return 0<c?c:0};e.uv=function(b,a){var c=new d.h;a.s(c);c=e.eq(b,c);return 0<c?c:-1==c&&(c=new d.h,b.s(c),c=e.eq(a,c),0<c)?e.se(c):0};e.mO=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.oE=function(b,a,c){a=a.w();return e.RN(b,a,c)};e.RN=function(b,a,c){b=d.gd.ge(b,a,c);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw d.g.za();};e.kE=function(b,
a){var c=new d.h;a.s(c);return e.ON(b,c)};e.ON=function(b,a){b=e.eq(b,a);return 0<b?b:0};e.mE=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.rE=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.XN=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.kX=function(b,a){var c=b.G(),f=a.G(),e;if(d.T.gh(c)&&(e=b.ob,null!=e&&(e=e.Hi,null!=e))){if(33==f){var m=a.w();e=e.rm(m.x,m.y)}else m=new d.h,a.s(m),e=e.Rn(m);if(1==e)return 1;if(0==e)return 4}if(d.T.gh(f)&&(e=a.ob,null!=e&&(e=e.Hi,null!=e))){33==c?(c=b.w(),e=e.rm(c.x,
c.y)):(c=new d.h,b.s(c),e=e.Rn(c));if(1==e)return 2;if(0==e)return 4}return 0};e.se=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return e}();d.nN=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,c,b,e,m){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,e,m).next()):void 0===m?new d.LD(a,c,b,e,-1):new d.LD(a,
c,b,e,m)};b.prototype.qo=function(a,c,b){if(!this.wv(a))return!1;c=d.na.ah(c,a,!1);var f=a.Hj(b);return f=f||a.Xu(c,b)};b.prototype.wv=function(a){return d.xy.bz(a)};b.$=null;return b}(d.ef);d.tk=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f,e){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.sf=a.next();this.$j=this.sf.G();this.lc=f;this.ej=e;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw d.g.F("bad dimension mask");}e.prototype.next=function(){if(this.ot)return null;var b;if(null!=
this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.LU(b);return b=this.ox.next()}return null};e.prototype.Ia=function(){return this.Ca};e.prototype.Ma=function(b){var a=this.oL(b);if(null!=a)return a;var a=d.na.Zv(this.sf,b),c=d.na.be(this.Rg,a,!0),a=new d.h;this.sf.s(a);var f=new d.h;b.s(f);a.O(2*c,2*c);a.Ma(f);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);b=d.ne.clip(b,a,0,0);return d.Dg.nw(b,
c,this.Rg,this.lc)};e.prototype.JJ=function(b,a,c){var f=0;if(0!=(a&1))null==c[0]&&(c[0]=new d.Ed(b)),f++;else for(var e=0;e<c.length-1;e++)c[e]=c[e+1];if(0!=(a&2))null==c[f]&&(c[f]=new d.Ua(b)),f++;else for(e=f;e<c.length-1;e++)c[e]=c[e+1];if(0!=(a&4))null==c[f]&&(c[f]=new d.Ja(b)),f++;else for(e=f;e<c.length-1;e++)c[e]=c[e+1];if(3!=f){b=[];for(e=0;e<f;e++)b[e]=c[e];return new d.hd(b)}return new d.hd(c)};e.prototype.LU=function(b){var a=this.oL(b);if(null!=a){var c=[null,null,null];c[a.tb()]=a;return this.JJ(b.description,
this.ej,c)}a=d.na.Zv(this.sf,b);c=d.na.be(this.Rg,a,!0);a=new d.h;this.sf.s(a);a.O(2*c,2*c);var f=new d.h;b.s(f);a.Ma(f);a.O(100*c,100*c);c=d.ne.clip(this.sf,a,0,0);a=d.ne.clip(b,a,0,0);c=d.Dg.wA(a,c,this.Rg,this.lc);return this.JJ(b.description,this.ej,c)};e.prototype.oL=function(b){var a=d.na.Zv(b,this.sf),c=d.na.be(this.Rg,a,!0),a=b.G(),f=b.u(),k=this.sf.u(),k=f||k;if(!k){k=new d.h;b.s(k);var m=new d.h;this.sf.s(m);m.O(2*c,2*c);k=!k.Yb(m)}if(!k)if(m=d.nN.kX(this.sf,b),4==m)k=!0;else{if(0!=(m&2))return this.sf;
if(0!=(m&1))return b}if(k)return c=d.T.lf(a),k=d.T.lf(this.$j),c<k?e.$(b,f):c>k?this.dK():0==c?550==a&&33==this.$j?this.dK():e.$(b,f):e.$(b,f);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return c=this.sf,a=new d.h,b.s(a),f=new d.h,c.s(f),a.Ma(f),c=new d.ci,b.copyTo(c),c.Gp(a),c;if(197==a&&0==d.T.lf(this.$j)||197==this.$j&&0==d.T.lf(a))return f=197==a?b:this.sf,b=197==a?this.sf:b,a=new d.h,f.s(a),d.ne.clip(b,a,c,0);if(0==d.T.lf(a)&&0<d.T.lf(this.$j)||0<d.T.lf(a)&&0==d.T.lf(this.$j)){c=d.na.ah(this.Rg,
b,!1);if(550==a||33==a)return d.Dg.MH(b,this.sf,c);if(550==this.$j||33==this.$j)return d.Dg.MH(this.sf,b,c);throw d.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?null:this.lL(this.sf,b):this.lL(b,this.sf)};e.prototype.lL=function(b,a){var c=b,f=a,e=d.na.ah(this.Rg,a,!1),m=new d.h;f.s(m);var g=new d.h;c.s(g);g.O(2*e,2*e);m.Ma(g);m.O(10*e,10*e);var c=b=d.ne.clip(b,m,0,0),g=new d.ia(0),h=-1,l=f.ob;if(null!=l){var n=l.Hi;if(null!=n){h=0;
g.yb(c.D()+c.aa());for(var p=new d.h,w=c.Fa();w.Ya();)for(;w.Ea();){w.ba().s(p);var q=n.Rn(p);1==q?g.add(1):0==q?g.add(0):(g.add(-1),h++)}}}5<a.D()&&(f=a=d.ne.clip(a,m,0,0),l=f.ob);0>h&&(h=c.jA());m=c.D()+f.D();if(h*f.D()>Math.log(m)*m*4)return null;m=null;h=f.Fa();null!=l&&null!=l.Mb&&(m=l.Mb);null==m&&20<f.D()&&(m=d.na.BF(f));f=b.Ka();l=null;n=c.Fa();p=[0,0,0,0,0,0,0,0,0];w=new d.Rd(0);q=new d.Cg;b=-1;for(var t=0,r=0,v=0<g.size,x=-1;n.Ya();){var x=n.Ta,z=0;b=-1;for(t=0;n.Ea();){var y=v?d.J.truncate(g.get(r)):
-1;r++;var G=n.ba();if(0>y){if(null!=m)for(null==l?l=m.qT(G,e):l.Wn(G,e),y=l.next();-1!=y;y=l.next()){h.Tb(m.ja(y));for(var y=h.ba(),B=G.Ma(y,null,p,null,e),y=0;y<B;y++)w.add(p[y])}else for(h.yj();h.Ya();)for(;h.Ea();)for(y=h.ba(),B=G.Ma(y,null,p,null,e),y=0;y<B;y++)w.add(p[y]);if(0<w.size){w.Gd(0,w.size,function(a,c){return a-c});var E=0;w.add(1);for(var B=-1,y=0,D=w.size;y<D;y++){var H=w.get(y);if(H!=E){var I=!1;0!=E||1!=H?(G.yh(E,H,q),E=q.get()):(E=G,I=!0);if(2<=z){f.Bs(c,x,b,t,3==z);if(1!=this.fF(a,
E.ec(),e)&&1!=this.gF(a,E,e))return null;f.dc(E,!1);z=1;t=0}else switch(B=this.gF(a,E,e),B){case 1:I?2>z?(b=n.Db()-c.wa(x),t=1,z=0==z?3:2):t++:(f.dc(E,0==z),z=1);break;case 0:z=0;b=-1;t=0;break;default:return null}E=H}}}else{y=this.fF(a,G.ec(),e);if(0>y)return null;1==y?(2>z&&(b=n.Db()-c.wa(x),z=0==z?3:2),t++):(b=-1,t=0)}w.clear(!1)}else 0!=y&&1==y&&(0==z?(z=3,b=n.Db()-c.wa(x)):1==z?(z=2,b=n.Db()-c.wa(x)):t++)}2<=z&&(f.Bs(c,x,b,t,3==z),b=-1)}return f};e.prototype.fF=function(b,a,c){return d.ff.kn(b,
a,c)};e.prototype.gF=function(b,a,c){var f=a.ec();a=a.Cc();var e=d.ff.kn(b,f,c),m=d.ff.kn(b,a,c);if(1==e&&0==m||0==e&&1==m)return-1;if(0==e||0==m)return 0;if(1==e||1==m)return 1;e=new d.b;e.add(f,a);e.scale(.5);b=d.ff.kn(b,e,c);return 0==b?0:1==b?1:-1};e.$=function(b,a){return a?b:b.Ka()};e.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};e.prototype.Re=function(){return!0};return e}();d.LD=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}
N(b,e);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,e,m,g,h){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,e,m,g,h).next()):new d.oN(a,c,b,e,m,g,h)};b.$=null;return b}(d.ef);d.MD=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f,d,e,g){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=c;this.jj=f;this.jB=d;this.GI=e;this.ke=g}e.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.bN(b)):
null};e.prototype.Ia=function(){return this.Ca};e.prototype.bN=function(b){var a;a=0>=this.GI?d.na.ah(this.fk,b,!1):this.GI;return d.UL.V(b,this.Qa,this.jj,this.jB,a,this.ke)};e.prototype.Re=function(){return!0};return e}();d.oN=e})(t||(t={}));(function(d){(function(d){d[d.clipToDomainOnly=1]="clipToDomainOnly";d[d.clipWithHorizon=2]="clipWithHorizon";d[d.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(d.Up||(d.Up={}));var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=
function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b).next()):new d.pN(a,c,b)};b.prototype.transform=function(a,c,b,e){return d.ko.transform(a,c,b,e,!0)};b.prototype.jL=function(a,c,b){return d.ko.jL(a,c,b)};b.prototype.Du=function(a,c,b,e){return d.ko.Du(a,c,b,e)};b.prototype.XY=function(a,c,b,e){return d.ko.gs(a,c,b,e)};b.prototype.iL=function(a,c,b,e){return d.ko.iL(a,c,b,e)};b.$=null;return b}(d.ef);
d.os=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c){this.Ca=-1;this.ie=b;this.LV=a;this.ke=c}e.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),d.ko.Xg(b,this.LV,this.ke)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=function(){return!0};return e}();d.pN=e})(t||(t={}));(function(d){var e=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Zk=-1;this.qt=this.$q=!1};b.prototype.tS=function(a,c,b){for(a.Tb(c,b);a.Ea();){var f=
a.ba(),f=f.Rb();if(0!=f)return a.Db()}for(a.Tb(c,b);a.pA();)if(f=a.Li(),f=f.Rb(),0!=f)return a.Db();return-1};b.prototype.uS=function(a,c){for(a.Tb(c,-1);a.pA();)if(0!=a.Li().Rb())return a.Db();return-1};b.prototype.sS=function(a,c){a.Tb(c,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.rS=function(a,c,b,e){this.Zk=this.tS(c,b,e);if(-1!=this.Zk){c.Tb(this.Zk,-1);var f=c.ba(),k=f.gc(f.pe(a,!1));b=d.b.sc(k,a);e=new d.b;e.L(k);e.sub(f.ec());k=new d.b;k.L(a);k.sub(f.ec());
this.$q=0>e.Ui(k);this.Lh=this.sS(c,this.Zk);if(-1!=this.Lh){c.Tb(this.Lh,-1);var f=c.ba(),g=f.pe(a,!1),g=f.gc(g),h=d.b.sc(g,a);h>b?this.Lh=-1:(e.L(g),e.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>e.Ui(k))}-1==this.Lh&&(this.Lh=this.uS(c,this.Zk),-1!=this.Lh&&(c.Tb(this.Lh,-1),f=c.ba(),g=f.pe(a,!1),g=f.gc(g),h=d.b.sc(g,a),h>b?this.Lh=-1:(e.L(g),e.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>e.Ui(k),a=this.Zk,this.Zk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.eQ=function(a,
c,b,d,e){b=b.Fa();this.rS(a,b,d,e);if(-1!=this.Zk&&-1==this.Lh)return this.$q;if(-1!=this.Zk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Zk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);c=b.ba().Eg(0);return 0<=a.Ui(c)?!0:!1}return c};return b}(),g=function(b){function a(){b.apply(this,arguments)}N(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.$z=function(a,b,e,m){void 0===m&&(m=!1);if(a.u())return new d.Mm;b=b.w();var c=a,f=a.G();
197==f&&(c=new d.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:return this.rJ(c,b);case 1607:case 1736:return this.$V(c,b,e,m);default:throw d.g.X("not implemented");}};a.prototype.aA=function(a,b){if(a.u())return new d.Mm;b=b.w();var c=a,f=a.G();197==f&&(c=new d.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(c,b);case 550:case 1607:case 1736:return this.rJ(c,b);default:throw d.g.X("not implemented");}};a.prototype.bA=function(a,b,e,m){if(0>m)throw d.g.F();if(a.u())return[];
b=b.w();var c=a,f=a.G();197==f&&(c=new d.Ja,c.jd(a,!1),f=1736);switch(f){case 33:return this.FW(c,b,e,m);case 550:case 1607:case 1736:return this.cW(c,b,e,m);default:throw d.g.X("not implemented");}};a.prototype.$V=function(a,b,k,m){if(1736==a.G()&&k&&(k=new d.h,a.s(k),k=d.na.be(null,k,!1),0!=(m?d.gd.ge(a,b,0):d.gd.ge(a,b,k)))){var c=new d.Mm(b,0,0);m&&c.NK(!0);return c}for(var f=a.Fa(),c=new d.b,g=k=-1,h=1.7976931348623157E308,l=0;f.Ya();)for(;f.Ea();){var n=f.ba(),n=n.gc(n.pe(b,!1)),p=d.b.sc(n,
b);p<h?(l=1,c=n,k=f.Db(),g=f.Ta,h=p):p==h&&l++}c=new d.Mm(c,k,Math.sqrt(h));m&&(f.Tb(k,g),n=f.ba(),m=0>d.b.zp(b,n.ec(),n.Cc()),1<l&&(l=new e,l.reset(),m=l.eQ(b,m,a,k,g)),c.NK(m));return c};a.prototype.FJ=function(a,b){a=a.w();b=d.b.Cb(a,b);return new d.Mm(a,0,b)};a.prototype.rJ=function(a,b){var c=a.Pa(0);a=a.D();for(var f=0,e=0,g=0,h=1.7976931348623157E308,l=0;l<a;l++){var n=new d.b;c.fc(2*l,n);var p=d.b.sc(n,b);p<h&&(e=n.x,g=n.y,f=l,h=p)}c=new d.Mm;c.Ly(e,g,f,Math.sqrt(h));return c};a.prototype.FW=
function(a,b,e,m){if(0==m)return e=[];e*=e;a=a.w();b=d.b.sc(a,b);b<=e?(e=[],m=new d.Mm,m.Ly(a.x,a.y,0,Math.sqrt(b)),e[0]=m):e=[];return e};a.prototype.cW=function(a,b,e,m){if(0==m)return m=[];var c=a.Pa(0),f=a.D();a=[];var k=0;e*=e;for(var g=0;g<f;g++){var h=c.read(2*g),l=c.read(2*g+1),n=b.x-h,p=b.y-l,n=n*n+p*p;n<=e&&(p=new d.Mm,p.Ly(h,l,g,Math.sqrt(n)),k++,a.push(p))}b=a.length;a.sort(function(a,c){return a.Qa<c.Qa?-1:a.Qa==c.Qa?0:1});if(m>=b)return a.slice(0);a.length=m;return a.slice(0)};a.$=null;
return a}(d.ef);d.sy=g})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 4};b.prototype.V=function(a,c,b,e,m){return d.Nm.ZB(a,c,b,e,m)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=function(a,c,b){return d.Gu.UE(a,c,b)};b.$=null;return b}(d.ef);d.qN=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 33};
b.prototype.V=function(a,c,b,e,m){return 1073741824===a?!d.Fd.$B(c,b,e,4,m):d.Fd.$B(c,b,e,a,m)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return d.Gu.cz(a)};b.prototype.qo=function(a,c,b){return d.Gu.UE(a,c,b)};b.$=null;return b}(d.ef);d.Gj=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f){this.ke=f;this.sV=c;this.Ca=-1;if(null==b)throw d.g.F();this.$k=b;this.fk=a}e.prototype.next=function(){var b;return null!=(b=this.$k.next())?(this.Ca=this.$k.Ia(),
this.DC(b)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.DC=function(b){if(null==b)throw d.g.F();return d.ty.TK(b,this.fk,this.sV,this.ke)};e.prototype.Re=function(){return!0};return e}();d.rN=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 26};b.prototype.V=function(a,c,b,e){return a instanceof d.T?(a=new d.hd(a),this.V(a,c,b,e).next()):new d.rN(a,c,b,e)};b.prototype.Wq=function(a,c,b,e,m){return 0<(void 0!==
e?d.ty.Wq(a,c,b,e,m):d.ty.Wq(a,c,!1,null,b))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.Km=e})(t||(t={}));(function(d){var e=function(){function a(){this.nr=0}a.prototype.iY=function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();d.KZ=e;var g=function(){return function(){}}(),b=function(){return function(a,c,b,f){this.x=a;this.y=c;this.$i=b;this.ln=f}}(),a=function(){function a(a){this.bf=
a}a.prototype.compare=function(a,c,b){a=a.ja(b);c=this.bf.Nf.read(2*c);a=this.bf.Nf.read(2*a);c-=a;return 0>c?-1:0<c?1:0};return a}(),c=function(){function a(a){this.bf=a}a.prototype.compare=function(a,c,b){c=this.bf.ib[c];a=this.bf.ib[a.ja(b)];var f=c.fn(),d=a.fn();b=c.Le.pf(this.bf.wp,0);var e=a.Le.pf(this.bf.wp,0);b==e&&(b=Math.min(f?c.Le.ra:c.Le.oa,d?a.Le.ra:a.Le.oa),f=.5*(b-this.bf.wp)+this.bf.wp,f==this.bf.wp&&(f=b),b=c.Le.pf(f,0),e=a.Le.pf(f,0));return b<e?-1:b>e?1:0};return a}(),f=function(){function a(a,
c){this.QJ=new d.b;this.parent=a;this.ZT=c}a.prototype.hs=function(a,c,b){var f=this.parent,d=this.ZT;b.Gd(a,c,function(a,c){return f.ki(a,c,d)})};a.prototype.Qq=function(a){a=this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),k=function(){function k(a,c,b,f,e){this.zI=a.description;this.Y=a;this.mh=c;this.hk=d.na.ah(this.mh,a,!1);this.pp=d.na.ah(this.mh,a,!0);this.eB=b;this.qV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=
new d.Xp;this.hb=new d.uk;this.ve=new d.$d;this.kI=this.Ul=e}k.prototype.BA=function(){this.kI=!0;return(!d.T.Ic(this.Y.G())||this.OF()&&this.NF(!1))&&this.qQ()?d.T.Ic(this.Y.G())?this.tQ()?1607==this.Y.G()?this.vQ()?2:0:this.wQ()?this.xQ():0:0:2:0};k.prototype.JC=function(a,c){var b=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var f=this.Nf.read(2*c);c=this.Nf.read(2*c+1);var e=!d.Iu.pw(b,a,f,c,this.hk*this.hk);return e?e:0==this.Y.tb()?!1:b==f&&a==c};k.prototype.OF=function(){for(var a=this.Y,c=a.$f?
3:2,b=0,f=a.aa();b<f;b++)if(a.La(b)<c)return this.ve=new d.$d(1,b,0),!1;return!0};k.prototype.NF=function(a){for(var c=this.Y,b=c.Fa(),f=c.hasAttribute(1),c=f?d.na.GF(this.mh,c,!1):0;b.Ya();)for(;b.Ea();){var e=b.ba();if(!(e.Rb()>this.hk)){if(a&&f){var k=e.dt(1,0),e=e.dt(1,0);if(Math.abs(e-k)>c)continue}this.ve=new d.$d(2,b.Db(),-1);return!1}}return!0};k.prototype.qQ=function(){var c=this.Y,b=null;d.T.Ic(this.Y.G())&&(b=this.Y);var e=(this.kI||this.Ul)&&null!=b,k=c.D();this.Nf=c.Pa(0);this.Gi=new d.ia(0);
this.Gi.yb(2*k);this.Fi=new d.ia(0);this.Fi.yb(2*k);e&&(null==this.im&&(this.im=new d.ia(0)),this.im.yb(k));for(var m=c=0;m<k;m++)if(this.Gi.add(2*m),this.Gi.add(2*m+1),this.Fi.add(2*m),this.Fi.add(2*m+1),e){for(;m>=b.Gc(c);)c++;this.im.add(c)}(new d.Hu).sort(this.Fi,0,2*k,new f(this,e));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(k);b=0;for(k*=2;b<k;b++)if(e=this.Fi.get(b),c=this.Gi.get(e),e=c>>1,0==(c&1)){c=this.hb.addElement(e,-1);m=this.hb.Ve(c);if(-1!=m&&!this.JC(this.hb.ja(m),e))return this.ve=
new d.$d(3,e,this.hb.ja(m)),!1;var g=this.hb.nb(c);if(-1!=g&&!this.JC(this.hb.ja(g),e))return this.ve=new d.$d(3,e,this.hb.ja(g)),!1}else if(c=this.hb.search(e,-1),m=this.hb.Ve(c),g=this.hb.nb(c),this.hb.Kd(c,-1),-1!=m&&-1!=g&&!this.JC(this.hb.ja(m),this.hb.ja(g)))return this.ve=new d.$d(3,this.hb.ja(m),this.hb.ja(g)),!1;return!0};k.prototype.tQ=function(){return 10>this.Y.D()?this.rQ():this.sQ()};k.prototype.sQ=function(){var a=new d.fd;a.Jb(this.Y);var c=new d.$d;return d.Ku.tJ(!1,a,this.hk,c,this.ke)?
(c.lm=a.Za(c.lm),c.mm=a.Za(c.mm),this.ve.ms(c),!1):!0};k.prototype.rQ=function(){for(var a=this.Y,c=a.Fa(),a=a.Fa();c.Ya();)for(;c.Ea();){var b=c.ba();if(!c.Io()||!c.UU()){a.zX(c);do for(;a.Ea();){var f=a.ba(),f=b.ys(f,this.hk,!0);if(0!=f)return this.ve=new d.$d(2==f?5:4,c.Db(),a.Db()),!1}while(a.Ya())}}return!0};k.prototype.wQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.kC();var c=new d.ia(0);c.yb(10);for(var b=NaN,f=0,e=0,a=2*a.D();e<a;e++){var k=this.Fi.get(e),
k=this.Gi.get(k);if(0==(k&1)){var k=k>>1,m=this.Nf.read(2*k),g=this.Nf.read(2*k+1);if(0!=c.size&&(m!=b||g!=f)){if(!this.KJ(c))return!1;null!=c&&c.clear(!1)}c.add(k);b=m;f=g}}return this.KJ(c)?!0:!1};k.prototype.vQ=function(){for(var a=this.Y,c=Array(a.aa()),b=0,f=a.aa();b<f;b++)c[b]=a.Eo(b);var f=new g,e,k,m,h=new d.b,b=this.Fi.get(0),b=this.Gi.get(b),l=b>>1;this.Nf.fc(2*l,h);b=this.im.get(l);e=c[b];k=a.wa(b);m=a.Gc(b)-1;f.Il=l==k||l==m;f.Uy=this.Ul?!e&&f.Il:f.Il;f.$i=b;f.x=h.x;f.y=h.y;f.ln=l;for(var n=
new g,p=1,w=this.Fi.size;p<w;p++)if(b=this.Fi.get(p),b=this.Gi.get(b),0==(b&1)){l=b>>1;this.Nf.fc(2*l,h);b=this.im.get(l);b!=f.$i&&(e=c[b],k=a.wa(b),m=a.Gc(b)-1);var q,t=l==k||l==m;q=this.Ul?!e&&f.Il:f.Il;n.x=h.x;n.y=h.y;n.$i=b;n.ln=l;n.Uy=q;n.Il=t;if(n.x==f.x&&n.y==f.y)if(this.Ul){if(!n.Uy||!f.Uy)if(n.$i!=f.$i||!n.Il&&!f.Il)return this.ve=new d.$d(8,n.ln,f.ln),!1}else if(!n.Il||!f.Il)return this.ve=new d.$d(5,n.ln,f.ln),!1;b=f;f=n;n=b}return!0};k.prototype.QF=function(){for(var a=this.Y,c=[],f=-1,
e=!1,k=0,m=a.aa();k<m;k++)a.rw(k)&&(e=!1,f++,k<m-1&&(a.rw(k+1)||(e=!0))),c[k]=e?f:-1;var e=new d.b,k=this.Fi.get(0),k=this.Gi.get(k),g=k>>1;this.Nf.fc(2*g,e);for(var k=this.im.get(g),f=new b(e.x,e.y,k,g,c[k]),a=[],h=1,m=this.Fi.size;h<m;h++)if(k=this.Fi.get(h),k=this.Gi.get(k),0==(k&1)){g=k>>1;this.Nf.fc(2*g,e);k=this.im.get(g);k=new b(e.x,e.y,k,g,c[k]);if(k.x==f.x&&k.y==f.y){if(k.$i==f.$i)return this.ve=new d.$d(9,k.ln,f.ln),!1;0<=c[k.$i]&&c[k.$i]==c[f.$i]&&(0!=a.length&&a[a.length-1]==f||a.push(f),
a.push(k))}f=k}if(0==a.length)return!0;k=new d.Xp(!0);d.J.Nv(c,-1);e=-1;h=new d.b;h.$c();f=0;for(m=a.length;f<m;f++){g=a[f];if(g.x!=h.x||g.y!=h.y)e=k.mi(0),h.x=g.x,h.y=g.y;var l=c[g.$i];-1==l&&(l=k.mi(2),c[g.$i]=l);k.addElement(l,e);k.addElement(e,l)}m=new d.ia(0);m.yb(10);for(f=k.Ge;-1!=f;f=k.cA(f))if(a=k.$G(f),0==(a&1)&&0!=(a&2)){a=-1;m.add(f);for(m.add(-1);0<m.size;){e=m.Fc();m.Pf();h=m.Fc();m.Pf();g=k.$G(h);if(0!=(g&1)){a=0==(g&2)?e:h;break}k.aY(h,g|1);for(g=k.xc(h);-1!=g;g=k.nb(g))l=k.getData(g),
l!=e&&(m.add(l),m.add(h))}if(-1!=a){k=-1;f=0;for(m=c.length;f<m;f++)if(c[f]==a){k=f;break}this.ve=new d.$d(10,k,-1);return!1}}return!0};k.prototype.xQ=function(){var a=this.Y;if(0>=a.hf())return this.ve=new d.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.QF()?0:2;this.hp=d.ia.zd(a.aa(),0);this.qB=d.ia.zd(a.aa(),-1);for(var b=-1,f=0,e=0,k=a.aa();e<k;e++){var m=a.Sm(e);this.hp.write(e,0>m?0:256);if(0<m)b=e,f=m;else{if(0==m)return this.ve=new d.$d(6,e,-1),0;if(0>b||f<Math.abs(m))if(this.ve=
new d.$d(7,e,-1),this.Ul)return 0;this.qB.write(e,b)}}this.Wt=a.aa();this.Bn=new d.ia(0);this.Bn.yb(10);k=a.D();this.wp=NaN;a=new d.ia(0);a.yb(10);this.Jr=d.ia.zd(k,-1);this.ux=d.ia.zd(k,-1);null!=this.Yj?this.Yj.clear(!1):this.Yj=new d.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new c(this));b=0;for(k*=2;0<this.Wt&&b<k;b++)if(f=this.Fi.get(b),f=this.Gi.get(f),0==(f&1)){f>>=1;e=this.Nf.read(2*f+1);if(e!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.wp=e}return 0<
this.Wt&&!this.ju(a)?0:this.Ul?0==this.ve.Ii&&this.QF()?2:0:0==this.ve.Ii?2:1};k.prototype.KJ=function(a){if(1==a.size)return!0;for(var c=0,b=a.size;c<b;c++){var f=a.get(c);this.ug.Tb(f);var e=this.ug.Li();this.ib.push(this.Gv(e,f,this.ug.Ta,!0));this.ug.ba();e=this.ug.ba();this.ib.push(this.Gv(e,f,this.ug.Ta,!1))}var k=this;this.ib.sort(function(a,c){return k.VR(a,c)});f=this.Hh.Ge;-1==f&&(f=this.Hh.mi(0));this.Hh.Vn(this.ib.length);c=0;for(b=this.ib.length;c<b;c++)this.Hh.addElement(f,c);for(var c=
!0,m=b=-1;c;){c=!1;e=this.Hh.xc(f);if(-1==e)break;for(var g=this.Hh.nb(e);-1!=g;){b=this.Hh.getData(e);m=this.Hh.getData(g);b=this.ib[b].up;m=this.ib[m].up;if(b==m)if(c=!0,this.Hh.kd(f,e),e=this.Hh.Ve(g),g=this.Hh.kd(f,g),-1==g||-1==e)break;else continue;e=g;g=this.Hh.nb(e)}}c=this.Hh.at(f);this.Hh.RF(f);if(0<c)return this.ve=new d.$d(5,b,m),!1;c=0;for(b=a.size;c<b;c++)this.WB(this.ib[c]);this.ib.length=0;return!0};k.prototype.ju=function(a){for(var c=0,b=a.size;c<b;c++){var f=a.get(c),e=this.Jr.read(f);
if(-1!=e){var k=this.hb.ja(e);this.Yj.add(k);this.hb.Kd(e,-1);this.WB(this.ib[k]);this.ib[k]=null;this.Jr.write(f,-1)}e=this.ux.read(f);-1!=e&&(k=this.hb.ja(e),this.Yj.add(k),this.hb.Kd(e,-1),this.WB(this.ib[k]),this.ib[k]=null,this.ux.write(f,-1))}c=0;for(b=a.size;c<b;c++){f=a.get(c);this.ug.Tb(f);e=this.ug.Li();if(e.ra>e.oa){var m=this.ug.Db(),g=this.Gv(e,f,this.ug.Ta,!0);0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g));e=this.hb.addElement(k,-1);-1==
this.Jr.read(m)?this.Jr.write(m,e):this.ux.write(m,e);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(e)}this.ug.ba();e=this.ug.ba();e.ra<e.oa&&(m=this.ug.Jk(),g=this.Gv(e,f,this.ug.Ta,!1),0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g)),e=this.hb.addElement(k,-1),-1==this.Jr.read(m)?this.Jr.write(m,e):this.ux.write(m,e),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(e))}c=0;for(b=this.Bn.size;c<b&&0<this.Wt;c++)if(e=this.Bn.get(c),0==(this.hp.read(this.ib[this.hb.ja(e)].pB)&
3)){a=-1;for(var f=this.hb.Ve(e),u=e,g=null,k=-1,h=0;-1!=f;){k=this.hb.ja(f);g=this.ib[k];k=g.pB;h=this.hp.read(k);if(0!=(h&3))break;u=f;f=this.hb.Ve(f)}-1==f?(m=1,f=u):(a=1==(h&3)?k:this.qB.read(k),m=0!=g.hH()?0:1,f=this.hb.nb(f));do{k=this.hb.ja(f);g=this.ib[k];k=g.pB;u=this.hp.read(k);if(0==(u&3)){if(m!=g.hH())return this.ve=new d.$d(6,k,-1),!1;h=0==m||g.fn()?2:1;u=u&252|h;this.hp.write(k,h);if(2==h&&0==this.ve.Ii&&this.qB.read(k)!=a&&(this.ve=new d.$d(7,k,-1),this.Ul))return!1;this.Wt--;if(0==
this.Wt)return!0}1==(u&3)&&(a=k);u=f;f=this.hb.nb(f);m=0!=m?0:1}while(u!=e)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new d.ia(0);return!0};k.prototype.Gv=function(a,c,b,f){if(322==a.G())a=this.sR(a);else throw d.g.za();a.up=c;a.pB=b;a.nr=0;a.iY(f);return a};k.prototype.sR=function(a){var c;0<this.cp.length?(c=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(c.Le)):(c=new e,c.Le=d.dE.oe(a));return c};k.prototype.WB=function(a){322==a.Le.G()&&this.cp.push(a)};k.prototype.aW=function(){for(var a=this.Y.D(),
c=new d.ia(0),b=0;b<a;b++)c.add(b);var f=this;c.Gd(0,a,function(a,c){return f.Cv(a,c)});for(b=1;b<a;b++)if(0==this.Cv(c.get(b-1),c.get(b)))return this.ve=new d.$d(3,c.get(b-1),c.get(b)),0;return 2};k.prototype.KW=function(){return this.OF()?this.NF(!0)?2:0:0};k.prototype.IW=function(){return this.BA()};k.prototype.bW=function(){for(var a=this.Y.D(),c=new d.ia(0),b=0;b<a;b++)c.add(b);var f=this;c.Gd(0,a,function(a,c){return f.TQ(a,c)});var e=Array(a);d.J.Nv(e,!1);e[c.get(0)]=!0;for(b=1;b<a;b++){var k=
c.get(b-1),m=c.get(b);0==this.Cv(k,m)?e[m]=!1:e[m]=!0}for(var c=this.Y.Ka(),k=this.Y,m=0,g=1,b=0;b<a;b++)e[b]?g=b+1:(m<g&&c.Id(k,m,g),m=b+1);m<g&&c.Id(k,m,g);c.Zg(2,this.pp);return c};k.prototype.LW=function(){var a=this.Y,c=a.Fa(),b=a.Fa(),f=this.Y.Ka(),e=this.Y,k=a.hasAttribute(1),m=k?d.na.GF(this.mh,a,!0):0,g=new d.ia(0),h=new d.ia(0);g.yb(d.J.truncate(a.D()/2+1));for(h.yb(d.J.truncate(a.D()/2+1));c.Ya();)if(b.Ya(),!(2>a.La(c.Ta))){b.BX();for(var l,n,p=!0;c.Ea();){var w=c.ba(),q=b.Li();if(c.Db()>
b.Db())break;p&&(g.add(c.Db()),h.add(b.Jk()),p=!1);n=g.Fc();var t=c.Jk();if(1<t-n){var r=new d.b;r.zc(a.Ba(n),a.Ba(t));l=r.length()}else l=w.Rb();n=h.Fc();t=b.Db();1<t-n?(r=new d.b,r.zc(a.Ba(n),a.Ba(t)),n=r.length()):n=q.Rb();l>this.pp?g.add(c.Jk()):k&&(l=a.Yc(1,g.Fc(),0),w=w.Os(1,0),Math.abs(w-l)>m&&g.add(c.Jk()));n>this.pp?h.add(b.Db()):k&&(l=a.Yc(1,h.Fc(),0),w=q.Os(1,0),Math.abs(w-l)>m&&h.add(b.Db()))}g.Fc()<h.Fc()?g.size>h.size?g.Pf():h.Pf():(g.Fc()!=h.Fc()&&h.Pf(),h.Pf());if(2<=h.size+g.size){p=
new d.Wa;q=0;for(w=g.size;q<w;q++)e.Ae(g.get(q),p),0==q?f.Rf(p):f.lineTo(p);for(q=h.size-1;0<q;q--)e.Ae(h.get(q),p),f.lineTo(p);e.Qb(c.Ta)?f.sq():0<h.size&&(e.Ae(h.get(0),p),f.lineTo(p))}null!=g&&g.clear(!1);null!=h&&h.clear(!1)}f.Zg(2,this.pp);return f};k.prototype.JW=function(){return this.yY()};k.prototype.yY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return d.Dg.ol(this.Y,this.pp,!0,!1,this.ke);this.gj=new d.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.eB&&d.sk.V(this.gj,this.pp,this.ke,
!0),1736==this.Y.G()&&d.lo.V(this.gj,this.gj.sd,this.eB,!1,this.ke));this.Y=this.gj.Se(this.gj.sd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};k.tc=function(a,c,b){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return b=new d.h,a.s(b),b.fh(d.na.ah(c,a,!1))?0:1;if(d.T.Oc(f))throw d.g.za();if(!d.T.gh(f))throw d.g.za();var f=d.na.ah(c,a,!1),e=a.Lk(f);b=b?-1:e;if(-1!=b)return b;1==b&&(f=0);b=(new k(a,c,b,0,!1)).BA();a.Zg(b,f);return b};k.Wq=function(a,c,
b,f,e){null!=f&&(f.Ii=0,f.lm=-1,f.mm=-1);if(a.u())return 1;var m=a.G();if(33==m)return 1;var g=d.na.ah(c,a,!1);if(197==m)return c=new d.h,a.s(c),c.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(d.T.Oc(m))return g=new d.Ua(a.description),g.dc(a,!0),k.Wq(g,c,b,f,e);e=a.Lk(g);b=b?-1:e;if(-1!=b)return b;c=new k(a,c,b,0,!1);if(550==m)b=c.aW();else if(1607==m)b=c.KW();else if(1736==m)b=c.IW();else throw d.g.za();a.Zg(b,g);null!=f&&0==b&&f.ms(c.ve);return b};k.Bb=function(a,c,b,f,e){null!=f&&(f.Ii=0,f.lm=
-1,f.mm=-1);if(a.u())return 1;var m=a.G();if(33==m)return 1;var g=d.na.ah(c,a,!1);if(197==m)return c=new d.h,a.s(c),c.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(d.T.Oc(m))return m=new d.Ua(a.description),m.dc(a,!0),k.Wq(m,c,b,f,e);a=new k(a,c,-1,0,!0);if(550==m||1607==m||1736==m)c=a.BA();else throw d.g.za();null!=f&&f.ms(a.ve);return c};k.TK=function(a,c,b,f){if(a.u())return a;var e=a.G();if(33==e)return a;var m=d.na.ah(c,a,!1);if(197==e)return c=new d.h,a.s(c),c.fh(m)?a.Ka():a;if(d.T.Oc(e))return e=
new d.Ua(a.description),e.dc(a,!0),k.TK(e,c,b,f);f=a.Lk(m);b=b?-1:f;if(2==b)return a;a=new k(a,c,b,0,!1);if(550==e)a=a.bW();else if(1607==e)a=a.LW();else if(1736==e)a=a.JW();else throw d.g.za();return a};k.EC=function(a,c,b,f){if(a.u())return a;var e=a.G();if(33==e)return a;var m=d.na.ah(c,a,!1);if(197==e)return c=new d.h,a.s(c),c.fh(m)?a.Ka():a;if(d.T.Oc(e))return m=new d.Ua(a.description),m.dc(a,!0),k.EC(m,c,b,f);if(!d.T.gh(e))throw d.g.X("OGC simplify is not implemented for this geometry type "+
e);return d.Dg.EC(a,m,!1,f)};k.prototype.ki=function(a,c,b){if(a==c)return 0;a=this.Gi.get(a);var f=this.Gi.get(c);c=a>>1;var e=f>>1,k=new d.b,m=new d.b;this.Nf.fc(2*c,k);k.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*e,m);m.y+=0!=(f&1)?this.hk:-this.hk;a=k.compare(m);return 0==a&&b?(b=this.im.get(c)-this.im.get(e),0>b?-1:0<b?1:0):a};k.prototype.Cv=function(a,c){if(a==c)return 0;var b=this.Y,f=b.Ba(a),e=b.Ba(c);if(f.x<e.x)return-1;if(f.x>e.x)return 1;if(f.y<e.y)return-1;if(f.y>e.y)return 1;for(f=1;f<
this.qV;f++)for(var e=this.zI.rd(f),k=d.ma.Xa(e),m=0;m<k;m++){var g=b.Yc(e,a,m),u=b.Yc(e,c,m);if(g<u)return-1;if(g>u)return 1}return 0};k.prototype.TQ=function(a,c){var b=this.Cv(a,c);return 0==b?a<c?-1:1:b};k.prototype.VR=function(a,c){if(a===c)return 0;var b=a.Le.Eg(a.fn()?1:0);a.fn()&&b.Lr();a=c.Le.Eg(c.fn()?1:0);c.fn()&&a.Lr();c=b.$u();var f=a.$u();return f==c?(c=b.Ui(a),Math.abs(c)<=8.881784197001252E-16*(Math.abs(a.x*b.y)+Math.abs(a.y*b.x))&&(c--,c++),0>c?1:0<c?-1:0):c<f?-1:1};return k}();d.ty=
k})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,c,b,e){return a instanceof d.T?(a=new d.hd(a),c=new d.hd(c),this.V(a,c,b,e).next()):new d.sN(a,c,b,e)};b.Pp=function(a,c,f,e){var k=a.tb(),g=c.tb();if(a.u()&&c.u())return k>g?a:c;if(a.u())return c;if(c.u())return a;var h=new d.h,l=new d.h,n=new d.h;a.s(h);c.s(l);n.I(h);n.Nb(l);h=d.na.be(f,n,!0);
l=a.G();n=c.G();return 33==l&&33==n?b.oO(a,c,h):l!=n?0<k||0<g?k>g?a:c:550==l?b.XJ(a,c,h):b.XJ(c,a,h):d.Dg.Pp(a,c,f,e)};b.oO=function(a,c,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w(),e=c.w(),g=new d.Ed(a.description);d.b.sc(f,e)>b&&(g.add(a),g.add(c));return g};b.XJ=function(a,c,b){var f=a.Pa(0),e=a.D(),g=c.w(),h=a.Ka();b=b*Math.sqrt(2)*1.00001;var l=new d.h;a.s(l);l.O(b,b);if(l.contains(g)){b*=b;for(var l=!1,n=[],p=0;p<e;p++)n[p]=!1;for(p=0;p<e;p++){var w=f.read(2*p),q=f.read(2*p+1),w=w-g.x,q=q-g.y;
w*w+q*q<=b&&(l=!0,n[p]=!0)}if(l)for(p=0;p<e;p++)n[p]||h.Id(a,p,p+1);else h.Id(a,0,e),h.add(c)}else h.Id(a,0,e),h.add(c);return h};b.$=null;return b}(d.ef);d.uy=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=c;this.MV=a.next();this.lc=f}e.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),d.uy.Pp(b,this.MV,this.Rg,this.lc)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=
function(){return!0};return e}();d.sN=e})(t||(t={}));(function(d){var e=function(){function a(){}a.prototype.kw=function(){this.Iz=null;this.gy=-1;this.rL=!1};return a}(),g=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.qP=function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.MW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,
d){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.TA=!1;this.bl=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.lc=d}a.tc=function(a){var c=[],b;for(b in a)c.push(Number(b));c.sort(function(a,c){return a-c});return c};a.prototype.sH=function(c){var b=this.rp[c],e=a.tc(b)[0],m=b[e],g=m.Ty().Iz,m=m.Ty().rL;delete b[e];m&&(g=d.Km.local().V(g,this.Rg,!1,this.lc),0==c&&33==g.G()&&(c=new d.Ed(g.description),g.u()||c.add(g),g=c));return g};a.prototype.next=function(){if(this.Pc&&
this.Ro==this.bl)return null;for(;!this.cL(););if(-1==this.bl)return null;if(this.TA){for(this.Ro++;;){if(this.Ro>this.bl||0>this.Ro)throw d.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=0;this.Ro=this.bl;return this.sH(this.bl)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.bl&&!this.TA&&(this.dF(b,!1,
a),b>this.bl&&!this.TA&&this.xX(b))}if(0<this.Yq)for(b=0;b<=this.bl;b++)for(;1<this.jr[b];)if(a=this.JQ(b),0!=a.length)a=d.Dg.SR(a,this.Rg,this.lc),this.dF(b,!0,a);else break;return this.Pc};a.prototype.JQ=function(c){for(var b=[],d=[],e=this.rp[c],g=a.tc(e),h=0;h<g.length;h++){var l=g[h],n=e[l];if(this.Pc||1E4<n.Es&&1<n.Pj.length){this.jr[c]-=n.Pj.length;for(this.Yq-=n.Pj.length;0<n.Pj.length;)b.push(n.Ty().Iz),n.MW();d.push(l)}}for(h=0;h<d.length;h++)delete e[d[h]];return b};a.prototype.xX=function(a){for(var c=
0;c<a;c++)this.rp[c]=[],this.Yq-=this.jr[c],this.jr[c]=0};a.prototype.dF=function(c,b,d){var f=new e;f.kw();f.Iz=d;d=a.Mg(d);f.gy=d;d=a.We(d);if(c+1>this.rp.length)for(var k=0,h=Math.max(2,c+1);k<h;k++)this.rp.push([]);k=this.rp[c][d];void 0===k&&(k=new g,this.rp[c][d]=k);f.rL=b;k.qP(f);this.jr[c]++;this.Yq++;this.bl=Math.max(this.bl,c)};a.We=function(a){return 0<a?d.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var c=a.G();if(d.T.gh(c))return a.D();if(33==c)return 1;if(197==c)return 4;
if(d.T.Oc(c))return 2;throw d.g.za();};a.prototype.Re=function(){return this.cL()};return a}();d.uN=b})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments)}N(b,e);b.prototype.G=function(){return 1};b.prototype.V=function(a,c,b,e){return void 0===e?new d.uN(a,c,b):this.aS(a,c,b,e)};b.prototype.aS=function(a,c,b,e){a=new d.hd([a,c]);return this.V(a,b,e).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(d.ef);d.ei=e})(t||(t={}));(function(d){var e;
(function(d){d[d.nextPath=0]="nextPath";d[d.nextSegment=1]="nextSegment";d[d.iterate=2]="iterate"})(e||(e={}));e=function(){function e(b,a,c,f){this.Ot=new d.h;this.FV=b;this.GV=a;this.br=f;this.ip=-1;this.Vl=!1;var e=b.ob;null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=c,this.Mb=e,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,f?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(e=a.ob,null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=c,this.Mb=e,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=
0,f?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=f?d.na.eT(b,a,c,1<=b.Lk(0),1<=a.Lk(0)):d.na.dT(b,a,c))}e.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.iW();break;case 1:b=this.jW();break;case 2:b=this.DA();break;default:throw d.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};e.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};e.prototype.Ml=
function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};e.prototype.fA=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):this.Ot:this.Ci.fA(this.Ci.sg)};e.prototype.Jz=function(){if(!this.br)throw d.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Jz(this.Ci.bg)};e.prototype.iW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=
!0,!1;this.cr?this.GV.jk(this.ip,this.Ot):this.FV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};e.prototype.jW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();this.lx.Wn(b,this.ta);this.Zb=2;return!0};e.prototype.DA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return e}();d.Lm=e})(t||(t={}));(function(d){d=d.CN||(d.CN={});d[d.enumClosed=1]="enumClosed";d[d.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";d[d.enumOGCStartPolygon=
4]="enumOGCStartPolygon";d[d.enumCalcMask=4]="enumCalcMask"})(t||(t={}));(function(d){var e=function(){function e(){}e.Cb=function(b,a,c,f,k,m,g,h,l){var u=[0,0,0],n=[0,0,0],p=[0,0,0],C=[0,0,0,0],q=new d.ea(0),w=new d.ea(0),A=new d.ea(0);if(null!=g||null!=h||null!=l)if(d.l.Qi(a))d.vh.Cb(b,c,f,k,m,g,h,l);else{k=d.C.da(k);c=d.C.da(c);var t=d.C.da(k-c);if(d.l.W(f,m)&&(d.l.W(c,k)||d.l.W(d.l.K(f),1.570796326794897)))null!=g&&(g.j=0),null!=h&&(h.j=0),null!=l&&(l.j=0);else{if(d.l.W(f,-m)){if(d.l.W(d.l.K(f),
1.570796326794897)){null!=g&&(g.j=2*d.C.Yg(b,a));null!=h&&(h.j=0<f?d.C.da(3.141592653589793-d.C.da(k)):d.C.da(k));null!=l&&(l.j=0<f?d.C.da(k):d.C.da(3.141592653589793-d.C.da(k)));return}d.l.W(d.l.K(t),3.141592653589793)&&(null!=g&&(g.j=2*d.C.Yg(b,a)),null!=h&&(h.j=0),null!=l&&(l.j=0))}else{if(d.l.W(d.l.K(f),1.570796326794897)||d.l.W(d.l.K(m),1.570796326794897)){d.yl.Cb(b,a,c,f,k,m,g,h,l);return}if(d.l.W(c,k)||d.l.W(d.l.K(t),3.141592653589793)){d.yl.Cb(b,a,c,f,k,m,g,h,l);return}if(d.l.xd(f)){d.yl.Cb(b,
a,c,f,k,m,g,h,l);return}}var r=Math.sqrt(1-a);k=d.C.da(k-c);c=0;d.C.Dk(1,a,f,c,0,q,w,A);u[0]=q.j;u[1]=w.j;u[2]=A.j;d.C.Dk(1,a,m,k,0,q,w,A);n[0]=q.j;n[1]=w.j;n[2]=A.j;p[0]=0;p[1]=0;p[2]=-1*a*d.C.n(1,a,f)*Math.sin(f);0>k?d.C.Or(p,n,u,C,0):d.C.Or(p,u,n,C,0);for(var w=[0,0,0],A=[0,0,0],v=[0,0,0],u=[0,0,0],q=[0,0,0],x=Math.acos(C[2]/1),z=1-a,y=Math.tan(x),G=1+y*y/z,B=2*p[2]*y/z,y=Math.sqrt(B*B-4*G*(p[2]*p[2]/z-1)),G=2*G,z=(-B+y)/G,B=(-B-y)/G,y=Math.tan(x),G=y*z+p[2],x=(z+B)/2,p=(G+(y*B+p[2]))/2,y=d.C.Sp(z-
x,G-p),z=p/r*1.570796326794897,B=0;100>B;B++){G=d.C.Cm(a,z);G=G*G/Math.cos(z)*(Math.sin(z)-p*G/(1*(1-a)));if(d.l.xd(G))break;z-=G}var p=d.C.n(1,a,z)*Math.cos(z),p=Math.sqrt((p-x)*(p+x)),y=1-y/p,y=y*(2-y),G=d.C.eo(w),x=d.C.eo(A),z=d.C.eo(v),E=d.C.Eu(v,w),B=d.C.Eu(v,A);d.C.fy(v,w,u);d.C.fy(v,A,q);w=Math.acos(E/(z*G));A=Math.acos(B/(z*x));A*=d.l.Ab(1,d.C.Eu(u,q));if(1.570796326794897<=d.l.K(w)&&1.570796326794897<=d.l.K(A)||3.141592653589793<d.l.K(w-A))w=(3.141592653589793-d.l.K(w))*d.l.Ab(1,w),A=(3.141592653589793-
d.l.K(A))*d.l.Ab(1,A);u=d.C.ik(y,A);q=d.C.q(p,y,d.C.ik(y,w));u=d.C.q(p,y,u);u=d.l.K(u-q)*b;w=new d.ea(0);A=new d.ea(0);v=C[1]/1;v*=-d.l.Ab(1,t);q=Math.acos(v)*d.l.Ab(1,t);e.Uf(b,a,c,f,u,q,w,A);d.l.W(k,w.j)&&d.l.W(m,A.j)||(y=d.C.Sp(d.C.da(k-w.j),m-A.j),e.Uf(b,a,c,f,u,d.C.da(q+3.141592653589793),w,A),G=d.C.Sp(d.C.da(k-w.j),m-A.j),G<y&&(q=d.C.da(q+3.141592653589793)));w=[0,0,0,0];A=[0,0,0,0];p=[0,0,0];y=[0,0,0];b=[0,0,0];c=[0,0,0];f=[0,0,0];v=[0,0,0];p[0]=0;p[1]=0;p[2]=r;y[0]=0;y[1]=0;y[2]=0;d.C.Or(y,
p,n,w,0);d.l.xd(m)?(b[0]=n[0],b[1]=n[1],b[2]=1,c[0]=1*Math.cos(k)-1*Math.sin(k),c[1]=1*Math.sin(k)+1*Math.cos(k)):(a=d.C.n(1,a,m)*Math.cos(m),b[0]=0,b[1]=0,n[2]+=Math.tan(1.570796326794897-d.l.K(m))*a*d.l.Ab(1,m),c[0]=a*Math.cos(k)-a*Math.sin(k),c[1]=a*Math.sin(k)+a*Math.cos(k));c[2]=n[2];d.C.Or(n,c,b,A,1);d.C.fy(A,w,f);d.C.fy(A,C,v);v=d.C.Eu(f,v)/(d.C.eo(f)*d.C.eo(v));v*=d.l.Ab(1,t);k=Math.acos(v)*-d.l.Ab(1,t);0<q&&0<k?k=d.C.da(k+3.141592653589793):0>q&&0>k&&(k=d.C.da(k+3.141592653589793));null!=
g&&(g.j=u);null!=h&&(h.j=q);null!=l&&(l.j=k)}}};e.Uf=function(b,a,c,f,e,m,g,h){var k=[0,0,0],u=[0,0,0],l=[0,0,0],n=[0,0,0],p=[0,0,0],w=[0,0,0],q=[0,0,0],C=[0,0,0,0],t=new d.ea(0),r=new d.ea(0),v=new d.ea(0),x=new d.ea(0),z=new d.ea(0),y=new d.ea(0);if(null!=g&&null!=h)if(d.l.Qi(a))d.vh.Uf(b,c,f,e,m,g,h);else if(d.l.xd(e))null!=g&&(g.j=c),null!=h&&(h.j=f);else if(m=d.C.da(m),0>e&&(e=d.l.K(e),m=d.C.da(m+3.141592653589793)),c=d.C.da(c),f=d.C.da(f),1.570796326794897<d.l.K(f)&&(c=d.C.da(c+3.141592653589793),
f=d.l.Ab(3.141592653589793,f)-f),d.l.W(d.l.K(f),1.570796326794897)||d.l.xd(f)||d.l.xd(m)||d.l.W(d.l.K(m),3.141592653589793))d.yl.Uf(b,a,c,f,e,m,g,h);else{var G=Math.sqrt(1-a);b=e/b;d.C.Dk(1,a,f,0,0,x,z,y);k[0]=x.j;k[1]=z.j;k[2]=z.j;q[0]=0;q[1]=0;q[2]=-1*a*d.C.n(1,a,f)*Math.sin(f);x=d.C.n(1,a,f);z=d.C.da(1.570796326794897-m);y=Math.sin(z);e=Math.cos(f);f=Math.sin(f);p[0]=x*e-f*y;p[1]=Math.cos(z);p[2]=(1-a)*x*f+e*y;0>m?d.C.Or(q,p,k,C,0):d.C.Or(q,k,p,C,0);k=Math.acos(C[2]/1);C=Math.atan2(-C[1],-C[0]);
f=1-a;p=Math.tan(k);z=1+p*p/f;x=2*q[2]*p/f;p=Math.sqrt(x*x-4*z*(q[2]*q[2]/f-1));z*=2;f=(-x+p)/z;x=(-x-p)/z;p=Math.tan(k);z=p*f+q[2];k=(f+x)/2;q=(z+(p*x+q[2]))/2;p=d.C.Sp(f-k,z-q);G=q/G*1.570796326794897;for(f=0;100>f;f++){x=d.C.Cm(a,G);x=x*x/Math.cos(G)*(Math.sin(G)-q*x/(1*(1-a)));if(d.l.xd(x))break;G-=x}G=d.C.n(1,a,G)*Math.cos(G);G=Math.sqrt((G-k)*(G+k));q=1-p/G;q*=2-q;w=Math.acos(d.C.Eu(w,u)/(d.C.eo(w)*d.C.eo(u)));w*=d.l.Ab(1,u[0]);m=(d.C.q(G,q,d.C.ik(q,w))+b*d.l.Ab(1,m))/d.C.Yg(G,q);m=d.C.da(1.570796326794897*
m);m=d.C.xp(q,m);d.C.n(G,q,m);p=d.C.da(C+c);c=Math.cos(p);m=Math.sin(p);l[0]=n[0]*c+n[1]*-m;l[1]=n[0]*m+n[1]*c;l[2]=n[2];d.C.kQ(a,l[0],l[1],l[2],v,r,t);null!=g&&(g.j=r.j);null!=h&&(h.j=v.j)}};return e}();d.WD=e})(t||(t={}));(function(d){var e=function(){function a(a){this.ab=null;this.mu=new d.b;this.nu=new d.b;this.a=a}a.prototype.compare=function(a,c,b){this.a.Nc(c,this.mu);this.a.Nc(a.ja(b),this.nu);return this.mu.compare(this.nu)};return a}(),g=function(){function a(a){this.cg=new d.b;this.fl=
new d.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,c){this.a.Nc(a.ja(c),this.fl);return this.cg.compare(this.fl)};return a}(),b=function(a){function c(c){a.call(this,c.a,c.ta,!1);this.bb=c}N(c,a);c.prototype.compare=function(a,c,b){if(this.Ng)return-1;var f=this.bb.he.yo(this.bb.ri(c));a=a.ja(b);var d=this.bb.he.yo(this.bb.ri(a));this.rn=b;return this.YF(c,f,a,d)};return c}(d.gE),a=function(a){function c(c){a.call(this,c.a,c.ta);this.bb=c}N(c,a);c.prototype.compare=
function(a,c){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(c)));this.rn=c;return this.ZF(c,a)};return c}(d.bO),c=function(){function c(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Od=this.ib=this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.hl=this.Ih=this.cl=this.gg=this.we=null;this.Vh=this.zr=this.BB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new d.b;this.oj=new d.b;this.ib=new d.ad(8);this.Od=new d.ad(5);this.Gh=new d.Lu;this.he=new d.Lu;this.ih=!1;this.Th=new d.b;this.Th.ka(0,0);this.ta=
0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new d.uk;this.Tc=new d.uk;this.Ih=new d.ia(0);this.hl=new d.eE;this.gg=new d.ia(0);this.cl=new d.ia(0);this.Xo=new d.Wa}c.prototype.JY=function(a,c){var b=new d.Hd;b.yC();a.Xc(b);this.Yr(a);this.Lo=!1;this.ta=c;this.BB=c*c;c=this.HC();a.Xc(b);c||(this.mS(),c||this.HC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};c.prototype.NY=function(a,c){this.Yr(a);this.Lo=!1;this.ta=c;this.BB=c*c;this.ih=!1;this.HC();this.ih||(this.ih=1==
a.zq(c,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};c.prototype.Jg=function(a,c){return this.ib.S(a,0+c)};c.prototype.mC=function(a,c,b){this.ib.P(a,0+c,b)};c.prototype.ri=function(a){return this.ib.S(a,2)};c.prototype.VX=function(a,c){this.ib.P(a,2,c)};c.prototype.cH=function(a,c){return this.ib.S(a,3+c)};c.prototype.Jq=function(a){return this.ib.S(a,7)};c.prototype.um=function(a,c){this.ib.P(a,7,c)};c.prototype.Kq=function(a,c){return this.ib.S(a,3+this.Iq(a,c))};c.prototype.Zr=
function(a,c,b){this.ib.P(a,3+this.Iq(a,c),b)};c.prototype.HT=function(a,c){return this.ib.S(a,5+this.Iq(a,c))};c.prototype.as=function(a,c,b){this.ib.P(a,5+this.Iq(a,c),b)};c.prototype.Ns=function(a){return this.Od.S(a,0)};c.prototype.SX=function(a,c){this.Od.P(a,0,c)};c.prototype.Nz=function(a){return this.Od.S(a,4)};c.prototype.Vr=function(a,c){this.Od.P(a,4,c)};c.prototype.Nl=function(a){return this.Od.S(a,1)};c.prototype.ao=function(a,c){this.Od.P(a,1,c)};c.prototype.Mz=function(a){return this.Od.S(a,
3)};c.prototype.tu=function(a,c){this.Od.P(a,3,c)};c.prototype.Mn=function(a){var c=this.Od.Pe(),b=this.Gh.mi();this.SX(c,b);-1!=a?(this.Gh.addElement(b,a),this.a.Va(a,this.Vh,c),this.Vr(c,this.a.Za(a))):this.Vr(c,-1);return c};c.prototype.ER=function(a){this.Od.kd(a)};c.prototype.bF=function(a,c){this.Gh.addElement(this.Ns(a),c);this.a.Va(c,this.Vh,a)};c.prototype.cu=function(a){var c=this.ib.Pe(),b=this.he.mi();this.VX(c,b);-1!=a&&this.he.addElement(b,a);return c};c.prototype.cF=function(a,c){this.he.addElement(this.ri(a),
c)};c.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};c.prototype.Jj=function(a,c){if(-1==this.Jg(a,0))this.mC(a,0,c);else if(-1==this.Jg(a,1))this.mC(a,1,c);else throw d.g.za();this.Ry(a,c)};c.prototype.Ry=function(a,c){var b=this.Nl(c);if(-1!=b){var f=this.Kq(b,c);this.as(f,c,a);this.Zr(a,c,f);this.Zr(b,c,a);this.as(a,c,b)}else this.as(a,c,a),this.Zr(a,c,a),this.ao(c,a)};c.prototype.Iq=function(a,c){return this.Jg(a,0)==c?0:1};c.prototype.Ln=function(a,c){var b=this.Mz(c);
-1!=b&&(this.Hf.Kd(b,-1),this.tu(c,-1));var f,b=this.Nl(c);if(-1!=b){var d=f=b,e;do{e=!1;var k=this.Iq(f,c),m=this.cH(f,k);if(this.Jg(f,k+1&1)==a){this.Kv(f);this.he.zh(this.ri(f));this.Jv(f);if(f==m){b=-1;break}b==f&&(b=this.Nl(c),d=m,e=!0)}f=m}while(f!=d||e);if(-1!=b){do k=this.Iq(f,c),m=this.cH(f,k),this.mC(f,k,a),f=m;while(f!=d);f=this.Nl(a);-1!=f?(d=this.Kq(f,a),e=this.Kq(b,a),d==f?(this.ao(a,b),this.Ry(f,a),this.ao(a,f)):e==b&&this.Ry(b,a),this.Zr(b,a,d),this.as(d,a,b),this.Zr(f,a,e),this.as(e,
a,f)):this.ao(a,b)}}b=this.Ns(a);f=this.Ns(c);for(d=this.Gh.xc(f);-1!=d;d=this.Gh.nb(d))this.a.Va(this.Gh.ja(d),this.Vh,a);this.Gh.mz(b,f);this.ER(c)};c.prototype.UV=function(a,c){var b=this.Jg(a,0),f=this.Jg(a,1),d=this.Jg(c,0),e=this.Jg(c,1);this.he.mz(this.ri(a),this.ri(c));c==this.Nl(b)&&this.ao(b,a);c==this.Nl(f)&&this.ao(f,a);this.Kv(c);this.Jv(c);b==d&&f==e||f==d&&b==e||(this.wo(b,this.mp),this.wo(d,this.oj),this.mp.ub(this.oj)?(b!=d&&this.Ln(b,d),f!=e&&this.Ln(f,e)):(f!=d&&this.Ln(f,d),b!=
e&&this.Ln(b,e)))};c.prototype.Kv=function(a){var c=this.Jg(a,1);this.mG(a,this.Jg(a,0));this.mG(a,c)};c.prototype.mG=function(a,c){var b=this.Kq(a,c),f=this.HT(a,c),d=this.Nl(c);b!=a?(this.Zr(f,c,b),this.as(b,c,f),d==a&&this.ao(c,b)):this.ao(c,-1)};c.prototype.jF=function(a,c,b){var f=this.he.xc(a),d=this.he.ja(f);a=this.jf(d);var e=this.jf(this.a.U(d));this.a.bs(d,c,b,!0);for(f=this.he.nb(f);-1!=f;f=this.he.nb(f)){var d=this.he.ja(f),k=this.jf(d)==a;this.a.bs(d,c,b,k)}f=c.Mq(b,0).ec();c=c.Mq(b,
c.Rl(b)-1).Cc();this.sL(a,f);this.sL(e,c)};c.prototype.fG=function(a,c,b){var f=this.ri(a),d=this.Jg(a,0),e=this.Jg(a,1),k=this.cu(-1);this.Ih.add(k);this.um(k,-3);this.gg.add(k);this.Jj(k,d);a=1;for(c=c.Rl(b);a<c;a++)b=this.Mn(-1),this.cl.add(b),this.gg.add(b),this.Jj(k,b),k=this.cu(-1),this.Ih.add(k),this.um(k,-3),this.gg.add(k),this.Jj(k,b);this.Jj(k,e);for(f=this.he.xc(f);-1!=f;f=this.he.nb(f))if(e=this.he.ja(f),this.jf(e)==d){a=0;do 0<a&&(k=this.gg.get(a-1),this.bF(k,e),-1==this.Nz(k)&&this.Vr(k,
this.a.Za(e))),k=this.gg.get(a),a+=2,this.cF(k,e),e=this.a.U(e);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(k=this.gg.get(a+1),this.bF(k,e),0>this.Nz(k)&&this.Vr(k,this.a.Za(e))),k=this.gg.get(a),a-=2,this.cF(k,e),e=this.a.U(e);while(0<=a)}this.gg.clear(!1)};c.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};c.prototype.LJ=function(a,c,b){var f=this.Jg(c,0),e=new d.b;this.wo(f,e);var k=new d.b,m=this.Jg(c,1);this.wo(m,k);var g=b.Rl(a),u=b.Mq(a,0),h=new d.b;u.Oq(h);if(!e.ub(h)){if(!this.ih){var l=
e.compare(this.Th),h=h.compare(this.Th);0>l*h&&(this.ih=!0)}this.HG(f,this.gg);this.cl.add(f)}!this.ih&&1<g&&(l=e.compare(k),u=u.Cc(),e.compare(u)!=l||u.compare(k)!=l?this.ih=!0:0>u.compare(this.Th)&&(this.ih=!0));u=b.Mq(a,g-1);a=u.Cc();k.ub(a)||(this.ih||(l=k.compare(this.Th),h=a.compare(this.Th),0>l*h&&(this.ih=!0)),this.HG(m,this.gg),this.cl.add(m));this.gg.add(c);k=0;for(m=this.gg.size;k<m;k++)a=this.gg.get(k),b=this.Jq(a),d.ad.CA(b)&&(this.Tc.Kd(b,-1),this.um(a,-1)),a!=c&&-3!=this.Jq(a)&&(this.Ih.add(a),
this.um(a,-3));this.gg.clear(!1)};c.prototype.pQ=function(a,c){this.we.compare(this.Tc,this.Tc.ja(a),c);this.we.Ng&&(this.we.Gs(),this.yG(a,c))};c.prototype.yG=function(a,c){this.Lo=!0;a=this.Tc.ja(a);c=this.Tc.ja(c);var b,f;f=this.he.yo(this.ri(a));var e=this.he.yo(this.ri(c));b=this.a.ic(f);null==b&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(f,this.Fe),b=this.Fe);f=this.a.ic(e);null==f&&(null==this.An&&(this.An=new d.Hb),this.a.pd(e,this.An),f=this.An);this.hl.Ap(b);this.hl.Ap(f);this.hl.Ma(this.ta,
!0)&&(this.ih=!0);this.YK(a,c,-1,this.hl);this.hl.clear()};c.prototype.yS=function(a,c){this.Lo=!0;c=this.Tc.ja(c);var b,f=this.he.yo(this.ri(c));b=this.a.ic(f);null==b&&(null==this.Fe&&(this.Fe=new d.Hb),this.a.pd(f,this.Fe),b=this.Fe);f=this.NG(a);this.hl.Ap(b);this.a.wj(f,this.Xo);this.hl.tA(this.ta,this.Xo,!0);this.YK(c,-1,a,this.hl);this.hl.clear()};c.prototype.tU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=
this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.QU(a)&&this.sU(a);this.Ko=!1}};c.prototype.sU=function(a){var c;this.Ko?(c=this.Tc.jv(this.$I,this.WI,a,!0),this.Ko=!1):c=this.Tc.aF(a);-1==c?this.UV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,c),this.we.Ng&&(this.we.Gs(),this.yG(this.we.rn,c)))};c.prototype.QU=function(a){var c=this.Jg(a,0);a=this.Jg(a,1);this.wo(c,this.mp);this.wo(a,this.oj);if(d.b.sc(this.mp,this.oj)<=this.BB)return this.ih=!0,-1;var b=this.mp.compare(this.Th),f=this.oj.compare(this.Th);
return 0>=b&&0<f?a:0>=f&&0<b?c:-1};c.prototype.kS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var c=this.a.Qr(),b=c.next();-1!=b;b=c.next())-1!=this.a.Sa(b,this.Vh)&&a.add(b);this.a.Xx(a,a.size);this.lS(a)};c.prototype.lS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new e(this.a));var c=new d.b;c.$c();for(var b=-1,f=new d.b,k=0,g=a.size;k<g;k++){var h=a.get(k);this.a.Nc(h,f);f.ub(c)?(h=this.a.Sa(h,this.Vh),this.Ln(b,h)):(b=this.jf(h),this.a.Nc(h,c),h=this.Hf.ro(h),this.tu(b,h))}};
c.prototype.mS=function(){var a=new d.ia(0);a.yb(this.a.vd);for(var c=this.Hf.xc(-1);-1!=c;c=this.Hf.nb(c))a.add(this.Hf.ja(c));this.Hf.clear();this.a.Xx(a,a.size);for(var c=0,b=a.size;c<b;c++){var f=a.get(c),e=this.jf(f),f=this.Hf.ro(f);this.tu(e,f)}};c.prototype.HG=function(a,c){var b=this.Nl(a);if(-1!=b){var f=b;do d.ad.CA(this.Jq(f))&&c.add(f),f=this.Kq(f,a);while(f!=b)}};c.prototype.sL=function(a,c){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),c)};c.prototype.YK=
function(a,c,b,f){this.Kv(a);-1!=c&&this.Kv(c);this.LJ(0,a,f);-1!=c&&this.LJ(1,c,f);-1!=b&&(f.cg.w(this.mp),this.wo(b,this.oj),this.oj.ub(this.mp)||this.cl.add(b));b=0;for(var d=this.cl.size;b<d;b++){var e=this.cl.get(b),k=this.Mz(e);-1!=k&&(this.Hf.Kd(k,-1),this.tu(e,-1))}b=this.ri(a);d=-1!=c?this.ri(c):-1;this.jF(b,f,0);-1!=c&&this.jF(d,f,1);this.fG(a,f,0);-1!=c&&this.fG(c,f,1);this.he.zh(b);this.Jv(a);-1!=c&&(this.he.zh(d),this.Jv(c));b=0;for(d=this.cl.size;b<d;b++)e=this.cl.get(b),e==this.zr&&
(this.Kw=!0),k=this.Mz(e),-1==k&&(k=this.Hf.aF(this.NG(e)),-1==k?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,e)):this.tu(e,k));this.cl.clear(!1)};c.prototype.wo=function(a,c){this.a.pH(this.Nz(a),c)};c.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};c.prototype.HC=function(){this.Kw=!1;this.zr=-1;null==this.we&&(this.Tc.Dw=!1,this.we=new b(this),this.Tc.Oo=this.we);var c=new d.ia(0),f=null,e=null,h=0;this.WI=this.$I=-1;this.Ko=!1;for(var l=this.Hf.xc(-1);-1!=l;){h++;this.Ko=!1;var n=this.Hf.ja(l);
this.zr=this.jf(n);this.a.Nc(n,this.Th);this.we.QK(this.Th.y,this.Th.x);var p,q=this.Nl(this.zr);p=-1==q;if(!p){n=q;do{var w=this.Jq(n);-1==w?(this.Ih.add(n),this.um(n,-3)):-3!=w&&c.add(w);n=this.Kq(n,this.zr)}while(n!=q)}if(0<c.size){this.Ko=1==c.size&&1==this.Ih.size;p=0;for(q=c.size;p<q;p++)n=this.Tc.ja(c.get(p)),this.um(n,-2);var t=-2,r=-2;p=0;for(q=c.size;p<q;p++){w=c.get(p);if(-2==t){var v=this.Tc.Ve(w);-1!=v?(n=this.Tc.ja(v),n=this.Jq(n),-2!=n&&(t=v)):t=-1}-2==r&&(w=this.Tc.nb(w),-1!=w?(n=
this.Tc.ja(w),n=this.Jq(n),-2!=n&&(r=w)):r=-1);if(-2!=t&&-2!=r)break}p=0;for(q=c.size;p<q;p++)w=c.get(p),n=this.Tc.ja(w),this.Tc.Kd(w,-1),this.um(n,-1);c.clear(!1);this.$I=-1!=t?t:-1;this.WI=-1!=r?r:-1;-1!=t&&-1!=r?this.Ko||this.pQ(t,r):-1==t&&-1==r&&(this.Ko=!1)}else p&&(null==f&&(f=new a(this)),f.Yh(this.Th),this.Tc.lK(f),f.Ng&&(f.Gs(),this.yS(this.zr,f.rn)));this.tU();this.Kw?(this.Kw=!1,null==e&&(e=new g(this.a)),e.Yh(this.Th),l=this.Hf.lK(e)):l=this.Hf.nb(l)}return this.Lo};c.prototype.Yr=function(a){this.a=
a;this.Vh=this.a.Vd();this.ib.Qe(a.vd+32);this.Od.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.sd;-1!=a;a=this.a.Ue(a))if(d.T.Ic(this.a.hc(a)))for(h=this.a.Pb(a);-1!=h;h=this.a.Sb(h)){var c=this.a.La(h),b=this.a.cb(h),f=this.Mn(b),e=this.cu(b);this.Jj(e,f);l=this.a.U(b);b=0;for(c-=2;b<c;b++){var k=this.a.U(l),g=this.Mn(l);this.Jj(e,g);e=this.cu(l);this.Jj(e,g);l=k}this.a.Qb(h)?(g=this.Mn(l),this.Jj(e,g),e=this.cu(l),this.Jj(e,g),this.Jj(e,f)):(g=
this.Mn(l),this.Jj(e,g))}else for(var h=this.a.Pb(a);-1!=h;h=this.a.Sb(h))for(var l=this.a.cb(h),f=0,c=this.a.La(h);f<c;f++)this.Mn(l),l=this.a.U(l);this.kS()};return c}();d.XD=c})(t||(t={}));(function(d){var e=function(e){function b(a,c,f){e.call(this);if(void 0!==a)if(void 0!==f){this.description=d.ye.Ig();var k=new d.qd;k.I(a,c,f);this.CC(k)}else if(void 0!==c)this.description=d.ye.Ig(),this.rb(a,c);else if(a instanceof d.ma)this.description=a;else if(a instanceof d.b)this.description=d.ye.Ig(),
this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw d.g.F();else this.description=d.ye.Ig()}N(b,e);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");a=new d.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,
c){"number"===typeof a?(this.Bc(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=c):(this.Bc(),this.rb(a.x,a.y))};b.prototype.mA=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");var a=new d.qd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=d.ma.de(1);return a};b.prototype.CC=function(a){this.Bc();var c=this.hasAttribute(1);c||d.ma.PH(1,a.z)||(this.Ud(1),c=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;c&&(this.la[2]=
a.z)};b.prototype.Be=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.BC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw d.g.X("This operation should not be performed on an empty geometry.");return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.sY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,
0)};b.prototype.cY=function(a){this.setAttribute(2,0,a)};b.prototype.yc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,c){var b=this.description.mg(a);return 0<=b?this.la[this.description.xk(b)+c]:d.ma.de(a)};b.prototype.KG=function(a,c){var b=this.description.mg(a);return 0<=b?this.la[this.description.xk(b)+c]:d.ma.de(a)};b.prototype.setAttribute=function(a,c,b){this.Bc();var f=this.description.mg(a);0>f&&(this.Ud(a),f=this.description.mg(a));
null==this.la&&this.nq();this.la[this.description.xk(f)+c]=b};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Bc();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var c=d.ye.vx(a,this.description),b=[],e=0,m=0,g=a.Ga;m<g;m++){var h=a.rd(m),l=d.ma.Xa(h);if(-1==c[m])for(var n=d.ma.de(h),h=0;h<l;h++)b[e]=n,e++;else for(n=this.description.xk(c[m]),h=0;h<l;h++)b[e]=this.la[n],e++,n++}this.la=b}this.description=
a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof d.Hd){if(!this.Hc()){var c=this.w();a.$h(c,c);this.rb(c)}}else this.Hc()||(this.Ud(1),c=this.mA(),this.CC(a.Rp(c)))};b.prototype.copyTo=function(a){if(33!=a.G())throw d.g.F();a.Bc();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,
a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var c=this.mA();a.o=
c.x;a.A=c.y;a.Bf=c.z;a.v=c.x;a.B=c.y;a.$g=c.z}};b.prototype.xf=function(a,c){var b=new d.Ac;if(this.Hc())return b.Oa(),b;a=this.Yc(a,c);b.ca=a;b.ha=a;return b};b.prototype.bK=function(a){if(null==this.la)this.la=d.J.gf(a);else if(this.la.length<a){for(var c=this.la.slice(0),b=this.la.length;b<a;b++)c[b]=0;this.la=c}};b.Bb=function(a,c,b){if(0<b)for(b=0;b<a.length;b++)c[b]=a[b]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?
!0:!1;for(var c=0,f=this.description.af.length;c<f;c++)if(this.la[c]!=a.la[c])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var c=0,b=this.description.af.length;c<b;c++)var e=this.la[c],e=d.J.truncate(e^e>>>32),a=d.J.dh(e,a);return a};b.prototype.Gg=function(){return null};return b}(d.T);d.Wa=e})(t||(t={}));(function(d){var e=function(){function d(b,a,c){void 0!==b&&(this.x=b,this.y=a,this.z=c)}d.pa=function(b,a,c){var f=new d;f.x=b;f.y=a;f.z=c;return f};
d.prototype.I=function(b,a,c){this.x=b;this.y=a;this.z=c};d.prototype.Vx=function(){this.z=this.y=this.x=0};d.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};d.prototype.sub=function(b){return new d(this.x-b.x,this.y-b.y,this.z-b.z)};d.prototype.Vg=function(b){return new d(this.x*b,this.y*b,this.z*b)};d.prototype.dv=function(){this.x=NaN};d.prototype.Hy=function(){return isNaN(this.x)};
d.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return d}();d.qd=e})(t||(t={}));(function(d){var e=function(){function e(b,a,c){this.tx=this.dx=null;this.tg=a;this.EV=a.y-c;this.DV=a.y+c;this.Ir=0;this.NA=b;this.ta=c;this.QV=c*c;this.OA=0!=c;this.yw=!1}e.prototype.result=function(){return 0!=this.Ir?1:0};e.prototype.YO=function(b){b=b.gc(b.pe(this.tg,!1));return d.b.sc(b,this.tg)<=this.QV?!0:!1};e.prototype.pG=function(b){if(!this.OA&&(this.NA&&this.tg.ub(b.ec())||this.tg.ub(b.Cc())))this.yw=
!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.NA&&!this.OA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var c=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?c=!0:this.tg.x>=Math.min(b.ua,b.sa)&&(c=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(c){if(this.tg.y==b.ec().y){if(this.tg.y<b.Cc().y)return}else if(this.tg.y==b.Cc().y&&this.tg.y<b.ec().y)return;this.Ir=this.NA?this.Ir^1:this.Ir+(b.ec().y>b.Cc().y?1:-1)}}};e.prototype.ku=function(b){var a=
b.xf(0,1);if(a.ca>this.DV||a.ha<this.EV)return!1;if(this.OA&&this.YO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=0;b<a;b++){var c=this.dx[b].get();this.pG(c);if(this.yw)return!0}else if(this.pG(b),this.yw)return!0;return!1};e.$=function(b,a,c){a=new e(0==b.xo(),a,c);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(c=b.ba(),a.ku(c))return-1;return a.result()};e.bd=function(b,a,c,f){var k=
new d.h;b.ac(k);k.O(f,f);var m=new e(0==b.xo(),c,f);b=b.Fa();var g=new d.h;g.I(k);g.v=c.x+f;g.A=c.y-f;g.B=c.y+f;c=a.Yz(g,f);for(f=c.next();-1!=f;f=c.next())if(b.Tb(a.ja(f)),b.Ea()&&(f=b.ba(),m.ku(f)))return-1;return m.result()};e.kn=function(b,a,c){if(b.u())return 0;var f=new d.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var k=f.Hi;if(null!=k){k=k.rm(a.x,a.y);if(1==k)return 1;if(0==k)return 0}f=f.Mb;if(null!=f)return e.bd(b,f,a,c)}return e.$(b,a,c)};e.XU=function(b,a,c,f){if(b.u())return 0;
var k=new d.h;b.ac(k);k.O(f,f);if(!k.contains(a,c))return 0;k=b.ob;if(null!=k&&(k=k.Hi,null!=k)){k=k.rm(a,c);if(1==k)return 1;if(0==k)return 0}return e.$(b,d.b.pa(a,c),f)};e.WU=function(b,a,c){return a.u()?0:e.kn(b,a.w(),c)};e.zA=function(b,a,c,f,k){var m=new d.h;b.ac(m);m.O(f,f);if(!m.contains(c))return 0;var g=new e(!0,c,f);if(null!=k){var h=new d.h;h.I(m);h.v=c.x+f;h.A=c.y-f;h.B=c.y+f;b=b.Fa();f=k.Yz(h,f);for(h=f.next();-1!=h;h=f.next())if(b.Tb(k.ja(h),a),b.Ea()&&b.Ta==a&&(h=b.ba(),g.ku(h)))return-1}else if(b=
b.Fa(),b.fC(a),b.Ya())for(;b.Ea();)if(h=b.ba(),g.ku(h))return-1;return g.result()};e.yA=function(b,a,c){var f=new d.h;b.ac(f);f.O(c,c);if(!f.contains(a))return 0;a=new e(!1,a,c);for(c=b.Fa();c.Ya();)if(!(0>b.Sm(c.Ta))){for(a.Ir=0;c.Ea();)if(f=c.ba(),a.ku(f))return-1;if(0!=a.Ir)return 1}return a.result()};e.Oi=function(b,a,c,f,k){var m=b.Fa();m.fC(a);if(!m.Ya()||!m.Ea())throw d.g.X("corrupted geometry");for(a=2;2==a&&m.Ea();)a=m.ba().gc(.5),a=e.zA(b,c,a,f,k);if(2==a)throw d.g.X("internal error");return 1==
a?!0:!1};e.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return e}();d.ff=e})(t||(t={}));(function(d){var e=function(d){function b(a){d.call(this,!0,a)}N(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,c,b){this.FU(a,c,b)};b.prototype.hT=function(){this.zT()};return b}(d.xl);d.Ja=e})(t||(t={}));(function(d){(function(d){d[d.PiPOutside=0]="PiPOutside";
d[d.PiPInside=1]="PiPInside";d[d.PiPBoundary=2]="PiPBoundary"})(d.IN||(d.IN={}));var e=function(){function e(){}e.WH=function(b,a,c){b=d.ff.WU(b,a,c);return 0==b?0:1==b?1:2};e.ge=function(b,a,c){b=d.ff.kn(b,a,c);return 0==b?0:1==b?1:2};e.dX=function(b,a,c,f){b=d.ff.XU(b,a,c,f);return 0==b?0:1==b?1:2};e.m_=function(b,a,c,f){return 0==d.ff.zA(b,a,c,f,null)?0:1};e.yA=function(b,a,c){return 0==d.ff.yA(b,a,c)?0:1};e.NR=function(b,a,c,f,k){if(a.length<c||k.length<c)throw d.g.F();for(var m=0;m<c;m++)k[m]=
e.ge(b,a[m],f)};e.YR=function(b,a,c,f,k){if(a.length/2<c||k.length<c)throw d.g.F();for(var m=0;m<c;m++)k[m]=e.dX(b,a[2*m],a[2*m+1],f)};e.fL=function(b,a,c,f,k){if(1736==b.G())e.NR(b,a,c,f,k);else if(197==b.G()){var m=new d.h;b.s(m);e.OM(m,a,c,f,k)}else throw d.g.X("invalid_call");};e.v_=function(b,a,c,f,k){if(1736==b.G())e.YR(b,a,c,f,k);else if(197==b.G()){var m=new d.h;b.s(m);e.SM(m,a,c,f,k)}else throw d.g.Da();};e.OM=function(b,a,c,f,e){if(a.length<c||e.length<c)throw d.g.F();if(b.u())for(f=0;f<
c;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[f])?e[f]=1:b.contains(a[f])?e[f]=2:e[f]=0};e.SM=function(b,a,c,f,e){if(a.length/2<c||e.length<c)throw d.g.F();if(b.u())for(f=0;f<c;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<c;f++)b.contains(a[2*f],a[2*f+1])?e[f]=1:b.contains(a[2*f],a[2*f+1])?e[f]=2:e[f]=0};e.$T=function(b,a,c,f,d){for(var e=0;e<c;e++)d[e]=b.mt(a[e],f)?2:0};e.jS=function(b,a,c,f,d){var e=b.ob,k=null;null!=e&&(k=e.Hi);for(var e=c,g=0;g<c;g++)if(d[g]=
1,null!=k){var h=a[g];0==k.rm(h.x,h.y)&&(d[g]=0,e--)}if(0!=e)for(b=b.Fa();b.Ya()&&0!=e;)for(;b.Ea()&&0!=e;)for(k=b.ba(),g=0;g<c&&0!=e;g++)1==d[g]&&k.mt(a[g],f)&&(d[g]=2,e--);for(g=0;g<c;g++)1==d[g]&&(d[g]=0)};e.gL=function(b,a,c,f,k){var m=b.G();if(1607==m)e.jS(b,a,c,f,k);else if(d.T.Oc(m))e.$T(b,a,c,f,k);else throw d.g.X("Invalid call.");};return e}();d.gd=e})(t||(t={}));(function(d){var e=function(d){function b(a,c){2==arguments.length?(d.call(this,!1,a.description),this.Rf(a),this.lineTo(c)):d.call(this,
!1,a)}N(b,d);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,c,b,d){this.GU(a,c,b,d)};return b}(d.xl);d.Ua=e})(t||(t={}));(function(d){var e=function(){function d(){}d.$_=function(){};return d}();d.d_=e})(t||(t={}));(function(d){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(d.fM||(d.fM={}));var e=function(){function a(){this.Jl=
3;this.uz=this.yv=NaN}a.prototype.cU=function(){return this.et(1)};a.prototype.dU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var c=new a;c.yv=this.yv;c.uz=this.uz;c.Jl=this.Jl;return c};return a}();d.OZ=e;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(d.gM||(d.gM={}));var g=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=
(this.Jl&a)};a.oe=function(c){var b=new a;b.Jl=c.Jl;return b};a.prototype.FO=function(a){this.Jl=a.Jl};return a}();d.PZ=g;var b=function(){function a(a,b,e){this.je=a;this.He=b;this.rg=new d.h;this.rg.I(e);this.zV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.zV};a.prototype.Eb=function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();d.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new e;this.EI=new g;this.xr=this.ue=
null;this.sr=this.Tl=!0}a.Is=function(c,b,d,e){var f;void 0===e&&(e=null);void 0===f&&(f=null);var k=new a;k.kq(c,b,d,e,f);return k};a.prototype.kq=function(a,b,e,m,g){if(null==a||null==b)throw d.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=m&&(this.DI=m.Vf());null!=g&&this.EI.FO(g);g=!1;1==b.Fb()&&null!=m&&(m=m.yv,isNaN(m)||0==m||(g=!0));if(a==b)this.Tl=!g,this.sr=!0;else{m=a.Fb();var c=b.Fb();if(0==m||0==c){if(null!=e)throw d.g.F();null!=a.Nd()&&null!=b.Nd()&&(this.Tl=a.Nd().Eb(b.Nd()))}else 3==
m||3==c?this.Tl=a.Eb(b):this.je.iU(this.He)?this.Tl=!g:this.Tl=!1,this.ue=e,null!=this.ue&&this.ue.Mp(),this.sr=(null==this.ue||0==this.ue.count())&&this.je.kc().Eb(this.He.kc())}this.wL()};a.prototype.Wv=function(){var c=new a;c.je=this.He;c.He=this.je;null!=this.ue&&(c.ue=this.ue.Wv());c.Tl=this.Tl;c.sr=this.sr;c.wL();return c};a.prototype.Ho=function(){return this.Tl};a.prototype.fT=function(){return this.DI.Vf()};a.prototype.Eb=function(c){return c==this?!0:c instanceof a&&this.je.Eb(c.je)&&this.He.Eb(c.He)?
this.ue==c.ue?!0:null!=this.ue&&null!=c.ue&&this.ue.Eb(c.ue)?!0:!1:!1};a.prototype.wL=function(){this.xr=new d.ko(this)};a.u_={};return a}();d.rs=b})(t||(t={}));(function(d){var e=function(){function b(){}b.uq=function(a){return a*b.pO};b.Wx=function(a,c){return b.VN(c-a)};b.cO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=d.Ub.hM(a);0>a&&(a+=360);return a};b.VN=function(a){a=b.cO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.pO=57.29577951308232;return b}();d.ls=e;
var g=function(){function b(){}b.Mj=function(a,c){var b=new d.h;a.s(b);var e=d.fb.Bh(c),m=new d.h;m.I(e);m.o=b.o;m.v=b.v;m.O(.01*m.fa(),0);e=d.na.be(c,b,!1);return m.contains(b)?a:d.ne.clip(a,m,e,0)};b.ht=function(a,c,f,e,m){if(!d.fb.Jc(c))throw d.g.F();var k=d.na.ah(c,a,!1),g=d.fb.Bh(c),h=d.fb.kc(c),l=h.Nd().Ai,n=d.fb.hw(h),h=d.fb.Sv(h),n=n*(2-n),p=new d.Ac;g.Sn(p);var q=[[0,0],[0,0]];2==d.Sd.Fb(c)?e?(q[0][0]=b.Nn(m,p),q[0][1]=g.Cq(),d.fb.lu(),g=q[0][0]*l):(q[0][0]=g.Hk(),q[0][1]=m,d.fb.lu(),g=q[0][1]*
l):g=m*l;if(!e&&0!=g)throw d.g.F();var w=new d.ea,t=new d.fd;a=t.Jb(a);for(var r=[0],v=new d.b,x=new d.b,z=new d.b,y=new d.b,G=new d.b,B=new d.b,E=t.Pb(a);-1!=E;E=t.Sb(E)){var D=t.cb(E);t.w(D,z);for(var H=!1,I=D=t.U(D);-1!=I;I=t.U(I)){if(I==D){if(H)break;H=!0}t.w(I,y);if(e&&k<m-z.x&&y.x-m>k||k<m-y.x&&z.x-m>k||!e&&k<-z.y&&y.y>k||k<-y.y&&z.y>k){do if(!(Math.abs(z.x-y.x)>=.5*p.N())){2==d.Sd.Fb(c)?(q[0][0]=b.Nn(z.x,p),q[0][1]=z.y,q[1][0]=b.Nn(y.x,p),q[1][1]=y.y,d.fb.VW(),G.x=q[0][0]*l,G.y=q[0][1]*l,B.x=
q[1][0]*l,B.y=q[1][1]*l):(G.x=z.x*l,G.y=z.y*l,B.x=y.x*l,B.y=y.y*l);B.x=6.283185307179586*(y.x-z.x)/p.N()+G.x;if(e){if(x.x=g,x.y=b.FB(h,n,G,B,g,f),isNaN(x.y))break}else{x.x=b.DB(h,n,G,B,f);if(isNaN(x.x))break;x.y=0}d.mb.Ld(h,n,G.x,G.y,B.x,B.y,w,null,null,f);var J=w.j;d.mb.Ld(h,n,G.x,G.y,x.x,x.y,w,null,null,f);var F=w.j;2==d.Sd.Fb(c)?(q[0][0]=x.x/l,q[0][1]=x.y/l,d.fb.US(),e?(v.y=q[0][1],v.x=m):(v.x=b.Zp(q[0][0],z.x,y.x,p),v.y=m)):e?(v.x=m,v.y=x.y/l):(v.x=b.Zp(x.x/l,z.x,y.x,p),v.y=m);r[0]=0<J?d.J.pk(F/
J,0,1):.5;0!=r[0]&&1!=r[0]&&(J=t.Ra(I),t.zm(J,r,1),t.rb(t.U(J),v.x,v.y))}while(0)}z.L(y)}}return t.Se(a)};b.Xm=function(a,c,f,e,m){if(a.u())return a;var k=d.fb.ee(c);return b.Aq(a,f-180*k,360*k,c,e,m,!0)};b.FB=function(a,c,f,e,m,g){if(3.141592653589793<=Math.abs(f.x-e.x)||!b.Cj(f.x,e.x,m))return NaN;var k;f.x>e.x?k=e:(k=f,f=e);e=new d.ea(0);var h=new d.ea(0),u=new d.ea(0);d.mb.Ld(a,c,k.x,k.y,f.x,f.y,h,e,null,g);var l=h.j,n=0,p=1,q=new d.b;for(q.L(k);l*(p-n)>1E-12*a;){var w=.5*(n+p);d.mb.Oj(a,c,k.x,
k.y,l*w,e.j,h,u,g);q.x=h.j;q.y=u.j;if(q.x==m)break;if(b.Cj(k.x,q.x,m))p=w;else if(b.Cj(f.x,q.x,m))n=w;else return NaN}return q.y};b.Cj=function(a,c,b){a=e.uq(a);c=e.Wx(a,e.uq(c));b=e.Wx(a,e.uq(b));return 0==b||0<c&&0<b&&b<=c||0>c&&0>b&&b>=c?!0:!1};b.Nn=function(a,c){var b=c.ha-c.ca;return c.wu(a-Math.floor((a-c.ca)/b)*b)};b.Zp=function(a,c,b,e){var f=new d.Ac;f.I(c,b);b=e.N();a=Math.floor((a-c)/b)*b+a;for(f=f.Wf();Math.abs(a-f)>Math.abs(a+b-f);)a+=b;return a};b.DB=function(a,c,b,e,m){var f;b.y>e.y?
f=e:(f=b,b=e);e=new d.Ac;e.I(f.y,b.y);if(!e.contains(0)||3.141592653589793<=Math.abs(f.x-b.x))return NaN;if(f.x==b.x)return f.x;var k=new d.ea(0),g=new d.ea(0),h=new d.ea(0);d.mb.Ld(a,c,f.x,f.y,b.x,b.y,g,k,null,m);var l=g.j,n=0,p=1,q=new d.b;for(q.L(f);l*(p-n)>1E-12*a;){var w=.5*(n+p);d.mb.Oj(a,c,f.x,f.y,l*w,k.j,g,h,m);q.x=g.j;q.y=h.j;e.I(f.y,q.y);if(0==q.y)break;if(e.contains(0))p=w;else if(e.I(b.y,q.y),e.contains(0))n=w;else return NaN}return q.x};b.Aq=function(a,c,b,e,m,g,h){var f=new d.h;a.s(f);
if(f.u())return a;var k=new d.Ac;f.Sn(k);var u=new d.Ac;u.I(c,c+b);if(u.contains(k)&&u.ha!=k.ha)return a;var l=new d.h;l.I(f);var n=a.G();if(33==n){l=m?a:a.Vf();f=l.Be();if(f<u.ca||f>=u.ha||h&&f==u.ha)f+=Math.ceil((u.ca-f)/b)*b,f=u.wu(f),l.BC(f);return l}if(550==n){l=m?a:a.Vf();e=l.Pa(0);n=2*l.D();a=!1;for(m=0;m<n;m+=2)if(f=e.read(m),f<u.ca||f>=u.ha||h&&f==u.ha)a=!0,f+=Math.ceil((u.ca-f)/b)*b,f=u.wu(f),e.write(m,f);a&&l.Dc(1993);return l}if(u.contains(k))return a;if(197==n)return b=m?a:a.Vf(),f.Ma(l),
b.Gp(f),b;var p=.1*Math.max(f.fa(),f.N());l.O(0,p);h=a;u=e.re(0);a=d.ei.local();m=new d.Hd;for(var q=0;;){var w=Math.floor((k.ca-c)/b),t=Math.ceil((k.ha-c)/b);if(3<t-w){w=Math.floor(.5*(t+w));l.o=f.o-p;l.v=c+b*w;var C=d.ne.clip(h,l,u,g);l.o=l.v;l.v=f.v+p;var r=d.ne.clip(h,l,u,g);m.Ag((w-t)*b,0);r.Xc(m);1736==n?h=a.V(C,r,e,null):(h=C,h.add(r,!1));h.s(f);f.Sn(k);q++}else break}l.o=c;l.v=c+b;c=new d.h;c.I(l);c.O(u,0);c=Math.floor((f.o-l.o)/b)*b;0!=c?(l.move(c,0),m.Ag(-c,0)):m.qC();c=1607==n?new d.Ua(h.description):
new d.Ja(h.description);g=new d.h;for(k=new d.h;f.v>l.o;){p=d.ne.clip(h,l,u,0);p.s(k);if(1607==n?!p.u()&&(k.N()>u||k.fa()>u):!p.u()&&(1736!=n||k.N()>u))p.Xc(m),p.s(k),c.s(g),g.O(u,u),g.Yb(k)&&1736==n?c=a.V(c,p,e,null):c.add(p,!1);l.move(b,0);m.shift(-b,0)}return c};b.OJ=function(a,c,b,e,m){var f=new d.Ed(b.description);f.Id(b,0,-1);m=d.fb.Xg(f,a,c,m);f=b.D();e.Oa();if(!d.fb.Jc(a)||f!=m.D())return!1;var k=new d.h;b.s(k);var g=new d.h;m.s(g);k=k.N();g=g.N();if(0!=k&&0!=g){if(g/=k,a=d.fb.Bh(c).N()/d.fb.Bh(a).N(),
1E-10<Math.abs(g/a-1))return!1}else if(0!=k||0!=g)return!1;e.add(b,!1);for(b=0;b<f;b++)a=m.Ba(b),e.rb(b,a);return!0};b.vA=function(){throw d.g.df();};return b}();d.gi=g})(t||(t={}));(function(d){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(d.di||(d.di={}));var e=d.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(d.mD||
(d.mD={}));var g=d.mD,b=function(){function a(){}a.iw=function(a,b,e){if(e||0<b){a=a.toString(d.Vc.PE_STR_NAME_CANON|d.Vc.PE_STR_AUTH_NONE);b=[];for(e=0;e<a.length;e++)b[e]="a"<=a[e]&&"z">=a[e]?b[e]=a[e].toUpperCase():a[e];return b.join()}return a.toString(d.Vc.PE_STR_AUTH_TOP)};a.qs=function(a,b,e,m){var c=m.length,f=e.D();if(0!=f){var k=e.Pa(0),g=Math.min(f,c),h=0,l=a.Kg();isNaN(b)&&(b=0);var n=a.Jc();a=n?a.kc().qe().N():0;for(var p=179*a/360;0<f;){k.Hx(h<<1,g,m,0,!0);d.fi.projToGeogCenter(l,g,
m,b);if(n)for(var q=0;q<g;q++){var w=m[q][0]-b,t=d.Ub.sign(w),r=k.read(2*(h+q));0>t*d.Ub.sign(r)&&Math.abs(w)>p&&(m[q][0]+=-t*a)}k.hy(h<<1,g,m,0,!0);h+=g;f-=g;g=Math.min(f,c)}e.Dc(1993)}};a.J_=function(a,b,e,m){var c=a.Kg();isNaN(b)&&(b=0);var f=e.Be();m[0][0]=f;m[0][1]=e.nf();d.fi.projToGeogCenter(c,1,m,b);a.Jc()&&(b=d.Ub.sign(m[0][0]-b),0>b*d.Ub.sign(f)&&(a=a.kc().qe().N(),Math.abs(m[0][0])>179*a/360&&(m[0][0]-=b*a)));e.rb(m[0][0],m[0][1])};a.xN=function(a,b,e,m){var c=0,f=a.Kg();isNaN(c)&&(c=0);
var k=a.Jc(),g=a.ee();a=360*g;for(var g=179*g,h=m.length,l=0;l<e;){for(var n=l;n<e&&b[n].isNaN();++n)l++;var p=Math.min(h,e-l);if(0<p){for(var n=1,q=l+1;n<p;++n,++q)if(b[q].isNaN()){p=n;break}d.na.oz(m,b,l,p);d.fi.projToGeogCenter(f,p,m,c);if(k)for(n=0,q=l;n<p;++n,++q){var w=b[q].x,t=m[n][0]-c,r=d.Ub.sign(t);0>r*d.Ub.sign(w)&&Math.abs(t)>g&&(m[n][0]-=r*a)}d.na.nz(b,l,m,p);l+=p}}};a.vy=function(a,b,e){var c=e.length,f=b.D();if(!(1>f)){var k=b.Pa(0),g=Math.min(f,c),h=0,l=a.Kg(),n=a.Jc(),p=n?a.qe().N():
0,q=179*p/360,w=0;for(n&&(w=a.pi());0<f;){k.Hx(h<<1,g,e,0,!0);d.fi.geogToProj(l,g,e);if(n)for(a=0;a<g;a++){var t=e[a][0],r=d.Ub.sign(t),v=k.read(2*(h+a))-w;0>r*d.Ub.sign(v)&&Math.abs(t)>q&&(e[a][0]+=-r*p)}k.hy(h<<1,g,e,0,!0);h+=g;f-=g;g=Math.min(f,c)}b.Dc(1993)}};a.B_=function(a,b,e){if(!b.u()){var c=a.Kg();e[0][0]=b.Be();e[0][1]=b.nf();d.fi.geogToProj(c,1,e);if(a.Jc()){var c=d.Ub.sign(e[0][0]),f=a.pi();0>c*d.Ub.sign(b.Be()-f)&&(a=a.qe().N(),Math.abs(e[0][0])>179*a/360&&(e[0][0]-=c*a))}b.rb(e[0][0],
e[0][1])}};a.wN=function(a,b,e,m){if(0!=e){var c=a.Kg(),f=a.Jc(),k=f?a.qe().N():0,g=179*k/360,h=0;f&&(h=a.pi());for(a=0;a<e;){for(var l=a;l<e&&b[l].isNaN();++l)a++;var n=Math.min(m.length,e-a);if(0<n){for(var l=1,p=a+1;l<n;++l,++p)if(b[p].isNaN()){n=l;break}d.na.oz(m,b,a,n);d.fi.geogToProj(c,n,m);if(f)for(l=0,p=a;l<n;l++){var q=m[l][0],w=d.Ub.sign(q);0>w*d.Ub.sign(b[p].x-h)&&Math.abs(q)>g&&(m[l][0]-=w*k)}d.na.nz(b,a,m,n);a+=n}}}};a.ps=function(a,b,e,m){var c=b.D();if(0!=c){var f=b.Pa(0),k=a.je,g=
a.He,h=k.kc().Yi(),l=g.kc().Yi(),n=k.ee(),p=g.ee();a=a.ue;if(null==a||0==a.count()){e=h/l;m=(k.dn()-g.dn())*p;l=-90*n;a=90*n;h=!1;p=1;for(k=2*c;p<k;)n=f.get(p),g=d.J.pk(n,l,a),g!=n&&(f.set(p,g),h=!0),p+=2;if(0!=m||1!=e)for(h=!0,l=new d.b,p=0;p<c;p++)f.fc(2*p,l),l.x*=e,l.x+=m,l.y*=e,f.fo(2*p,l);h&&b.Dc(1993)}else{var k=m.length,g=Math.min(c,k),q=d.J.gf(g),w=null,t=0,r=NaN,v=NaN,x=360*p,z=p/n;e&&(v=90*p,r=89.9*n,w=d.J.gf(g));for(var y=!0,G=0;0!=c;){n=!1;f.Hx(t<<1,g,m,0,!0);for(p=0;p<g;p++)q[p]=m[p][0];
if(e)for(p=0;p<g;p++){var B=Math.abs(m[p][1])-r;0<B&&(n=m[p][1],m[p][1]=d.Ub.Fl(r,n),w[p]=d.Ub.Fl(B,n),n=!0)}p=m[0][0];a.transform(m,g,h,l);y&&(G=m[0][0]-z*p,y=!1);for(p=0;p<g;p++)B=m[p][0]-q[p]*z-G,200<Math.abs(B)&&(m[p][0]=0<B?m[p][0]-x:m[p][0]+x);if(n){for(p=0;p<g;p++)0!=w[p]&&(m[p][1]+=z*w[p],m[p][1]>v?m[p][1]=v:m[p][1]<-v&&(m[p][1]=-v));for(n=0;n<g;n++)w[n]=0}f.hy(t<<1,g,m,0,!0);t+=g;c-=g;g=Math.min(c,k)}b.Dc(1993)}}};a.A_=function(a,b,e,m){if(b.u())return!1;var c=a.je,f=a.He,k=a.ue,g=c.kc().Yi(),
h=f.kc().Yi();m[0][0]=b.Be();m[0][1]=b.nf();if(null!=k&&0<k.count()){a=!0;var l=!1,n=NaN,p=0,q=1;e&&(e=c.ee(),n=f.ee(),q=n/e,n*=90,c=89.9*e,f=Math.abs(m[0][1])-c,0<f&&(l=m[0][1],m[0][1]=d.Ub.Fl(c,l),p=d.Ub.Fl(f,l),l=!0));k.transform(m,1,g,h);l&&0!=p&&(m[0][1]+=q*p,m[0][1]>n?m[0][1]=n:m[0][1]<-n&&(m[0][1]=-n));b.rb(m[0][0],m[0][1])}else{e=c.ee();a=d.J.pk(m[0][1],-90*e,90*e)!=m[0][1];n=f.ee();k=(c.dn()-f.dn())*n;g/=h;if(1!=g||0!=k)a=!0,m[0][0]*=g,m[0][0]+=k,m[0][1]*=g;a&&b.rb(m[0][0],m[0][1])}return a};
a.vN=function(a,b,e,m){var c;if(a.sr)m=90*a.je.ee(),d.na.VK(b,e,-m,m);else{var f=a.ue,k=a.je,g=a.He;a=k.Xs();var h=g.Xs(),l=k.ee(),n=90*l,p=g.ee();if(null==f||0==f.count()){if(m=a/h,f=(k.dn()-g.dn())*p,d.na.VK(b,e,-n,n),0!=f||1!=m)for(p=0;p<e;p++)b[p].x*=m,b[p].x+=f,b[p].y*=m}else for(var k=Math.min(e,m.length),n=d.J.gf(k),g=360*p,l=p/l,q=!0,w=0,t=0;0!=e;){for(p=0;p<k;p++)n[p]=b[p+t].x;p=b[0].x;d.na.oz(m,b,t,k);f.transform(m,k,a,h);d.na.nz(b,t,m,k);q&&(w=b[0].x-l*p,q=!1);for(p=0;p<k;p++)c=b[t+p].x-
n[p]*l-w,200<Math.abs(c)&&(b[t+p].x=0<c?b[t+p].x-g:b[t+p].x+g);t+=k;e-=k;k=Math.min(e,m.length)}}};a.ZZ=function(c,b,d,e){return a.Xm(c,b,isNaN(d)?0:d,!0,e,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.LS=function(c,b,e,m,g,h,l,n){for(var f=a.Vu(m,g),k=f.N(),u=k/360,p=a.lE*u,q=c.Pa(0),w=b.Jc(),t=w?k/b.qe().N():0,A=!1,C=new d.Ja(e.description),r=0,v=e.aa();r<v;++r){var x=w,z=new d.Ua(e.description);z.Ti(e,r,!0);if(0!=l){var y=a.bE(!0,z,f.B-n,f.B,l);(A=A||y)&&(x=!1)}var G=-1;x&&
(G=c.wa(r));var L=z.Pa(0),B=z.D(),E=0,D=L.read(0),H=0,y=3*m.re(0),I=!1,J=new d.b;J.$c();var F=new d.b;F.$c();for(var M=!1,Q=1;Q<B;++Q){var R=d.b.pa(L.Of(2*Q),L.Of(2*Q+1)),K=R.x,O=K+E,P=O-D;R.x=O;if(Math.abs(P)>p){if(x){var N=G+(Q+1<B?Q:0),Y=q.read(2*(G+Q-1)),N=(q.read(2*N)-Y)*t;Math.abs(P-N)>1*u&&(x=!1)}x||(E-=d.Ub.Fl(k,O-D),O=K+E,++H,M=0!=E,R.x=O)}else I||d.na.NH(F,J,R,y)&&(I=!0);M&&L.write(2*Q,O);D=O;F.L(J);J.L(R)}0<H&&z.Dc(1993);x=z.Ba(0);B=z.Ba(B-1);z=d.b.Cb(x,B)<y?a.UR(z,m,g,h,I):a.hS(c,r,z,
m,g);C.add(z,!1)}g=m.re(0);e=f.N()/180;a.xu(C,f,.1*g,!1);g=d.uh.clip(C,f,g,e,h);C=C!=g;c=c.hf();n=g.hf();l=0;0<n&&0>c?l=1:0>=n&&0<c&&(0==n?(n=NaN,2==b.Fb()?n=b.Mk().hf():1==b.Fb()&&(n=b.qe().IG()),c>.99*n&&(l=-1)):l=-1);0!=l&&(b=new d.Ja(g.description),b.oq(f),b=d.Jm.local().V(b,e,h),b.add(g,!1),C=!0,g=b);C&&(g=d.Km.local().V(g,m,!1,h));return g};a.hS=function(b,f,e,m,g){var c=e.D(),k=e.Ba(0),h=e.Ba(c-1);m=a.Vu(m,g);g=m.N();var k=d.Ub.sign(h.x-k.x),l=new d.h;e.ac(l);var u=m.Hk(),n,h=u-g,u=u+g;if(0<=
k){for(var p=Math.ceil((h-l.o)/g),p=p*g;h>l.o+p;)p+=g;for(;h<l.v+p;)p-=g;n=p;720<l.N()&&(u=h+360*Math.ceil(l.N()/360))}else{p=Math.ceil((u-l.v)/g);for(p*=g;u<l.v+p;)p-=g;for(;u>l.o+p;)p+=g;n=p;720<l.N()&&(h=u-360*Math.ceil(l.N()/360))}var p=k*g,q=d.h.pa(l.o,l.A,l.v,l.B);q.move(n,0);var w=new d.Hd;w.Ag(n,0);e.Xc(w);l=new d.Ua(e.description);l.add(e,!1);n=e.Ba(c-1);g=0;for(var t=l.Ba(0).x,r=0;0<k?q.v<u:q.o>h;)1024<=r&&(r=0),q.move(p,0),w.Wb=p,e.Xc(w),t+=p,m.o<=t&&m.v>=t&&(g=l.D()-1),e.rb(0,n),n=e.Ba(c-
1),l.Bs(e,0,0,c-1,!1);e=new d.Ja(l.description);c=0<b.Sm(f);e.add(l,!1);b=l.Ba(0);h=l.Ba(l.D()-1);f=e.aa()-1;(0>k?c:!c)?(k=d.b.pa(h.x,m.B),e.aj(k),k=d.b.pa(m.Hk(),m.B),e.aj(k),m=d.b.pa(b.x,m.B)):(k=d.b.pa(h.x,m.A),e.aj(k),k=d.b.pa(m.Hk(),m.A),e.aj(k),m=d.b.pa(b.x,m.A));e.aj(m);e.KH(0,f,0);e.oQ(g);return e};a.UR=function(b,f,e,m,g){var c=new d.Ja(b.description);c.add(b,!1);c.dC(0,c.D()-1);var k=new d.h;c.ac(k);e=a.Vu(f,e);for(var h=e.N(),l=Math.ceil((e.o-k.o)/h),l=l*h;e.o>k.o+l;)l+=h;for(;e.o<k.v+
l;)l-=h;l+=h;if(0!=l){k.move(l,0);var u=new d.Hd;u.Ag(l,0);c.Xc(u)}if(e.o<=k.o&&e.v>k.v)return g&&(g=c.hf(),c=d.Km.local().V(c,f,!0,m),f=c.hf(),(f=d.Ub.sign(g)!=d.Ub.sign(f))&&c.eK()),c;b=new d.Ja(b.description);b.add(c,!1);for(g=g||k.N()>h-f.re(0);k.o<e.v;)k.move(h,0),u=new d.Hd,u.Ag(h,0),c.Xc(u),b.add(c,!1);g&&(g=b.hf(),b.Hp(1),b=d.Km.local().V(b,f,!0,m),f=b.hf(),(f=d.Ub.sign(g)!=d.Ub.sign(f))&&b.eK());return b};a.bE=function(a,b,e,m,g){for(var c=b.Pa(0),f=b.D(),k=!1,h=0;h<f;h++){var l=d.b.pa(c.Of(2*
h),c.Of(2*h+1));if(0!=(g&1)&&l.y>=e){k=!0;break}if(0!=(g&2)&&l.y<=-e){k=!0;break}}if(!k)return!1;c=!1;a&&(c=b.Eo(0));a=new d.fd;var f=a.Jb(b),k=a.Pb(f),u=-1,n=!0,p=new d.b;p.$c();for(var h=new d.Wa,q=-1,w=a.cb(k);-1!=w;w=a.U(w)){var l=a.Ba(w),t=0!=(g&1)&&90<=l.y?1:0,t=t|(0!=(g&2)&&l.y<=-e?2:0);if(0<u&&u!=t){if(p.x!=l.x){p.x=l.x;a.wj(a.Ra(w),h);var r=a.Wj(k,w,h);a.Qf(r,p)}if(c)for(q=-1!=q?a.U(q):a.cb(k),r=a.Ra(w);q!=r;)q=a.ud(q,!1);q=-1}0<t&&(l.y=d.Ub.Fl(m,l.y),a.Qf(w,l),n||u==t||(l.x!=p.x?(a.wj(w,
h),r=a.Wj(k,w,h),a.rb(r,p.x,l.y),q=r):q=w));u=t;p=l;n=!1}if(c){if(-1!=q)for(q=a.U(q);-1!=q;)q=a.ud(q,!1);e=a.cb(k);a.Uq(e,a.Rj(k))||(a.wj(e,h),a.Wj(k,-1,h))}a.Se(f).copyTo(b);return!0};a.zZ=function(a,b){var c=0,f=a.La(b);b+=1;for(var d=a.aa();b<d&&!(0<a.Sm(b));++b)c++;return 64<f&&3<=c};a.uA=function(b,f,k,m){var c=b;if(c.u()||k==e.DontClip)return c;var g=c.G();if(33==g)return m=c,c=[m.w()],a.LH(c,1,f,k),c[0].isNaN()?m.Oa():m.rb(c[0]),b;b=f.kc();var h=b.ee(),l=90*h,n=180*h,p=360*h,q=f.pi(),w=.5*
h,t=new d.h;c.s(t);var r=f.Vs(),v=f.ES(),x=197==r.G();f=new d.h;r.s(f);k==e.PannableFold&&(k=b.qe().N(),f.o=q-.5*k,f.v=f.o+k);if(t.A<-l||t.B>l){(new d.h).I(t.o-h,-l,t.v+h,l);c=d.uh.rq(c,f,b,NaN,0,m);if(c.u())return c;c.s(t)}if(v&&(f.B<t.A||f.A>t.B))return c.Ka();t.N()>p&&(c=a.Aq(c,q-n,p,b,!0,0,!0,m),c.s(t));l=a.DN(t.o,t.v,f.o,f.v,p);0!=l&&t.move(l,0);if(t.v>f.v||t.o<f.o){if(t.v>f.v)for(;t.o>=f.v;)t.move(-p,0),l-=p;for(;t.o<f.v-p;)t.move(p,0),l+=p}k=d.na.vv(b,r);0!=l&&(h=new d.Hd,h.Ag(l,0),c.Xc(h));
if(v){if(x&&f.contains(t))return c;v=[null,null];for(l=0;2>l;l++){x?h=d.T.Ic(g)?d.uh.clip(c,f,k,w,m):d.uh.clip(c,f,k,0,m):(h=d.tk.local().V(c,r,b,m),h==r&&(h=d.T.oe(h)));if(f.o<=t.o&&f.v>=t.v||f.o>=t.o&&f.v<=t.v)return h;v[l]=h;0==l&&(t.move(-p,0),h=new d.Hd,h.Ag(-p,0),c.Xc(h))}if(550==g)v[0].Id(v[1],0,-1);else if(d.T.Ic(g))v[0].add(v[1],!1);else if(33==g)v[0].u()&&(v[0]=v[1]);else throw d.g.X("intersect_with_GCS_horizon: unexpected geometry type");return v[0]}if(f.B<t.A||f.A>t.B)return c;for(g=0;!c.u()&&
t.v>f.o;)0!=g&&(h=new d.Hd,h.Ag(g,0),c.Xc(h)),d.Gj.local().V(4,c,r,b,m)||(c=d.cq.local().V(c,r,b,m),r==c&&(c=d.T.oe(c))),0!=g&&(w=new d.Hd,w.Ag(-g,0),c.Xc(w)),g-=p,t.move(-p,0);return c};a.LH=function(b,f,k,m){if(0!=f&&m!=e.DontClip)if(m==e.PannableFold){m=k.BT();for(var c=f,g=0;g<f;g++)if(b[g].y>m.B||b[g].y<m.A)b[g].$c(),c--;0!=c&&a.Uu(b,f,m.o,m.N())}else{m=k.ee();var h=90*m,l=180*m;m*=360;c=f;for(g=0;g<f;g++)if(b[g].y>h||b[g].y<-h)b[g].$c(),c--;if(0!=c){c=new d.h;c.Mx(b,f);var h=k.Vs(),n=k.Uv(),
g=197==h.G(),p=new d.h;h.s(p);if(!n||!(p.B<c.A||p.A>c.B))if(n)if(a.Uu(b,f,p.Hk()-l,m),c=f,g)for(g=0;g<f;g++)p.contains(b[g])||(b[g].$c(),c--);else for(k=d.na.vv(k.kc(),h),g=0;g<f;g++)(l=0!=d.gd.ge(h,b[g],k))||(b[g].$c(),c--);else for(a.Uu(b,f,-l,m),c=f,k=d.na.vv(k.kc(),h),g=0;g<f;g++)if(l=b[g],l.isNaN()&&c--,n=a.qE(l.x,p.o,p.v,m),l.x+=n,l=0!=d.gd.ge(h,l,k))b[g].$c(),c--}}};a.b_=function(a,b,e){if(0<=b&&!a.Qb(b))return 0;var c=0;if(1==e.Fb())return b=90*e.ee(),b-=2*b/Math.PI*d.Vc.PE_HORIZON_DELTA,
e=new d.h,a.s(e),e.B>=b&&(c=1),e.A<=-b&&(c|=2),c;var f=e.Sj();if(null==f)return 0;var k=null;0<=b&&(k=a);for(var g=0;2>g;g++)if((0<g?f.getSouthPoleLocation():f.getNorthPoleLocation())!=d.Bg.PE_POLE_OUTSIDE_BOUNDARY){var h=e.eA(0<g);h.isNaN()||(h=0>b?d.ff.yA(a,h,0):d.ff.zA(k,b,h,0,null),c|=h<<g)}return c};a.Aq=function(a,b,e,m,g,h,l,n){var c=a.G(),f=b+e;if(33===c){m=g?a:a.Vf();var k=m.Be();if(k<b||k>=f||l&&k==f)k+=Math.ceil((b-k)/e)*e,k=d.J.pk(k,b,f),m.BC(k);return m}if(a.u())return a;k=new d.h;a.s(k);
if(k.u())return a;var u=new d.Ac;k.Sn(u);var p=new d.Ac;p.I(b,f);if(p.contains(u))return a;f=new d.h;f.I(k);if(550===c){m=g?a:a.Vf();n=m.Pa(0);c=2*m.D();f=!1;for(b=0;b<c;b+=2)if(k=n.read(b),k<p.ca||k>=p.ha||l&&k==p.ha)f=!0,k+=Math.ceil((p.ca-k)/e)*e,k=p.wu(k),n.write(b,k);f&&m.Dc(1993);return m}if(197==c)return e=g?a:a.Vf(),k.Ma(f),e.Gp(k),e;var q=.1*Math.max(k.fa(),k.N());f.O(0,q);l=a;p=m.re(0);a=d.ei.local();for(g=new d.Hd;;){var w=Math.floor((u.ca-b)/e),t=Math.ceil((u.ha-b)/e);if(3<t-w){w=Math.floor(.5*
(t+w));f.o=k.o-q;f.v=b+e*w;var r=d.uh.clip(l,f,p,h,n);f.o=f.v;f.v=k.v+q;var A=d.uh.clip(l,f,p,h,n);g.Ag((w-t)*e,0);A.Xc(g);1736==c?l=a.V(r,A,m,null):(l=r,l.add(A,!1));l.s(k);k.Sn(u)}else break}f.o=b;f.v=b+e;b=new d.h;b.I(f);b.O(p,0);b=Math.floor((k.o-f.o)/e)*e;0!=b?(f.move(b,0),g.Ag(-b,0)):g.qC();b=1607==c?new d.Ua(l.description):new d.Ja(l.description);h=new d.h;for(u=new d.h;k.v>f.o;){q=d.uh.clip(l,f,p,0,n);q.s(u);if(1607==c?!q.u()&&(u.N()>p||u.fa()>p):!q.u()&&(1736!=c||u.N()>p))q.Xc(g),q.s(u),
b.s(h),h.O(p,p),h.Yb(u)&&1736==c?b=a.V(b,q,m,null):b.add(q,!1);f.move(e,0);g.shift(-e,0)}return b};a.Uu=function(a,b,e,m){for(var c=e+m,f=0;f<b;f++){var k=a[f].x;e<=k&&k<c||!(k<e||k>c||k==c)||(k+=Math.ceil((e-k)/m)*m,k=d.J.pk(k,e,c),a[f].x=k)}};a.Xm=function(b,f,e,m,g,h){if(!f.Jc())throw d.g.X("fold_into_360_degree_range");if(b.u())return b;var c;if(2==f.Fb())e=f.bw(),c=f.aw()-e;else{var k=f.ee();c=360*k;e-=180*k}return a.Aq(b,e,c,f,m,g,!0,h)};a.BG=function(b,f,d,e){if(2==d.Fb())e=d.bw(),d=d.aw()-
e;else{var c=d.ee();d=360*c;e-=180*c}a.Uu(b,f,e,d)};a.Mj=function(a,b){var c=b.qe();if(33==a.G()){var f=a.nf();return c.A<=f&&f<=c.B?a:a.Ka()}f=new d.h;a.s(f);var e=new d.h;e.I(c);e.o=f.o;e.v=f.v;e.O(.01*e.fa(),0);c=d.na.$y(b,f);return e.contains(f)?a:d.uh.clip(a,e,c,0,null)};a.Im=function(a,b,d){return a>b.v&&a-b.v<d?b.v:a<b.o&&b.o-a<d?b.o:a};a.AY=function(b,f,d,e){e.x=a.Im(b.x,f,d);e.y=b.y};a.zY=function(b,f,d,e){for(var c=0;c<f;c++)b[c].y<d.A||b[c].y>d.B?b[c].$c():b[c].x=a.Im(b[c].x,d,e)};a.xu=
function(b,f,e,m){if(!b.u()){var c=b.G();if(!m||1736!=c)if(d.T.gh(c)){m=b.Pa(0);for(var c=0,k=b.D();c<k;c++){var g=m.read(2*c),h=a.Im(g,f,e);h!=g&&m.write(2*c,h)}b.Dc(1993)}else if(197==c)m=new d.h,b.s(m),m.o=a.Im(m.o,f,e),m.v=a.Im(m.v,f,e),b.Gp(m);else if(33==c)b.BC(a.Im(b.Be(),f,e));else throw d.g.X("internal error");}};a.qU=function(b,f,e,m){var c=new d.fd,k=c.Jb(b);b=d.na.vv(f,b);a.ht(c,k,f,b,e,!0,m);return c.Se(k)};a.ht=function(b,f,e,m,h,l,n){if(!e.Jc())throw d.g.F("invalid call");var c=e.qe(),
k=e.kc(),u=k.Kg().getDatum().getSpheroid(),k=k.Nd().Ai,p=u.getFlattening(),u=u.getAxis(),p=p*(2-p),q=new d.Ac;c.Sn(q);var w=null,t=[[0,0],[0,0]];2==e.Fb()?(w=e.Kg(),l?(t[0][0]=a.Nn(n,q),t[0][1]=c.Cq(),d.fi.projToGeog(w,1,t),c=t[0][0]*k):(t[0][0]=c.Hk(),t[0][1]=n,d.fi.projToGeog(w,1,t),c=t[0][1]*k)):c=n*k;if(!l&&0!=c&&h!=g.GreatElliptic)throw d.g.X("invalid argument");var r=new d.ea,A=[0],C=new d.b,v=new d.b,x=new d.b,z=[null,null],y=new d.b,G=new d.b,B=new d.b,E=new d.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var D=
b.cb(f);b.w(D,y);for(var H=!1,I=D=b.U(D);-1!=I;I=b.U(I)){if(I==D){if(H)break;H=!0}b.w(I,G);if(l&&(m<n-y.x&&G.x-n>m||m<n-G.x&&y.x-n>m)||!l&&(0!=n||m<-y.y&&G.y>m||m<-G.y&&y.y>m)){do if(!(Math.abs(y.x-G.x)>=.5*q.N())){2==e.Fb()?(t[0][0]=a.Nn(y.x,q),t[0][1]=y.y,t[1][0]=a.Nn(G.x,q),t[1][1]=G.y,d.fi.projToGeogCenter(w,2,t,0),B.x=t[0][0]*k,B.y=t[0][1]*k,E.y=t[1][1]*k):(B.x=y.x*k,B.y=y.y*k,E.y=G.y*k);E.x=2*(G.x-y.x)*Math.PI/q.N()+B.x;var J;if(l){v.x=c;v.y=a.FB(u,p,B,E,c,h);if(isNaN(v.y))break;z[0]=v;J=1}else if(h==
g.GreatElliptic){var F=[0,0];J=d.yy.vA(u,p,B,E,c,F);if(0==J)break;v.x=F[0];v.y=c;z[0]=v;2==J&&(x.x=F[1],x.y=c,z[1]=x)}else{v.x=a.DB(u,p,B,E,h);if(isNaN(v.x))break;v.y=0;z[0]=v;J=1}for(var M=-1,F=0;F<J;F++){d.mb.Ld(u,p,B.x,B.y,E.x,E.y,r,null,null,h);var Q=r.j;d.mb.Ld(u,p,B.x,B.y,z[F].x,z[F].y,r,null,null,h);var R=r.j;2==e.Fb()?(t[0][0]=z[F].x/k,t[0][1]=z[F].y/k,d.fi.geogToProj(w,1,t),l?(C.y=t[0][1],C.x=n):(C.x=a.Zp(t[0][0],y.x,G.x,q),C.y=n)):l?(C.x=n,C.y=z[F].y/k):(C.x=a.Zp(z[F].x/k,y.x,G.x,q),C.y=
n);A[0]=0<Q?d.J.pk(R/Q,0,1):.5;if(0==A[0]||1==A[0])break;M>A[0]||(M=b.Ra(I),b.zm(M,A,1),b.rb(b.U(M),C.x,C.y),M=A[0])}}while(0)}y.L(G)}}};a.Nn=function(a,b){var c=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/c)*c)};a.Zp=function(a,b,e,m){var c=new d.Ac;c.I(b,e);e=m.N();a=Math.floor((a-b)/e)*e+a;for(c=c.Wf();Math.abs(a-c)>Math.abs(a+e-c);)a+=e;return a};a.Cj=function(a,b,e){a=d.ls.uq(a);b=d.ls.Wx(a,d.ls.uq(b));e=d.ls.Wx(a,d.ls.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};a.FB=function(b,
f,e,m,h,l){if(l==g.GreatElliptic)return d.yy.NU(f,e,m,h);if(Math.abs(e.x-m.x)>=Math.PI||!a.Cj(e.x,m.x,h))return NaN;var c;e.x>m.x?c=m:(c=e,e=m);m=new d.ea;var k=new d.ea,u=new d.ea;d.mb.Ld(b,f,c.x,c.y,e.x,e.y,k,m,null,l);var n=k.j,p=0,q=1,w=new d.b;for(w.L(c);n*(q-p)>1E-12*b;){var t=.5*(p+q);d.mb.Oj(b,f,c.x,c.y,n*t,m.j,k,u,l);w.x=k.j;w.y=u.j;if(w.x==h)break;if(a.Cj(c.x,w.x,h))q=t;else if(a.Cj(e.x,w.x,h))p=t;else return NaN}return w.y};a.DB=function(a,b,e,m,h){if(h==g.GreatElliptic)return h=[0,0],
d.yy.vA(a,b,e,m,0,h),h[0];var c;e.y>m.y?c=m:(c=e,e=m);m=new d.Ac;m.I(c.y,e.y);if(!m.contains(0)||Math.abs(c.x-e.x)>=Math.PI)return NaN;if(c.x==e.x)return c.x;var f=new d.ea,k=new d.ea,l=new d.ea;d.mb.Ld(a,b,c.x,c.y,e.x,e.y,k,f,null,h);var u=k.j,n=0,p=1,q=new d.b;for(q.L(c);u*(p-n)>1E-12*a;){var w=.5*(n+p);d.mb.Oj(a,b,c.x,c.y,u*w,f.j,k,l,h);q.x=k.j;q.y=l.j;m.I(c.y,q.y);if(0==q.y)break;if(m.contains(0))p=w;else if(m.I(e.y,q.y),m.contains(0))n=w;else return NaN}return q.x};a.x_=function(a,b,e,m,g,h){if(b==
g&&e!=h)throw d.g.F();if(0>=m)return 0;if(a.Ho()){h*=2;var c=2*e;a=2*m;for(e=0;e<a;e++)g[h+e]=b[c+e];return m}if(2>=m){h=[new d.b,new d.b];for(c=0;c<m;c++)h[c].ka(b[2*c],b[2*c+1]);b=d.os.local().XY(a,h,m,h);for(c=0;c<m;c++)g[2*c]=h[c].x,g[2*c+1]=h[c].y;return b}var f=a.je,c=a.He,k=f.Fb(),l=c.Fb();if(0==k&&k==l)return a=f.Yi(),c=c.Yi(),c=a/c,a=new d.Hd,a.Op(c,c),a.YY(b,e,g,h,m),m;k=new d.Ed;k.Ud(3);k.resize(m);for(var l=k.Pa(0),u=k.Pa(3),c=0,n=2*e,p=2*h;c<m;c++,p+=2){e=b[n++];var f=b[n++],q=p;if(isNaN(e)||
isNaN(f))f=e=0,q=-1;u.write(c,q);l.write(2*c,e);l.write(2*c+1,f)}k.Dc(1993);b=d.os.local().V(k,a,null);c=0;for(h*=2;c<m;c++,h+=2)g[h]=NaN,g[h+1]=NaN;if(b.u())return 0;h=b.Pa(3);a=b.Pa(0);c=k=0;for(m=b.D();c<m;c++)b=h.read(c),-1!=b&&(e=a.read(2*c),f=a.read(2*c+1),g[b]=e,g[b+1]=f,k++);return k};a.OJ=function(a,b,e,m){if(!a.je.Jc())return!1;var c=new d.Ed(b.description);c.Id(b,0,-1);m=d.os.local().V(c,a,m);c=b.D();e.Oa();if(c!=m.D())return!1;var f=new d.h;b.s(f);var k=new d.h;m.s(k);f=f.N();k=k.N();
if(0!=f&&0!=k){if(k/=f,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(k/a-1))return!1}else if(0!=f||0!=k)return!1;e.add(b,!1);b=new d.b;for(a=0;a<c;a++)m.w(a,b),e.rb(a,b);return!0};a.rP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,f,k,m){if(k==e.Clip){var c=f.Mk();197==c.G()?(k=new d.h,c.s(k),c=d.na.$y(f,k),b=d.uh.clip(b,k,c,5E4*f.bn(),m)):d.Gj.local().V(1,c,b,f,m)||(b=d.tk.local().V(b,c,f,m),b==c&&(b=d.xl.oe(b)))}else f.Jc()&&(m=new d.h,b.ac(m),f.qe().contains(m)||(a.xu(b,
f.qe(),f.re(0),!0),k==e.PannableFold&&(b=a.Mj(b,f)),b=a.Xm(b,f,0,!0,1E5*f.bn(),null)));return b};a.kF=function(a,b,e){var c=b.Ws();if(null==c)return a;b=b.kc();var f=b.qe().N(),k=new d.h;a.ac(k);var g=new d.Ac;k.Sn(g);for(var k=c.Fa(),c=null,h=new d.Hd;k.Ya();)for(;k.Ea();){var l=k.ba(),n=l.xf(0,0),p=new d.Ac;p.I(n.ca,n.ha);for(n=0;p.ha>g.ca;)p.move(-f),--n;for(;p.ca<=g.ha;){if(p.Yb(g)){null==c&&(c=new d.Ua);var q=d.Hb.gR(l.ec(),l.Cc());0!=n&&(h.Ag(n*f,0),q.Xc(h));c.dc(q,!0)}p.move(f);++n}}return null!=
c?(b=d.na.hQ(b,c),b=d.na.Cs(b),d.Ku.lR(a,c,b,e)):a};a.DN=function(b,d,e,m,g){return b>=e&&d<=m?0:a.qE(.5*(d+b),e,m,g)};a.qE=function(a,b,e,m){return d.Ub.round((.5*(e+b)-a)/m)*m};a.MS=function(b,f,e,m,g,h,l,n){var c=a.Vu(m,g),k=c.N(),u=k/360,p=a.lE*u,q=b.Pa(0),w=f.Jc(),t=w?k/f.qe().N():0,r;f=b.Ka();for(var C=0,A=e.aa();C<A;++C){var v=w,x=new d.Ua(e.description);x.Ti(e,C,!0);r=e.Qb(C);0!=l&&(r=a.bE(r,x,c.B-n,c.B,l))&&(v=!1);var z=-1;r=x.D();var y=!1;v&&(z=b.wa(C),y=b.Qb(C));var G=x.Pa(0),B=0,L=G.read(0),
E=0,D=3*m.re(0),H=!1,I=new d.b;I.$c();var J=new d.b;J.$c();for(var F=!1,M=1;M<r;++M){var Q=d.b.pa(G.Of(2*M),G.Of(2*M+1)),R=Q.x,K=R+B,O=K-L;Q.x=K;if(Math.abs(O)>p){if(v){var P=z+M-1,N=z;if(!y||M+1<r)N+=M;P=q.read(2*P);N=(q.read(2*N)-P)*t;Math.abs(O-N)>1*u&&(w=!1)}v||(B-=d.Ub.Fl(k,K-L),K=R+B,++E,F=0!=B,Q.x=K)}else H||d.na.NH(I,J,Q,D)&&(H=!0);F&&G.write(2*M,K);L=K;I.L(J);J.L(Q)}0!=E&&x.Dc(1993);v=x.Ba(0);r=x.Ba(r-1);d.b.Cb(v,r);x=a.FS(x,m,isNaN(g)?0:g,h);f.add(x,!1)}b=m.re(0);e=c.N()/180;a.xu(f,c,.1*
b,!1);return d.uh.clip(f,c,b,e,h)};a.FS=function(b,d,e,m){return a.Xm(b,d,e,!0,0,m)};a.KU=function(a,b,e,m){var c=a.G();if(1736==c)for(b=null!=b?b.re(0):0,c=0;c<m;c++)1!=d.gd.ge(a,e[c],b)&&e[c].$c();else if(197==c)for(c=0;c<m;c++)a.hR(e[c])||e[c].$c();else throw d.g.F();};a.Dl=function(a,b,e,m){if(32>e)for(var c=new d.Wa,f=0;f<e;f++)c.rb(b[f]),a.Dl(c,m).w(b[f]);else{var k=new d.Ed;k.Ud(3);k.ZE(b,e);c=k.Pa(3);for(f=0;f<e;f++)c.write(f,f);f=a.Dl(k,m);a=f.Pa(0);c=f.Pa(3);m=d.b.pa(NaN,NaN);for(k=0;k<
e;k++)b[k]=m;e=f.D();for(f=0;f<e;f++)m=c.read(f),a.fc(2*f,b[m])}};a.Cl=function(a,b,e,m){if(32>e)for(var c=new d.Wa,f=0;f<e;f++)c.rb(b[f]),a.Cl(c,m).w(b[f]);else{var k=new d.Ed;k.Ud(3);k.ZE(b,e);c=k.Pa(3);for(f=0;f<e;f++)c.write(f,f);f=a.Cl(k,m);a=f.Pa(0);c=f.Pa(3);m=d.b.pa(NaN,NaN);for(k=0;k<e;k++)b[k]=m;e=f.D();for(f=0;f<e;f++)m=c.read(f),a.fc(2*f,b[m])}};a.Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.lE=210;return a}();d.Ib=b})(t||(t={}));(function(d){(function(d){d[d.rightSide=1]="rightSide"})(d.LN||(d.LN=
{}));var e=function(){function e(b,a,c){this.xt=new d.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=c,this.$w=0)}e.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};e.prototype.u=function(){return 0>this.up};e.prototype.Oz=function(){if(this.u())throw d.g.X("invalid call");return new d.Wa(this.xt.x,this.xt.y)};e.prototype.Za=function(){if(this.u())throw d.g.X("invalid call");return this.up};e.prototype.Rz=function(){if(this.u())throw d.g.X("invalid call");return this.Qa};e.prototype.AA=
function(){return 0!=(this.$w&1)};e.prototype.Ly=function(b,a,c,d){this.xt.x=b;this.xt.y=a;this.up=c;this.Qa=d};return e}();d.Mm=e})(t||(t={}));(function(d){var e=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;a.ac(this.gl);this.gl.O(b,b);this.gl.Yb(this.Mb.Ha)?((this.rt=d.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Cc(),this.ta=b):this.ta=NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=
function(a,b){this.Rh.resize(0);this.hj.length=0;this.Vk=-1;this.gl.I(a);this.gl.O(b,b);this.ta=NaN;this.gl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Vk=this.Lt;var a=null,b=null,f,e=null,m=null;this.rt&&(a=new d.b,b=new d.b,e=new d.h);for(var h=!1;!h;){for(;-1!=this.Vk;){f=this.Mb.Kz(this.Mb.Tv(this.Vk));if(f.Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),
e.I(f),e.O(this.ta,this.ta),0<e.gz(a,b)){h=!0;break}}else{h=!0;break}this.Vk=this.Mb.$v(this.Vk)}if(-1==this.Vk){f=this.Rh.Fc();var l=this.hj[this.hj.length-1];null==m&&(m=[],m[0]=new d.h,m[1]=new d.h,m[2]=new d.h,m[3]=new d.h);g.uK(l,m);this.Rh.Pf();--this.hj.length;for(l=0;4>l;l++){var n=this.Mb.Eq(f,l);if(-1!=n&&0<this.Mb.QT(n)&&m[l].Yb(this.gl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),e.I(m[l]),e.O(this.ta,this.ta),0<e.gz(a,b)){var p=new d.h;p.I(m[l]);this.Rh.add(n);this.hj.push(p)}}else p=new d.h,
p.I(m[l]),this.Rh.add(n),this.hj.push(p)}if(0==this.Rh.size)return-1;this.Vk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Vk);return this.Vk};b.fR=function(a,c,f){var e=new b;e.Mb=a;e.gl=new d.h;e.Rh=new d.ia(0);e.hj=[];e.Wn(c,f);return e};b.eR=function(a,c,f){var e=new b;e.Mb=a;e.gl=new d.h;e.Rh=new d.ia(0);e.hj=[];e.Ni(c,f);return e};b.dR=function(a){var c=new b;c.Mb=a;c.gl=new d.h;c.Rh=new d.ia(0);c.hj=[];return c};return b}();d.g_=e;var g=function(){function b(a,b){this.Lf=
new d.ad(11);this.yi=new d.ad(5);this.st=[];this.Ww=new d.ia(0);this.Ha=new d.h;this.ql(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.ql(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,d){d=-1==d?this.Mf:this.gH(d);var c=this.fa(d),f=this.gT(d);return this.mw(a,b,c,f,d,!1,-1)};b.prototype.ja=function(a){return this.bT(a)};b.prototype.RG=function(a){return this.Kz(this.Tv(a))};b.prototype.fa=
function(a){return this.Vv(a)};b.prototype.gT=function(a){var b=new d.h;b.I(this.Ha);var f=this.Vv(a);a=this.bH(a);for(var e=0;e<2*f;e+=2){var m=d.J.truncate(3&a>>e);0==m?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==m?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==m?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.QT=function(a){return this.lA(a)};b.prototype.qT=function(a,b){return e.fR(this,a,b)};b.prototype.Yz=function(a,b){return e.eR(this,a,b)};b.prototype.mf=function(){return e.dR(this)};
b.prototype.ql=function(a,b){if(0>b||32<2*b)throw d.g.F("invalid height");this.AV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,c,f,e,m,g,h){if(!e.contains(c))return 0==f?-1:this.mw(a,c,0,this.Ha,this.Mf,g,h);if(!g)for(var k=m;-1!=k;k=this.CT(k))this.Ux(k,this.lA(k)+1);k=new d.h;k.I(e);e=m;var l=[];l[0]=new d.h;l[1]=new d.h;l[2]=new d.h;for(l[3]=new d.h;f<this.AV&&this.jQ(e);f++){b.uK(k,l);for(var u=!1,n=
0;4>n;n++)if(l[n].contains(c)){var u=!0,p=this.Eq(e,n);-1==p&&(p=this.rR(e,n));this.Ux(p,this.lA(p)+1);e=p;k.I(l[n]);break}if(!u)break}return this.oU(a,c,f,k,e,g,m,h)};b.prototype.oU=function(a,b,d,e,m,g,h,l){var c=this.XG(m);if(g){if(m==h)return l;this.QR(l);g=l}else g=this.tR(),this.oC(g,a),this.KX(this.Tv(g),b);this.hY(g,m);-1!=c?(this.Sx(g,c),this.Px(c,g)):this.wK(m,g);this.rC(m,g);this.Ox(m,this.Yv(m)+1);this.iQ(m)&&this.CS(d,e,m);return g};b.prototype.QR=function(a){var b=this.gH(a),d=this.XG(b),
e=this.IT(a),m=this.$v(a);this.Us(b)==a?(-1!=m?this.Sx(m,-1):this.rC(b,-1),this.wK(b,m)):d==a?(this.Px(e,-1),this.rC(b,e)):(this.Sx(m,e),this.Px(e,m));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var c=.5*(a.o+a.v),d=.5*(a.A+a.B);b[0].I(c,d,a.v,a.B);b[1].I(a.o,d,c,a.B);b[2].I(a.o,a.A,c,d);b[3].I(c,a.A,a.v,d)};b.prototype.iQ=function(a){return 8==this.Yv(a)&&!this.tH(a)};b.prototype.CS=function(a,b,d){var c,f,e=this.Us(d);do f=this.Tv(e),c=this.yi.S(e,0),f=this.Kz(f),this.mw(c,
f,a,b,d,!0,e),e=c=this.$v(e);while(-1!=e)};b.prototype.jQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.rR=function(a,b){var c=this.Lf.Pe();this.OX(a,b,c);this.Ux(c,0);this.Ox(c,0);this.sl(c,a);this.AK(c,this.Vv(a)+1);this.EK(c,b<<2*this.Vv(a)|this.bH(a));return c};b.prototype.tR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new d.h));
this.LX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.OX=function(a,b,d){this.Lf.P(a,b,d)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.rC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.lA=function(a){return this.Lf.S(a,
8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.CT=function(a){return this.Lf.S(a,9)};b.prototype.sl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.bT=function(a){return this.yi.S(a,0)};b.prototype.oC=function(a,b){this.yi.P(a,0,b)};b.prototype.IT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=
function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.hY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.LX=function(a,b){this.yi.P(a,4,b)};b.prototype.Kz=function(a){return this.st[a]};b.prototype.KX=function(a,b){this.st[a].I(b)};return b}();d.gq=g})(t||(t={}));(function(d){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(d.AM||
(d.AM={}));var e=function(){function b(a,b){this.Dh=null;this.OV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.qG=function(a,b){for(var c=0;c<b;)for(var d=a[c++],e=a[c++],g=a[c++]*this.OV;d<e;d++)this.Dh[g+(d>>4)]|=this.uI<<2*(d&15)};return b}();d.i_=e;var g=function(){function b(a,b,d){this.Dh=null;this.zB=this.jl=this.pJ=this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.kl=this.$l=null;this.kw(a,b,d)}b.create=function(a,c,f){if(!b.bz(a))throw d.g.F();
return b.fe(a,c,f)};b.Cj=function(a,c,f){if(!b.bz(a))throw d.g.F();return b.se(a,c,f)};b.lX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw d.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.nS=function(a,b){b=b.Fa();for(var c=new d.b,e=new d.b;b.Ya();)for(;b.Ea();){var m=b.ba();if(322!=m.G())throw d.g.X("Internal Error");a.$h(m.ec(),c);a.$h(m.Cc(),e);this.qj.Qy(c.x,c.y,e.x,e.y)}this.qj.YJ(d.zy.py)};
b.prototype.oS=function(){throw d.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var c=1;4>c;c++)a.Qy(b[c-1].x,b[c-1].y,b[c].x,b[c].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(d.zy.py)};b.prototype.dL=function(a,b,f){for(var c=[null,null,null,null],e=0;e<c.length;e++)c[e]=new d.b;b=b.Fa();f=this.kl.ZY(f)+1.5;for(var e=new d.b,g=new d.b,h=new d.b,l=new d.b,n=new d.b,p=new d.h,q=new d.b;b.Ya();){var w=!1,t=!0;for(q.ka(0,0);b.Ea();){var r=b.ba();l.x=r.ua;l.y=r.ra;n.x=r.sa;n.y=r.oa;p.Oa();
p.Nb(l.x,l.y);p.ml(n.x,n.y);if(this.$l.TH(p)){this.kl.$h(n,n);t?(this.kl.$h(l,l),q.L(l),t=!1):l.L(q);e.zc(n,l);var r=e.length(),v=.5>r;0==r?e.ka(1,0):(v||q.L(n),e.scale(f/r),g.ka(-e.y,e.x),h.ka(e.y,-e.x),l.sub(e),n.add(e),c[0].add(l,g),c[1].add(l,h),c[2].add(n,h),c[3].add(n,g),v?w=!0:this.Bz(a,c))}else w&&(this.Bz(a,c),w=!1),t=!0}w&&this.Bz(a,c)}};b.prototype.VC=function(a){return d.J.truncate(a*this.CI+this.nJ)};b.prototype.WC=function(a){return d.J.truncate(a*this.At+this.pJ)};b.fe=function(a,c,
d){return new b(a,c,d)};b.se=function(a,c,d){return new b(a,c,d)};b.prototype.kw=function(a,b,f){this.hg=Math.max(d.J.truncate(2*Math.sqrt(f)+.5),64);this.Hn=d.J.truncate((2*this.hg+31)/32);this.$l=new d.h;this.jl=b;f=0;for(var c=this.hg,m=this.Hn;8<=c;)f+=c*m,c=d.J.truncate(c/2),m=d.J.truncate((2*c+31)/32);this.Dh=d.J.gf(f,0);this.qj=new d.zy;f=new e(this.Dh,this.Hn,this);this.qj.wY(this.hg,this.hg,f);a.s(this.$l);this.$l.O(b,b);var c=new d.h,m=d.h.pa(1,1,this.hg-2,this.hg-2),g=b*m.N();b*=m.fa();
c.I(this.$l.Wf(),Math.max(g,this.$l.N()),Math.max(b,this.$l.fa()));this.zB=this.jl;this.kl=new d.Hd;this.kl.lU(c,m);new d.Hd;switch(a.G()){case 550:f.Kx(this.qj,2);this.oS();break;case 1607:f.Kx(this.qj,2);this.dL(this.qj,a,this.zB);break;case 1736:f.Kx(this.qj,1),this.nS(this.kl,a),f.Kx(this.qj,2),this.dL(this.qj,a,this.zB)}this.CI=this.kl.lb;this.At=this.kl.gb;this.nJ=this.kl.Wb;this.pJ=this.kl.bc;this.aQ()};b.prototype.aQ=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,f=this.hg,e=d.J.truncate(this.hg/
2),m=this.Hn,g=d.J.truncate((2*e+31)/32);8<f;){for(f=0;f<e;f++)for(var h=2*f,l=2*f+1,n=0;n<e;n++){var p=2*n,q=2*n+1,w=p>>4,p=2*(p&15),t=q>>4,q=2*(q&15),r=this.Dh[a+m*h+w]>>p&3,r=r|this.Dh[a+m*h+t]>>q&3,r=r|this.Dh[a+m*l+w]>>p&3,r=r|this.Dh[a+m*l+t]>>q&3;this.Dh[b+g*f+(n>>4)]|=r<<2*(n&15)}f=e;m=g;a=b;e=d.J.truncate(f/2);g=d.J.truncate((2*e+31)/32);b=a+m*f}};b.prototype.rm=function(a,b){if(!this.$l.contains(a,b))return 0;a=this.VC(a);b=this.WC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.VC(a.o),f=this.VC(a.v),e=this.WC(a.A);a=this.WC(a.B);0>b&&(b=0);0>e&&(e=0);f>=this.hg&&(f=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>f||e>a)return 0;for(var m=Math.max(f-b,1)*Math.max(a-e,1),g=0,h=this.Hn,l=this.hg,n=0;;){if(32>m||16>l){for(m=e;m<=a;m++)for(var p=b;p<=f;p++)if(n=this.Dh[g+h*m+(p>>4)]>>2*(p&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}g+=h*l;l=d.J.truncate(l/2);h=d.J.truncate((2*
l+31)/32);b=d.J.truncate(b/2);e=d.J.truncate(e/2);f=d.J.truncate(f/2);a=d.J.truncate(a/2);m=Math.max(f-b,1)*Math.max(a-e,1)}};b.prototype.LT=function(){return this.hg*this.Hn};return b}();d.xy=g})(t||(t={}));(function(d){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(d.SN||(d.SN={}));var e=
function(){function b(){}b.pa=function(a,c,d,e,g,h,l,n){var f=new b;f.bx=a;f.zn=c;f.ek=d;f.rj=e;f.RI=g;f.G_=h;f.H_=l;f.I_=n;return f};return b}(),g=function(){function b(){}b.UE=function(a,c,f){if(!b.cz(a))return!1;var e=d.na.ah(c,a,!1);c=!1;d.wl.KF(a)&&(c=c||a.Xu(e,f));e=a.G();1736!=e&&1607!=e||!d.wl.IF(a)||0==f||(c=c||a.Hj(f));1736!=e&&1607!=e||!d.wl.JF(a)||0==f||(c=c||a.CO());return c};b.cz=function(a){return d.wl.KF(a)||d.wl.IF(a)||d.wl.JF(a)};return b}();d.Gu=g;g=function(){function b(){this.Ph=
[]}b.$B=function(a,c,f,e,g){var k=a.G(),m=c.G();if(197==k){if(197==m)return b.sO(a,c,f,e);if(33==m)return 2==e?e=1:1==e&&(e=2),b.lG(c,a,f,e)}else if(33==k){if(197==m)return b.lG(a,c,f,e);if(33==m)return b.vO(a,c,f,e)}if(a.u()||c.u())return 4==e?!0:!1;var h=new d.h;a.s(h);var l=new d.h;c.s(l);var n=new d.h;n.I(h);n.Nb(l);f=d.na.be(f,n,!1);if(b.Ek(h,l,f))return 4==e?!0:!1;h=!1;d.xl.Oc(k)&&(k=new d.Ua(a.description),k.dc(a,!0),a=k,k=1607);d.xl.Oc(m)&&(m=new d.Ua(c.description),m.dc(c,!0),c=m,m=1607);
if(197!=k&&197!=m){if(a.tb()<c.tb()||33==k&&550==m)2==e?e=1:1==e&&(e=2)}else 1736!=k&&197!=m&&(2==e?e=1:1==e&&(e=2));switch(k){case 1736:switch(m){case 1736:h=b.gu(a,c,f,e,g);break;case 1607:h=b.On(a,c,f,e,g);break;case 33:h=b.fu(a,c,f,e,g);break;case 550:h=b.eu(a,c,f,e,g);break;case 197:h=b.eD(a,c,f,e,g)}break;case 1607:switch(m){case 1736:h=b.On(c,a,f,e,g);break;case 1607:h=b.NB(a,c,f,e,g);break;case 33:h=b.iu(a,c,f,e,g);break;case 550:h=b.hu(a,c,f,e,g);break;case 197:h=b.sD(a,c,f,e)}break;case 33:switch(m){case 1736:h=
b.fu(c,a,f,e,g);break;case 1607:h=b.iu(c,a,f,e,g);break;case 550:h=b.au(c,a,f,e,g)}break;case 550:switch(m){case 1736:h=b.eu(c,a,f,e,g);break;case 1607:h=b.hu(c,a,f,e,g);break;case 550:h=b.EB(a,c,f,e,g);break;case 33:h=b.au(a,c,f,e,g);break;case 197:h=b.RJ(a,c,f,e)}break;case 197:switch(m){case 1736:h=b.eD(c,a,f,e,g);break;case 1607:h=b.sD(c,a,f,e);break;case 550:h=b.RJ(c,a,f,e)}}return h};b.sO=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;var k=new d.h,g=new d.h,h=new d.h;a.s(k);c.s(g);h.I(k);
h.Nb(g);a=d.na.be(f,h,!1);switch(e){case 4:return b.Ek(k,g,a);case 2:return b.SE(g,k,a);case 1:return b.SE(k,g,a);case 3:return b.We(k,g,a);case 8:return b.DP(k,g,a);case 32:return b.aP(k,g,a);case 16:return b.EL(k,g,a)}return!1};b.lG=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;a=a.w();var k=new d.h,g=new d.h;c.s(k);g.I(a);g.Nb(k);c=d.na.be(f,g,!1);switch(e){case 4:return b.Dx(a,k,c);case 2:return b.YC(a,k,c);case 1:return b.EN(a,k,c);case 3:return b.qL(a,k,c);case 8:return b.XC(a,k,c)}return!1};
b.vO=function(a,c,f,e){if(a.u()||c.u())return 4==e?!0:!1;a=a.w();c=c.w();var k=new d.h;k.I(a);k.Nb(c);f=d.na.be(f,k,!1);switch(e){case 4:return b.NN(a,c,f);case 2:return b.eL(c,a,f);case 1:return b.eL(a,c,f);case 3:return b.yL(a,c,f)}return!1};b.gu=function(a,c,d,e,g){switch(e){case 4:return b.iS(a,c,d);case 2:return b.Ex(c,a,d,g);case 1:return b.Ex(a,c,d,g);case 3:return b.jU(a,c,d);case 8:return b.mW(a,c,d);case 32:return b.iV(a,c,d,g)}return!1};b.On=function(a,c,d,e,g){switch(e){case 4:return b.GS(a,
c,d);case 1:return b.MB(a,c,d,g);case 8:return b.wW(a,c,d,g);case 16:return b.EP(a,c,d)}return!1};b.fu=function(a,c,d,e){switch(e){case 4:return b.XR(a,c,d);case 1:return b.xO(a,c,d);case 8:return b.eW(a,c,d)}return!1};b.eu=function(a,c,d,e){switch(e){case 4:return b.CR(a,c,d);case 1:return b.uO(a,c,d);case 8:return b.TV(a,c,d);case 16:return b.uP(a,c,d)}return!1};b.eD=function(a,c,d,e,g){if(b.mQ(a,c,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.eX(a,c,d);case 1:return b.rO(a,c,
d);case 3:return b.gU(a,c,d);case 8:return b.lV(a,c,d,g);case 32:return b.fV(a,c,d,g);case 16:return b.FL(a,c,d,g)}return!1};b.NB=function(a,c,d,e){switch(e){case 4:return b.yZ(a,c,d);case 2:return b.oD(c,a,d);case 1:return b.oD(a,c,d);case 3:return b.PL(a,c,d);case 8:return b.uD(a,c,d);case 32:return b.dM(a,c,d);case 16:return b.qD(a,c,d)}return!1};b.iu=function(a,c,d,e){switch(e){case 4:return b.wZ(a,c,d);case 1:return b.SY(a,c,d);case 8:return b.zM(a,c,d)}return!1};b.hu=function(a,c,d,e){switch(e){case 4:return b.uZ(a,
c,d);case 1:return b.HX(a,c,d);case 8:return b.oM(a,c,d);case 16:return b.nZ(a,c,d)}return!1};b.sD=function(a,c,d,e){if(b.qZ(a,c,d))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.EM(a,c,d);case 1:return b.oX(a,c,d);case 3:return b.JL(a,c,d);case 8:return b.kM(a,c,d);case 32:return b.$L(a,c,d);case 16:return b.fZ(a,c,d)}return!1};b.EB=function(a,c,d,e){switch(e){case 4:return b.SL(a,c,d);case 2:return b.sJ(c,a,d);case 1:return b.sJ(a,c,d);case 3:return b.cM(a,c,d);case 32:return b.IM(a,
c,d)}return!1};b.au=function(a,c,d,e){switch(e){case 4:return b.AJ(a,c,d);case 2:return b.TM(a,c,d);case 1:return b.pZ(a,c,d);case 3:return b.zx(a,c,d)}return!1};b.RJ=function(a,c,d,e){switch(e){case 4:return b.OL(a,c,d);case 2:return b.PM(a,c,d);case 1:return b.mZ(a,c,d);case 3:return b.ZL(a,c,d);case 8:return b.MM(a,c,d);case 16:return b.IL(a,c,d)}return!1};b.jU=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.We(e,g,f))return!1;e=b.vc(a,c,!1);if(4==e||1==e||2==e)return!1;if(b.qJ(a,c,
f))return!0;e=a.Rb();g=c.Rb();return Math.abs(e-g)>4*Math.max(a.D(),c.D())*f?!1:b.PB(a,c,f,!0)};b.iS=function(a,c,d){var f=b.vc(a,c,!0);return 4==f?!0:1==f||2==f||1073741824==f?!1:b.cD(a,c,d)};b.mW=function(a,c,d){var f=b.vc(a,c,!1);return 4==f||1==f||2==f?!1:b.iD(a,c,d,null)};b.iV=function(a,c,d,e){var f=b.vc(a,c,!1);return 4==f||1==f||2==f?!1:b.dD(a,c,d,e)};b.Ex=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,c,!1);return 4==k||2==k?!1:1==k?!0:b.CL(a,c,
f,e)};b.GS=function(a,c,d){var f=b.vc(a,c,!0);return 4==f?!0:1==f||1073741824==f?!1:b.cD(a,c,d)};b.wW=function(a,c,d,e){var f=b.vc(a,c,!1);return 4==f||1==f?!1:b.kD(a,c,d,e)};b.EP=function(a,c,d){var f=b.vc(a,c,!1);return 4==f||1==f?!1:b.bD(a,c,d,null)};b.MB=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,c,!1);return 4==k?!1:1==k?!0:b.DL(a,c,f,e)};b.XR=function(a,b,f){return 0==d.gd.WH(a,b,f)?!0:!1};b.eW=function(a,c,d){c=c.w();return b.fD(a,c,d)};b.xO=function(a,
c,d){c=c.w();return b.BL(a,c,d)};b.CR=function(a,c,f){var e=b.vc(a,c,!1);if(4==e)return!0;if(1==e)return!1;e=new d.h;a.s(e);e.O(f,f);for(var g=new d.b,h=0;h<c.D();h++)if(c.w(h,g),e.contains(g)){var l=d.gd.ge(a,g,f);if(1==l||2==l)return!1}return!0};b.TV=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;c=new d.h;a.s(c);c.O(f,f);var e,g=!1,h;h=a;for(var l=!1,n=0;n<b.D();n++){e=b.Ba(n);if(c.contains(e))if(e=d.gd.ge(h,e,f),2==e)g=!0;else if(1==e)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return g?!0:!1};b.uP=function(a,b,f){var c=this.vc(a,b,!1);if(4==c||1==c)return!1;var e=new d.h,c=new d.h,g=new d.h;a.s(e);b.s(g);c.I(e);c.O(f,f);var g=e=!1,h,l;l=a;for(var n=!1,p=0;p<b.D();p++){h=b.Ba(p);c.contains(h)?(h=d.gd.ge(l,h,f),0==h?g=!0:1==h&&(e=!0)):g=!0;if(e&&g)return!0;n||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(l=new d.Ja,a.copyTo(l),l.Hj(1)),n=!0)}return!1};b.uO=function(a,b,f){var c=new d.h,e=new d.h;a.s(c);b.s(e);
if(!this.Ec(c,e,f))return!1;e=this.vc(a,b,!1);if(4==e)return!1;if(1==e)return!0;var e=!1,g,h;h=a;for(var l=!1,n=0;n<b.D();n++){g=b.Ba(n);if(!c.contains(g))return!1;g=d.gd.ge(h,g,f);if(1==g)e=!0;else if(0==g)return!1;l||(!d.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new d.Ja,a.copyTo(h),h.Hj(1)),l=!0)}return e};b.gU=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.We(e,g,f))return!1;e=new d.Ja;e.jd(c,!1);return b.PB(a,e,f,!0)};b.mQ=function(a,c,f){var e=b.vc(a,c,!1);if(4==e)return!0;
if(1==e||2==e)return!1;var g=new d.h,e=new d.h;a.s(g);c.s(e);if(b.Ec(e,g,f))return!1;g=new d.b;e.Tn(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.TJ(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.Un(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;e.WJ(g);c=d.gd.ge(a,g,f);if(0!=c)return!1;c=a.Pa(0);g=new d.h;g.I(e);g.O(f,f);for(var h=0,l=a.D();h<l;h++){var n=c.read(2*h),p=c.read(2*h+1);if(g.contains(n,p))return!1}return!b.XH(a,e,f)};b.lV=function(a,c,f,e){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,g=new d.h;
a.s(k);c.s(g);if(b.Ec(g,k,f))return!1;if(g.N()<=f&&g.fa()<=f)return c=c.Bq(),b.fD(a,c,f);if(g.N()<=f||g.fa()<=f)return k=new d.Ua,g=new d.Wa,c.ig(0,g),k.Rf(g),c.ig(2,g),k.lineTo(g),b.kD(a,k,f,e);k=new d.Ja;k.jd(c,!1);return b.iD(a,k,f,e)};b.fV=function(a,c,f,e){var k=b.vc(a,c,!1);if(4==k||1==k||2==k)return!1;var k=new d.h,g=new d.h;a.s(k);c.s(g);if(b.Ec(g,k,f)||g.N()<=f||g.fa()<=f)return!1;k=new d.Ja;k.jd(c,!1);return b.dD(a,k,f,e)};b.eX=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(g,
e,f)};b.rO=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f))return!1;e=b.vc(a,c,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(g.N()<=f&&g.fa()<=f)return c=c.Bq(),b.BL(a,c,f);if(g.N()<=f||g.fa()<=f)return g=new d.Ua,e=new d.Wa,c.ig(0,e),g.Rf(e),c.ig(2,e),g.lineTo(e),b.DL(a,g,f,null);g=new d.Ja;g.jd(c,!1);return b.CL(a,g,f,null)};b.FL=function(a,c,f,e){var k=new d.h,g=new d.h;a.s(k);c.s(g);if(b.Ec(g,k,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;k=new d.Ua;g=new d.Wa;c.ig(0,
g);k.Rf(g);c.ig(2,g);k.lineTo(g);return b.bD(a,k,f,e)};b.PL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)&&4!=b.vc(a,c,!1)?b.qJ(a,c,f)?!0:b.PB(a,c,f,!1):!1};b.yZ=function(a,b,f){return 4==this.vc(a,b,!1)?!0:(new d.Lm(a,b,f,!0)).next()?!this.fI(a,b,f):!1};b.uD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var e=new d.Rd(0);if(0!=b.SB(a,c,f,e))return!1;for(var g=new d.Ed,h=0;h<e.size;h+=2){var l=e.read(h),n=e.read(h+1);g.lv(l,n)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return b.yx(a,
g,f)};b.qD=function(a,c,f){if(4==b.vc(a,c,!1))return!1;var e=new d.Rd(0);if(0!=b.SB(a,c,f,e))return!1;for(var g=new d.Ed,h=0;h<e.size;h+=2){var l=e.read(h),n=e.read(h+1);g.lv(l,n)}a=a.Gg();c=c.Gg();a.Id(c,0,c.D());return!b.yx(a,g,f)};b.dM=function(a,c,d){return 4==b.vc(a,c,!1)?!1:b.$H(a,c,d)};b.oD=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(e,g,f)&&4!=b.vc(a,c,!1)?b.Wg(c,a,f,!1):!1};b.wZ=function(a,c,d){if(4==b.vc(a,c,!1))return!0;c=c.w();return!b.IA(a,c,d)};b.zM=function(a,
c,d){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.hC(a,c,d)};b.SY=function(a,c,d){if(4==b.vc(a,c,!1))return!1;c=c.w();return b.yH(a,c,d)};b.uZ=function(a,c,d){return 4==b.vc(a,c,!1)?!0:!b.ZH(a,c,d,!1)};b.oM=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),e=new d.h,g=new d.h,h=new d.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var l,n,e=null;l=a.ob;null!=l?(n=l.Mb,e=l.np,null==n&&(n=l=d.na.Lj(a,h))):n=l=d.na.Lj(a,h);var p=n.mf(),q=null;null!=e&&(q=e.mf());var w=new d.b,t=new d.b,r=
!1,v=f*f,e=new d.Fm(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,w),h.contains(w))if(g.I(w.x,w.y,w.x,w.y),null==q||(q.Ni(g,f),-1!=q.next())){p.Ni(g,f);for(var x=p.next();-1!=x;x=p.next())if(c.Tb(n.ja(x)),x=c.ba(),x.gc(x.pe(w,!1),t),d.b.sc(w,t)<=v){e.write(l,1);r=!0;break}}if(!r)return!1;a=a.Gg();c=new d.Ed;g=new d.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,g),c.lv(g.x,g.y));return this.yx(a,c,f)};b.nZ=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var c=a.Fa(),e=new d.h,g=
new d.h,h=new d.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var l,n,e=null;l=a.ob;null!=l?(n=l.Mb,e=l.np,null==n&&(n=l=d.na.Lj(a,h))):n=l=d.na.Lj(a,h);var p=n.mf(),q=null;null!=e&&(q=e.mf());var w=new d.b,t=new d.b,r=!1,v=!1,x=f*f,e=new d.Fm(b.D());for(l=0;l<b.D();l++)e.write(l,0);for(l=0;l<b.D();l++)if(b.w(l,w),h.contains(w))if(g.I(w.x,w.y,w.x,w.y),null!=q&&(q.Ni(g,f),-1==q.next()))v=!0;else{p.Ni(g,f);for(var z=!1,y=p.next();-1!=y;y=p.next())if(c.Tb(n.ja(y)),y=c.ba(),y.gc(y.pe(w,!1),t),d.b.sc(w,
t)<=x){e.write(l,1);z=r=!0;break}z||(v=!0)}else v=!0;if(!r||!v)return!1;a=a.Gg();c=new d.Ed;g=new d.b;for(l=0;l<b.D();l++)0!=e.read(l)&&(b.w(l,g),c.lv(g.x,g.y));return!this.yx(a,c,f)};b.HX=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f)||4==b.vc(a,c,!1)||!b.ZH(a,c,f,!0))return!1;a=a.Gg();return!b.CJ(a,c,f)};b.JL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return g.fa()>f&&g.N()>f?!1:b.We(e,g,f)};b.qZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(g,
e,f)?!1:!b.XH(a,g,f)};b.kM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(g.fa()<=f&&g.N()<=f)return g=c.Bq(),b.hC(a,g,f);if(g.fa()<=f||g.N()<=f)return g=new d.Ua,e=new d.Wa,c.ig(0,e),g.Rf(e),c.ig(2,e),g.lineTo(e),b.uD(a,g,f);a=a.Fa();c=new d.h;e=new d.h;c.I(g);e.I(g);c.O(-f,-f);e.O(f,f);for(var g=!1,h=new d.h,l=new d.h;a.Ya();)for(;a.Ea();){a.ba().s(h);l.I(c);l.Ma(h);if(!l.u()&&(l.fa()>f||l.N()>f))return!1;l.I(e);l.Ma(h);l.u()||(g=!0)}return g};b.$L=function(a,c,f){var e=new d.h,g=new d.h;
a.s(e);c.s(g);if(b.Ec(e,g,f)||b.Ec(g,e,f)||b.Ec(g,e,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;e=new d.Ua;g=new d.Wa;c.ig(0,g);e.Rf(g);c.ig(2,g);e.lineTo(g);return b.$H(a,e,f)};b.EM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return b.Ec(g,e,f);a=a.Fa();c=new d.h;c.I(g);c.O(-f,-f);for(var g=!1,e=new d.h,h=new d.h;a.Ya();)for(;a.Ea();)a.ba().s(e),c.Tm(e)?g=!0:(h.I(c),h.Ma(e),!h.u()&&(h.fa()>f||h.N()>f)&&(g=!0));
return g};b.oX=function(a,c,f){var e=new d.h,g=new d.h;c.s(g);a.s(e);if(!b.Ec(e,g,f)||g.fa()>f&&g.N()>f)return!1;if(g.fa()<=f&&g.N()<=f)return c=c.Bq(),b.yH(a,c,f);e=new d.Ua;g=new d.Wa;c.ig(0,g);e.Rf(g);c.ig(2,g);e.lineTo(g);return b.Wg(e,a,f,!1)};b.fZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return e=new d.Ua,g=new d.Wa,c.ig(0,g),e.Rf(g),c.ig(2,g),e.lineTo(g),b.qD(a,e,f);a=a.Fa();c=new d.h;e=new d.h;e.I(g);c.I(g);e.O(-f,
-f);c.O(f,f);for(var h=g=!1,l=new d.h,n=new d.h;a.Ya();)for(;a.Ea();)if(a.ba().s(l),h||c.contains(l)||(h=!0),g||(n.I(e),n.Ma(l),!n.u()&&(n.fa()>f||n.N()>f)&&(g=!0)),g&&h)return!0;return!1};b.cM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)?b.jM(a,c,f)?!0:b.RC(a,c,f,!1,!0,!1):!1};b.SL=function(a,c,d){return!b.CJ(a,c,d)};b.IM=function(a,c,d){return b.RC(a,c,d,!1,!1,!0)};b.sJ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.Ec(e,g,f)?b.RC(c,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var c=new d.b,e=new d.b,g=0;g<b.D();g++){b.w(g,e);for(var h=!1,l=0;l<a.D();l++)if(a.w(l,c),d.b.sc(c,e)<=f){h=!0;break}if(!h)return!1}return!0};b.zx=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return b.We(e,g,f)};b.AJ=function(a,c,d){c=c.w();return b.$t(a,c,d)};b.TM=function(a,c,d){return b.zx(a,c,d)};b.pZ=function(a,c,d){return!b.AJ(a,c,d)};b.ZL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);return g.fa()>f||g.N()>f?!1:b.We(e,g,f)};b.OL=function(a,c,
f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f))return!1;c=new d.h;c.I(g);c.O(f,f);f=new d.b;for(g=0;g<a.D();g++)if(a.w(g,f),c.contains(f))return!1;return!0};b.MM=function(a,b,f){var c=new d.h,e=new d.h,g=new d.h;b.s(c);if(c.fa()<=f&&c.N()<=f)return!1;if(c.fa()<=f||c.N()<=f){b=new d.b;var h=!1;e.I(c);g.I(c);e.O(f,f);c.fa()>f?g.O(0,-f):g.O(-f,0);for(var l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(c.fa()>f){if(b.y>g.A&&b.y<g.B)return!1}else if(b.x>g.o&&b.x<g.v)return!1;h=!0}return h}e.I(c);
g.I(c);e.O(f,f);g.O(-f,-f);b=new d.b;h=!1;for(l=0;l<a.D();l++)if(a.w(l,b),e.contains(b)){if(g.Tm(b))return!1;h=!0}return h};b.PM=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(g,e,f))return!1;if(g.fa()<=f&&g.N()<=f)return b.We(e,g,f);if(g.fa()<=f||g.N()<=f){c=!1;var e=new d.h,h=new d.h;e.I(g);h.I(g);g.fa()>f?e.O(0,-f):e.O(-f,0);h.O(f,f);for(var l=new d.b,n=0;n<a.D();n++){a.w(n,l);if(!h.contains(l))return!1;g.fa()>f?l.y>e.A&&l.y<e.B&&(c=!0):l.x>e.o&&l.x<e.v&&(c=!0)}return c}c=!1;e=
new d.h;h=new d.h;e.I(g);h.I(g);e.O(-f,-f);h.O(f,f);l=new d.b;for(n=0;n<a.D();n++){a.w(n,l);if(!h.contains(l))return!1;e.Tm(l)&&(c=!0)}return c};b.mZ=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(!b.Ec(e,g,f)||g.fa()>f||g.N()>f)return!1;c=c.Bq();return!b.$t(a,c,f)};b.IL=function(a,c,f){var e=new d.h,g=new d.h;a.s(e);c.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f){c=new d.h;e=new d.h;c.I(g);g.fa()>f?c.O(0,-f):c.O(-f,0);e.I(g);e.O(f,f);for(var h=new d.b,l=!1,n=
!1,p=0;p<a.D();p++)if(a.w(p,h),l||(g.fa()>f?h.y>c.A&&h.y<c.B&&(l=!0):h.x>c.o&&h.x<c.v&&(l=!0)),n||e.contains(h)||(n=!0),l&&n)return!0;return!1}c=new d.h;e=new d.h;c.I(g);c.O(-f,-f);e.I(g);e.O(f,f);h=new d.b;n=l=!1;for(p=0;p<a.D();p++)if(a.w(p,h),!l&&c.Tm(h)&&(l=!0),n||e.contains(h)||(n=!0),l&&n)return!0;return!1};b.yL=function(a,b,f){return d.b.sc(a,b)<=f*f?!0:!1};b.NN=function(a,b,f){return d.b.sc(a,b)>f*f?!0:!1};b.eL=function(a,c,d){return b.yL(a,c,d)};b.qL=function(a,c,f){var e=new d.h;e.I(a);
return b.We(e,c,f)};b.Dx=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);return!c.contains(a)};b.XC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!1;var c=new d.h,e=new d.h;c.I(b);c.O(f,f);if(!c.contains(a))return!1;if(b.fa()<=f||b.N()<=f){e.I(b);b.fa()>f?e.O(0,-f):e.O(-f,0);if(b.fa()>f){if(a.y>e.A&&a.y<e.B)return!1}else if(a.x>e.o&&a.x<e.v)return!1;return!0}e.I(b);e.O(-f,-f);return e.Tm(a)?!1:!0};b.YC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!0;if(b.fa()<=f||b.N()<=f){var c=new d.h;c.I(b);b.fa()>
f?c.O(0,-f):c.O(-f,0);var e=!1;b.fa()>f?a.y>c.A&&a.y<c.B&&(e=!0):a.x>c.o&&a.x<c.v&&(e=!0);return e}c=new d.h;c.I(b);c.O(-f,-f);return c.Tm(a)};b.EN=function(a,c,d){return b.qL(a,c,d)};b.We=function(a,c,d){return b.Ec(a,c,d)&&b.Ec(c,a,d)};b.Ek=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);return!a.Yb(c)};b.DP=function(a,c,f){if(a.fa()<=f&&a.N()<=f){var e=a.Wf();return b.XC(e,c,f)}if(c.fa()<=f&&c.N()<=f)return e=c.Wf(),b.XC(e,a,f);a.fa()>f&&a.N()>f&&(c.fa()<=f||c.N()<=f)?e=c:(e=a,a=c);if(e.fa()<=f||
e.N()<=f){if(a.fa()<=f||a.N()<=f){c=new d.Hb;var g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;e.Tn(n);c.Mc(n);e.Un(n);c.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);c.Ma(g,null,h,l,f);return 1!=c.Ma(g,null,null,null,f)?!1:0==h[0]||1==h[1]||0==l[0]||1==l[1]}c=new d.h;g=new d.h;c.I(a);c.O(-f,-f);g.I(c);g.Ma(e);return!g.u()&&(g.fa()>f||g.N()>f)?!1:!0}a.O(f,f);g=new d.h;g.I(e);g.Ma(a);return g.u()||!g.u()&&g.fa()>f&&g.N()>f?!1:!0};b.aP=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=
f)return!1;if(a.fa()<=f||a.N()<=f){if(c.fa()>f&&c.N()>f)return!1;var e=new d.Hb,g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;a.Tn(n);e.Mc(n);a.Un(n);e.Zc(n);c.Tn(n);g.Mc(n);c.Un(n);g.Zc(n);e.Ma(g,null,h,l,f);return 2!=e.Ma(g,null,null,null,f)?!1:(0<h[0]||1>h[1])&&(0<l[0]||1>l[1])}if(c.fa()<=f||c.N()<=f)return!1;e=new d.h;e.I(a);e.Ma(c);return e.u()||e.fa()<=f||e.N()<=f?!1:!0};b.SE=function(a,c,f){if(!b.Ec(a,c,f))return!1;if(a.fa()<=f&&a.N()<=f)return a=a.Wf(),b.YC(a,c,f);if(c.fa()<=f&&c.N()<=f)return c=c.Wf(),
b.YC(c,a,f);if(a.fa()<=f||a.N()<=f)return b.Ec(a,c,f);if(c.fa()<=f||c.N()<=f){var e=new d.h;e.I(a);e.O(-f,-f);if(e.Tm(c))return!0;a=new d.h;a.I(e);a.Ma(c);return a.u()||a.fa()<=f&&a.N()<=f?!1:!0}return b.Ec(a,c,f)};b.EL=function(a,c,f){if(b.Ec(a,c,f)||b.Ec(c,a,f)||a.fa()<=f&&a.N()<=f||c.fa()<=f&&c.N()<=f||c.fa()>f&&c.N()>f&&a.fa()>f&&a.N()>f)return!1;var e;a.fa()>f&&a.N()>f?e=c:(e=a,a=c);if(a.fa()>f&&a.N()>f){c=new d.h;var g=new d.h;g.I(a);g.O(-f,-f);c.I(g);c.Ma(e);return c.u()||c.fa()<=f&&c.N()<=
f?!1:!0}c=new d.Hb;var g=new d.Hb,h=[0,0],l=[0,0],n=new d.b;e.Tn(n);c.Mc(n);e.Un(n);c.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);c.Ma(g,null,h,l,f);return 1!=c.Ma(g,null,null,null,f)?!1:0<h[0]&&1>h[1]&&0<l[0]&&1>l[1]};b.cD=function(a,b,f){var c,e,g=new d.h,h=new d.h,l=new d.Lm(a,b,f,!0);if(!l.next())return!0;if(this.fI(a,b,f))return!1;var n;n=a;var p;p=null;1736==b.G()&&(p=b);var q=!1,w=!1;do{c=l.Ql();e=l.Ml();e=b.Ba(b.wa(e));g.I(l.fA());g.O(f,f);if(g.contains(e)&&(e=d.gd.ge(n,e,0),0!=e)||1736==b.G()&&
(c=a.Ba(a.wa(c)),h.I(l.Jz()),h.O(f,f),h.contains(c)&&(e=d.gd.ge(p,c,0),0!=e)))return!1;q||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?n=a:(n=new d.Ja,a.copyTo(n),n.Hj(1)),q=!0);1736!=b.G()||w||(w=b,!d.ff.qm(w,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?p=b:(p=new d.Ja,w.copyTo(p),p.Hj(1)),w=!0)}while(l.next());return!0};b.Ec=function(a,b,f){var c=new d.h;c.I(a);c.O(f,f);return c.contains(b)};b.Yp=function(a,b,f){var c=new d.h;c.I(b);c.O(f,f);b=new d.b;a.Tn(b);if(!c.contains(b))return!0;a.TJ(b);if(!c.contains(b))return!0;
a.WJ(b);if(!c.contains(b))return!0;a.Un(b);return c.contains(b)?!1:!0};b.qJ=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var c=new d.b,e=new d.b,g=!0;f*=f;for(var h=0;h<a.aa();h++){if(a.Gc(h)!=b.Gc(h)){g=!1;break}for(var l=a.wa(h);l<b.Gc(h);l++)if(a.w(l,c),b.w(l,e),d.b.sc(c,e)>f){g=!1;break}if(!g)break}return g?!0:!1};b.jM=function(a,b,f){if(a.D()!=b.D())return!1;var c=new d.b,e=new d.b,g=!0;f*=f;for(var h=0;h<a.D();h++)if(a.w(h,c),b.w(h,e),d.b.sc(c,e)>f){g=!1;break}return g?!0:!1};b.RC=
function(a,b,f,e,g,h){var c=!1,k;a.D()>b.D()?(e&&(e=!1,c=!0),k=b):(k=a,a=b);b=null;if(g||h||c){b=new d.Fm(a.D());for(var m=0;m<a.D();m++)b.write(m,0)}var m=new d.h,l=new d.h,n=new d.h;k.s(m);a.s(l);m.O(f,f);l.O(f,f);n.I(m);n.Ma(l);for(var l=new d.b,u=new d.b,p=!0,q=d.na.CF(a,n),w=q.mf(),t=f*f,r=0;r<k.D();r++)if(k.w(r,l),n.contains(l)){var v=!1;m.I(l.x,l.y,l.x,l.y);w.Ni(m,f);for(var x=w.next();-1!=x&&!(x=q.ja(x),a.w(x,u),d.b.sc(l,u)<=t&&((g||h||c)&&b.write(x,1),v=!0,e));x=w.next());if(!v&&(p=!1,g||
e))return!1}else{if(g||e)return!1;p=!1}if(h&&p)return!1;if(e)return!0;for(m=0;m<a.D();m++)if(1==b.read(m)){if(h)return!0}else if(g||c)return!1;return h?!1:!0};b.CJ=function(a,b,f){var c;a.D()>b.D()?c=b:(c=a,a=b);b=new d.h;var e=new d.h,g=new d.h;c.s(b);a.s(e);b.O(f,f);e.O(f,f);g.I(b);g.Ma(e);for(var e=new d.b,h=new d.b,l=f*f,n=d.na.CF(a,g),p=n.mf(),q=0;q<c.D();q++)if(c.w(q,e),g.contains(e)){b.I(e.x,e.y,e.x,e.y);p.Ni(b,f);for(var w=p.next();-1!=w;w=p.next())if(a.w(n.ja(w),h),d.b.sc(e,h)<=l)return!0}return!1};
b.PB=function(a,c,d,e){return b.Wg(a,c,d,e)&&b.Wg(c,a,d,e)};b.Wg=function(a,c,f,g){function k(a,b){return w.XF(a,b)}var h=!0,l=[0,0],n=[0,0],p=0,q=new d.ia(0),w=new b,t,r=new d.h,v=new d.h,x=new d.h;a.s(r);c.s(v);r.O(f,f);v.O(f,f);x.I(r);x.Ma(v);a=a.Fa();var v=c.Fa(),z=null,y=z=null,G=c.ob;null!=G?(z=G.Mb,y=G.np,null==z&&(z=d.na.Lj(c,x))):z=d.na.Lj(c,x);c=z.mf();G=null;for(null!=y&&(G=y.mf());a.Ya();)for(;a.Ea();){var B=!1,E=a.ba();E.s(r);if(!r.Yb(x))return!1;if(null!=G&&(G.Ni(r,f),-1==G.next()))return h=
!1;y=E.Rb();c.Wn(E,f);for(t=c.next();-1!=t;t=c.next()){v.Tb(z.ja(t));t=v.ba();var D=E.Ma(t,null,l,n,f);if(2==D&&(!g||n[0]<=n[1])){var D=l[0],H=l[1],I=n[0],J=n[1];if(D*y<=f&&(1-H)*y<=f){B=!0;p=0;q.resize(0);w.Ph.length=0;for(var F=a.Db(),I=!0;I;){if(a.Ea()){E=a.ba();y=E.Rb();D=E.Ma(t,null,l,n,f);if(2==D&&(!g||n[0]<=n[1])&&(D=l[0],H=l[1],D*y<=f&&(1-H)*y<=f)){F=a.Db();continue}if(v.Ea()&&(t=v.ba(),D=E.Ma(t,null,l,n,f),2==D&&(!g||n[0]<=n[1])&&(D=l[0],H=l[1],D*y<=f&&(1-H)*y<=f))){F=a.Db();continue}}I=
!1}F!=a.Db()&&(a.Tb(F),a.ba());break}else F=a.Db(),t=e.pa(F,a.Ta,D,H,v.Db(),v.Ta,I,J),w.Ph.push(t),q.add(q.size)}}if(!B){if(p==w.Ph.length)return!1;1<q.size-p&&q.Gd(p,q.size,k);for(B=0;p<w.Ph.length;p++)if(t=w.Ph[q.get(p)],!(t.ek<B&&t.rj<B)){if(y*(t.ek-B)>f)return!1;B=t.rj;if(y*(1-B)<=f||1==B)break}if(y*(1-B)>f)return!1;p=0;q.resize(0);w.Ph.length=0}}return h};b.$H=function(a,c,f){if(1>b.SB(a,c,f,null))return!1;var e=new d.h,g=new d.h;a.s(e);c.s(g);var h=b.Yp(e,g,f),e=b.Yp(g,e,f);return h&&e?!0:h&&
!e?!b.Wg(c,a,f,!1):e&&!h?!b.Wg(a,c,f,!1):!b.Wg(a,c,f,!1)&&!b.Wg(c,a,f,!1)};b.SB=function(a,c,f,g){function k(a,b){return v.XF(a,b)}var h,l;a.jA()>c.jA()?(h=c,l=a):(h=a,l=c);a=h.Fa();c=l.Fa();var n=[0,0],p=[0,0],q=-1,w=0,t,r=new d.ia(0),v=new b,x,z=new d.h,y=new d.h,G=new d.h;h.s(z);l.s(y);z.O(f,f);y.O(f,f);G.I(z);G.Ma(y);h=null;null!=g&&(h=new d.b);t=y=y=null;var B=l.ob;null!=B?(y=B.Mb,t=B.np,null==y&&(y=d.na.Lj(l,G))):y=d.na.Lj(l,G);l=y.mf();B=null;for(null!=t&&(B=t.mf());a.Ya();)for(t=0;a.Ea();){var E=
a.ba();E.s(z);if(z.Yb(G)&&(null==B||(B.Ni(z,f),-1!=B.next()))){var D=E.Rb();l.Wn(E,f);for(var H=l.next();-1!=H;H=l.next()){var I=y.ja(H);c.Tb(I);x=c.ba();var J=x.Rb(),F=E.Ma(x,null,n,p,f);if(0<F){var H=n[0],q=p[0],M=2==F?n[1]:NaN,Q=2==F?p[1]:NaN;if(2==F){if(D*(M-H)>f)return q=1;var R=D*(M-H);if(c.Ea()){x=c.ba();F=E.Ma(x,null,n,null,f);if(2==F){var F=n[0],K=n[1],F=D*(K-F);if(R+F>f)return q=1}c.Tb(I);c.ba()}if(!c.jn()){c.Li();x=c.Li();F=E.Ma(x,null,n,null,f);if(2==F&&(F=n[0],K=n[1],F=D*(K-F),R+F>f))return q=
1;c.Tb(I);c.ba()}if(a.Ea()){I=a.Db();E=a.ba();F=E.Ma(x,null,n,null,f);if(2==F&&(F=n[0],K=n[1],F=D*(K-F),R+F>f))return q=1;a.Tb(I);a.ba()}if(!a.jn()){I=a.Db();a.Li();E=a.Li();F=E.Ma(x,null,n,null,f);if(2==F&&(F=n[0],K=n[1],F=J*(K-F),R+F>f))return q=1;a.Tb(I);a.ba()}x=e.pa(a.Db(),a.Ta,H,M,c.Db(),c.Ta,q,Q);v.Ph.push(x);r.add(r.size)}q=0;null!=g&&(E.gc(H,h),g.add(h.x),g.add(h.y))}}if(w<v.Ph.length){r.Gd(w,r.size,k);E=0;for(H=v.Ph[r.get(w)].zn;w<v.Ph.length;w++)if(x=v.Ph[r.get(w)],!(x.ek<E&&x.rj<E))if(D*
(x.ek-E)>f)t=D*(x.rj-x.ek),E=x.rj,H=x.zn;else{x.zn!=H?(t=D*(x.rj-x.ek),H=x.zn):t+=D*(x.rj-x.ek);if(t>f)return q=1;E=x.rj;if(1==E)break}D*(1-E)>f&&(t=0);w=0;r.resize(0);v.Ph.length=0}}}return q};b.fI=function(a,b,f){var c=a.Fa(),e=b.Fa();for(a=new d.Lm(a,b,f,!1);a.next();){b=a.Ql();var g=a.Ml();c.Tb(b);e.Tb(g);b=c.ba();if(0<e.ba().Ma(b,null,null,null,f))return!0}return!1};b.ZH=function(a,b,f,e){var c=a.Fa(),g=new d.h,k=new d.h,h=new d.h;a.s(g);b.s(k);g.O(f,f);g.contains(k);k.O(f,f);h.I(g);h.Ma(k);
g=a.ob;null!=g?(g=g.Mb,null==g&&(g=d.na.Lj(a,h))):g=d.na.Lj(a,h);a=g.mf();for(var l=new d.b,n=new d.b,p=f*f,q=0;q<b.D();q++)if(b.w(q,l),h.contains(l)){k.I(l.x,l.y,l.x,l.y);a.Ni(k,f);for(var w=!1,t=a.next();-1!=t;t=a.next())if(c.Tb(g.ja(t)),t=c.ba(),t.gc(t.pe(l,!1),n),d.b.sc(n,l)<=p){w=!0;break}if(e){if(!w)return!1}else if(w)return!0}return e?!0:!1};b.IA=function(a,b,f){var c=new d.b,e=f*f,g=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var h=new d.h;h.I(b);f=a.Yz(h,f);for(h=f.next();-1!=h;h=f.next())if(g.Tb(a.ja(h)),
g.Ea()){var h=g.ba(),l=h.pe(b,!1);h.gc(l,c);if(d.b.sc(b,c)<=e)return!0}return!1}for(a=new d.h;g.Ya();)for(;g.Ea();)if(h=g.ba(),h.s(a),a.O(f,f),a.contains(b)&&(l=h.pe(b,!1),h.gc(l,c),d.b.sc(b,c)<=e))return!0;return!1};b.yH=function(a,c,d){return b.IA(a,c,d)&&!b.hC(a,c,d)};b.hC=function(a,c,d){a=a.Gg();return!b.$t(a,c,d)};b.XH=function(a,b,f){if(a.hn()){var c=new d.Hb(b.o,b.A,b.o,b.B),e=new d.Hb(b.o,b.B,b.v,b.B),g=new d.Hb(b.v,b.B,b.v,b.A);b=new d.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=
a.ba();if(h.Yb(c,f)||h.Yb(e,f)||h.Yb(g,f)||h.Yb(b,f))return!0}}else{c=new d.h;c.I(b);c.O(f,f);f=a.Pa(0);e=new d.b;g=new d.b;b=new d.b;for(var h=new d.b,l=0,n=a.aa();l<n;l++)for(var p=!0,q=a.wa(l),w=a.Gc(l);q<w;q++)if(p)f.fc(2*q,g),p=!1;else{f.fc(2*q,e);b.L(g);h.L(e);if(0!=c.gz(b,h))return!0;g.L(e)}}return!1};b.vc=function(a,c,f){var e=a.G(),g=c.G();if(d.T.gh(e)){var h=a.ob;if(null!=h&&(h=h.Hi,null!=h))if(33==g){var l=c.w(),l=h.rm(l.x,l.y);if(1==l)return 1;if(0==l)return 4}else{l=new d.h;c.s(l);l=
h.Rn(l);if(1==l)return 1;if(0==l)return 4;if(f&&d.T.gh(g)&&b.$C(c,h))return 1073741824}}if(d.T.gh(g)&&(h=c.ob,null!=h&&(h=h.Hi,null!=h)))if(33==e){a=a.w();l=h.rm(a.x,a.y);if(1==l)return 2;if(0==l)return 4}else{c=new d.h;a.s(c);l=h.Rn(c);if(1==l)return 2;if(0==l)return 4;if(f&&d.T.gh(e)&&b.$C(a,h))return 1073741824}return 0};b.$C=function(a,b){for(var c=a.D(),e=new d.b,g=0;g<c;g++)if(a.w(g,e),1==b.rm(e.x,e.y))return!0;return!1};b.iD=function(a,b,f,e){for(var c=1<=a.Lk(0)&&1<=b.Lk(0),g=a.Fa(),k=b.Fa(),
h=[0,0],l=[0,0],n=new d.Lm(a,b,f,!1),p=!1;n.next();){var q=n.Ql(),w=n.Ml();g.Tb(q);k.Tb(w);q=g.ba();w=k.ba().Ma(q,null,l,h,f);if(2==w){p=h[0];w=h[1];q=q.Rb();if(c&&(w-p)*q>f)return!1;p=!0}else if(0!=w){p=h[0];q=l[0];if(0<p&&1>p&&0<q&&1>q)return!1;p=!0}}if(!p)return!1;g=new d.h;k=new d.h;c=new d.h;a.s(g);b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);c.I(g);c.Ma(k);return 10<a.D()&&(a=d.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,f,0),b.u())?!1:d.Nm.gu(a,b,f,"F********",e)};b.dD=function(a,c,f,e){var g=
1<=a.Lk(0)&&1<=c.Lk(0),k=new d.h,h=new d.h,l=new d.h;a.s(k);c.s(h);for(var n=!1,p=b.Yp(k,h,f),q=b.Yp(h,k,f),w=a.Fa(),t=c.Fa(),r=[0,0],v=[0,0],x=new d.Lm(a,c,f,!1);x.next();){var z=x.Ql(),y=x.Ml();w.Tb(z);t.Tb(y);y=w.ba();z=t.ba().Ma(y,null,v,r,f);if(2==z){var z=r[0],G=r[1],y=y.Rb();if(g&&(G-z)*y>f&&(n=!0,p&&q))return!0}else if(0!=z&&(z=r[0],y=v[0],0<z&&1>z&&0<y&&1>y))return!0}g=new d.h;w=new d.h;g.I(k);g.O(1E3*f,1E3*f);w.I(h);w.O(1E3*f,1E3*f);l.I(g);l.Ma(w);k="";k=n?k+"**":k+"T*";if(p){if(10<c.D()&&
(c=d.ne.clip(c,l,f,0),c.u()))return!1;k+="****"}else k+="T***";if(q){if(10<a.D()&&(a=d.ne.clip(a,l,f,0),a.u()))return!1;k+="***"}else k+="T**";return d.Nm.gu(a,c,f,k.toString(),e)};b.CL=function(a,c,f,e){var g=[!1],k=b.zL(a,c,f,g);if(g[0])return k;g=new d.h;c.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())?!1:d.Nm.Ex(a,c,f,e)};b.zL=function(a,b,f,e){e[0]=!1;for(var c=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],l=new d.Lm(a,b,f,!1),n=!1;l.next();){var p=l.Ql(),q=l.Ml();c.Tb(p,-1);g.Tb(q,-1);
p=c.ba();p=g.ba().Ma(p,null,h,k,f);if(0!=p&&(n=!0,1==p&&(p=k[0],q=h[0],0<p&&1>p&&0<q&&1>q)))return e[0]=!0,!1}if(!n){e[0]=!0;k=new d.h;a.s(k);k.O(f,f);l=a;n=!1;h=new d.h;e=0;for(c=b.aa();e<c;e++)if(0<b.La(e)){b.jk(e,h);if(k.Yb(h)){if(g=b.Ba(b.wa(e)),g=d.ff.kn(l,g,0),0==g)return!1}else return!1;n||(!d.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?l=a:(g=new d.Ja,a.copyTo(g),g.Hj(1),l=g),n=!0)}if(1==a.aa()||1607==b.G())return!0;k=new d.h;b.s(k);k.O(f,f);h=b;l=!1;f=new d.h;e=0;for(c=a.aa();e<c;e++)if(0<
a.La(e)){a.jk(e,f);if(k.Yb(f)&&(g=a.Ba(a.wa(e)),g=d.ff.kn(h,g,0),1==g))return!1;l||(!d.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?h=b:(g=new d.Ja,b.copyTo(g),g.Hj(1),h=g),l=!0)}return!0}return!1};b.kD=function(a,b,f,e){for(var c=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],l=new d.Lm(a,b,f,!1),n=!1;l.next();){var p=l.Ql(),q=l.Ml();c.Tb(p);g.Tb(q);p=c.ba();p=g.ba().Ma(p,null,h,k,f);if(2==p)n=!0;else if(0!=p){n=k[0];p=h[0];if(0<n&&1>n&&0<p&&1>p)return!1;n=!0}}if(!n)return!1;g=new d.h;k=new d.h;c=new d.h;a.s(g);
b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);c.I(g);c.Ma(k);return 10<a.D()&&(a=d.ne.clip(a,c,f,0),a.u())||10<b.D()&&(b=d.ne.clip(b,c,f,0),b.u())?!1:d.Nm.On(a,b,f,"F********",e)};b.bD=function(a,c,f,e){for(var g=a.Fa(),k=c.Fa(),h=[0,0],l=[0,0],n=new d.Lm(a,c,f,!1),p=!1;n.next();){var q=n.Ql(),w=n.Ml();g.Tb(q);k.Tb(w);q=g.ba();q=k.ba().Ma(q,null,l,h,f);if(2==q)p=!0;else if(0!=q){p=h[0];q=l[0];if(0<p&&1>p&&0<q&&1>q)return!0;p=!0}}if(!p)return!1;k=new d.h;h=new d.h;l=new d.h;n=new d.h;g=new d.h;a.s(k);c.s(h);
return b.Yp(h,k,f)?(l.I(k),l.O(1E3*f,1E3*f),n.I(h),n.O(1E3*f,1E3*f),g.I(l),g.Ma(n),10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())||10<c.D()&&(c=d.ne.clip(c,g,f,0),c.u())?!1:f=d.Nm.On(a,c,f,"T********",e)):f=d.Nm.On(a,c,f,"T*****T**",e)};b.DL=function(a,c,f,e){var g=[!1],k=b.zL(a,c,f,g);if(g[0])return k;g=new d.h;c.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=d.ne.clip(a,g,f,0),a.u())?!1:d.Nm.MB(a,c,f,e)};b.BL=function(a,b,f){return 1==d.gd.ge(a,b,f)?!0:!1};b.fD=function(a,b,f){return 2==d.gd.ge(a,b,f)?!0:!1};
b.$t=function(a,b,f){var c=new d.b;f*=f;for(var e=0;e<a.D();e++)if(a.w(e,c),d.b.sc(c,b)<=f)return!1;return!0};b.prototype.XF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();d.Fd=g})(t||(t={}));(function(d){var e;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function b(){this.Ie=0;this.i=new d.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.ZB=function(a,b,f,e,g){if(9!=e.length)throw d.g.X("relation string length has to be 9 characters");for(var c=0;9>c;c++){var k=e.charAt(c);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw d.g.X("relation string");}c=this.GT(e,a.tb(),b.tb());if(0!=c)return d.Fd.$B(a,
b,f,c,g);c=new d.h;a.s(c);k=new d.h;b.s(k);var m=new d.h;m.I(c);m.Nb(k);f=d.na.be(f,m,!1);a=this.cG(a,f);b=this.cG(b,f);if(a.u()||b.u())return this.tX(a,b,e);c=b.G();k=!1;switch(a.G()){case 1736:switch(c){case 1736:k=this.gu(a,b,f,e,g);break;case 1607:k=this.On(a,b,f,e,g);break;case 33:k=this.fu(a,b,f,e,g);break;case 550:k=this.eu(a,b,f,e,g)}break;case 1607:switch(c){case 1736:k=this.On(b,a,f,this.Pq(e),g);break;case 1607:k=this.NB(a,b,f,e,g);break;case 33:k=this.iu(a,b,f,e,g);break;case 550:k=this.hu(a,
b,f,e,g)}break;case 33:switch(c){case 1736:k=this.fu(b,a,f,this.Pq(e),g);break;case 1607:k=this.iu(b,a,f,this.Pq(e),g);break;case 33:k=this.HW(a,b,f,e);break;case 550:k=this.au(b,a,f,this.Pq(e),g)}break;case 550:switch(c){case 1736:k=this.eu(b,a,f,this.Pq(e),g);break;case 1607:k=this.hu(b,a,f,this.Pq(e),g);break;case 550:k=this.EB(a,b,f,e,g);break;case 33:k=this.au(a,b,f,e,g)}break;default:k=!1}return k};b.gu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.oK();var m=new d.h,h=new d.h;a.s(m);c.s(h);
e=!1;d.Fd.Ek(m,h,f)&&(k.mv(a,c),e=!0);e||(m=d.Fd.vc(a,c,!1),4==m?(k.mv(a,c),e=!0):1==m?(k.Sy(c),e=!0):2==m&&(k.mF(a),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.tq(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.Ex=function(a,c,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.oK();var k=new d.h,h=new d.h;a.s(k);c.s(h);var l=!1;d.Fd.Ek(k,h,f)&&(g.mv(a,c),l=!0);l||(k=d.Fd.vc(a,c,!1),4==k?(g.mv(a,c),l=!0):1==k?(g.Sy(c),l=!0):2==k&&(g.mF(a),l=!0));if(l)return k=this.zg(g.H,g.dd);l=new d.fd;a=l.Jb(a);k=
l.Jb(c);d.sk.V(l,f,e,!1);f=l.Se(k).Gg();l.zq(0,!0,!0);d.lo.V(l,a,-1,!1,e);if(0==l.D(a))return!1;d.lo.V(l,k,-1,!1,e);g.Yr(l,e);c=0==l.D(k);if(!c&&(g.tq(a,k),g.i.qh(),k=this.zg(g.H,g.dd),!k))return k;a=l.Se(a);l=new d.fd;a=l.Jb(a);k=l.Jb(f);g.Yr(l,e);g.Ie=0;g.xj();g.Bj(c?"T*****F**":"******F**");g.iC();g.tq(a,k);g.i.qh();return k=this.zg(g.H,g.dd)};b.On=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.iC();var m=new d.h,h=new d.h;a.s(m);c.s(h);e=!1;d.Fd.Ek(m,h,f)&&(k.nv(a,c),e=!0);e||(m=d.Fd.vc(a,c,
!1),4==m?(k.nv(a,c),e=!0):1==m&&(k.nF(c),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.Fh=k.i.wq(),b.pv(c,k.i,k.Fh),k.tq(a,c),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.MB=function(a,c,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.iC();var k=new d.h,h=new d.h;a.s(k);c.s(h);var l=!1;d.Fd.Ek(k,h,f)&&(g.nv(a,c),l=!0);l||(k=d.Fd.vc(a,c,!1),4==k?(g.nv(a,c),l=!0):1==k&&(g.nF(c),l=!0));if(l)return f=this.zg(g.H,g.dd);l=new d.fd;a=l.Jb(a);c=l.Jb(c);g.Fp(l,f,e);if(0==l.D(a))return!1;g.tq(a,c);
g.i.qh();return f=this.zg(g.H,g.dd)};b.eu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.pK();var m=new d.h,h=new d.h;a.s(m);c.s(h);e=!1;d.Fd.Ek(m,h,f)&&(k.ov(a),e=!0);e||(m=d.Fd.vc(a,c,!1),4==m?(k.ov(a),e=!0):1==m&&(k.CP(),e=!0));e||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.lz(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.NB=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.$X();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.dI(a,c),h=!0);h||4!=d.Fd.vc(a,c,!1)||(k.dI(a,c),h=!0);
h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.xi=k.i.wq(),k.Fh=k.i.wq(),b.pv(a,k.i,k.xi),b.pv(c,k.i,k.Fh),k.tq(a,c),k.i.xq(k.xi),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.hu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.HA(a),h=!0);h||4!=d.Fd.vc(a,c,!1)||(k.HA(a),h=!0);h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.xi=k.i.wq(),b.pv(a,k.i,k.xi),k.lz(a,c),k.i.xq(k.xi),k.i.qh());return b.zg(k.H,k.dd)};b.EB=function(a,
c,f,e,g){var k=new b;k.xj();k.Bj(e);k.IK();e=new d.h;var m=new d.h;a.s(e);c.s(m);var h=!1;d.Fd.Ek(e,m,f)&&(k.GJ(),h=!0);h||(e=new d.fd,a=e.Jb(a),c=e.Jb(c),k.Fp(e,f,g),k.lz(a,c),k.i.qh());return b.zg(k.H,k.dd)};b.fu=function(a,c,f,e){var g=new b;g.xj();g.Bj(e);g.pK();var k=new d.h;a.s(k);c=c.w();var h=!1;d.Fd.Dx(c,k,f)&&(g.ov(a),h=!0);h||(f=d.gd.ge(a,c,f),1==f?(g.H[0]=0,g.H[2]=2,g.H[3]=-1,g.H[5]=1,g.H[6]=-1):2==f?(g.H[6]=-1,0!=a.hf()?(g.H[0]=-1,g.H[3]=0,g.H[2]=2,g.H[5]=1):(g.H[0]=0,g.H[3]=-1,g.H[5]=
-1,f=new d.h,a.s(f),g.H[2]=0==f.fa()&&0==f.N()?-1:1)):g.ov(a));return this.zg(g.H,e)};b.iu=function(a,c,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();var m=new d.h;a.s(m);e=c.w();var h=!1;d.Fd.Dx(e,m,f)&&(k.HA(a),h=!0);if(!h){var m=null,l=h=!1;if(k.ga[0]||k.ga[6])d.Fd.IA(a,e,f)?(k.ga[0]&&(m=d.Pi.Rm(a,g),l=!d.Fd.$t(m,e,f),h=!0,k.H[0]=l?-1:0),k.H[6]=-1):(k.H[0]=-1,k.H[6]=0);k.ga[3]&&(null!=m&&m.u()?k.H[3]=-1:(h||(null==m&&(m=d.Pi.Rm(a,g)),l=!d.Fd.$t(m,e,f),h=!0),k.H[3]=l?0:-1));k.ga[5]&&(null!=m&&m.u()?
k.H[5]=-1:h&&!l?k.H[5]=0:(null==m&&(m=d.Pi.Rm(a,g)),g=d.Fd.zx(m,c,f),k.H[5]=g?-1:0));k.ga[2]&&(0!=a.Rb()?k.H[2]=1:(g=new d.Ed(a.description),g.Id(a,0,a.D()),a=d.Fd.zx(g,c,f),k.H[2]=a?-1:0))}return this.zg(k.H,k.dd)};b.au=function(a,c,f,e){var g=new b;g.xj();g.Bj(e);g.IK();var k=new d.h;a.s(k);c=c.w();var h=!1;d.Fd.Dx(c,k,f)&&(g.GJ(),h=!0);if(!h){k=!1;h=!0;f*=f;for(var l=0;l<a.D();l++){var n=a.Ba(l);d.b.sc(n,c)<=f?k=!0:h=!1;if(k&&!h)break}k?(g.H[0]=0,g.H[2]=h?-1:0,g.H[6]=-1):(g.H[0]=-1,g.H[2]=0,g.H[6]=
0)}return b.zg(g.H,e)};b.HW=function(a,c,f,e){a=a.w();c=c.w();for(var g=[],k=0;9>k;k++)g[k]=-1;d.b.sc(a,c)<=f*f?g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return b.zg(g,e)};b.zg=function(a,b){for(var c=0;9>c;c++)switch(b.charAt(c)){case "T":if(-1==a[c])return!1;break;case "F":if(-1!=a[c])return!1;break;case "0":if(0!=a[c])return!1;break;case "1":if(1!=a[c])return!1;break;case "2":if(2!=a[c])return!1}return!0};b.tX=function(a,b,f){var c=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var e=0;9>e;e++)c[e]=-1;
return this.zg(c,f)}e=!1;a.u()&&(a=b,e=!0);c[0]=-1;c[1]=-1;c[3]=-1;c[4]=-1;c[6]=-1;c[7]=-1;c[8]=2;b=a.G();d.T.Ic(b)?1736==b?0!=a.hf()?(c[2]=2,c[5]=1):(c[5]=-1,b=new d.h,a.s(b),c[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),c[2]=b?1:0,c[5]=d.Pi.Rq(a)?0:-1):(c[2]=0,c[5]=-1);e&&this.kL(c);return this.zg(c,f)};b.GT=function(a,c,d){return b.lQ(a)?3:b.tO(a)?4:b.hU(a,c,d)?8:b.kO(a,c,d)?16:b.PN(a)?1:b.$M(a,c,d)?32:0};b.lQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.tO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.hU=function(a,b,d){if(0==b&&0==d)return!1;if(2!=b||2!=d)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==d&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=d&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.kO=function(a,b,d){return b>d?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==d&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.PN=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.$M=function(a,b,d){if(b==d){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,d){a=b.Ia(a);for(var c=b.rf;-1!=c;c=b.og(c))if(0!=(b.Md(c)&a)){var f=b.kf(c);if(-1==f)b.co(c,d,0);else{var e=f,g=0;do 0!=(b.Ah(e)&a)&&g++,e=b.qc(b.Aa(e));while(e!=f);b.co(c,
d,g)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=d;a[7]=e};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>
a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.iC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.$X=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);
this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=
!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.AP=function(a,b,d){var c=!0;this.ga[0]&&(this.yU(a,b,d),c=c&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),c=c&&this.uc(1));this.ga[2]&&(this.GH(a,b,d,2),c=c&&this.uc(2));this.ga[3]&&(this.FH(a,d,3),c=c&&this.uc(3));this.ga[4]&&(this.GP(a,b,d),c=c&&this.uc(4));this.ga[5]&&(this.sF(a,d,5),c=c&&this.uc(5));this.ga[6]&&(this.GH(a,d,b,6),c=c&&this.uc(6));this.ga[7]&&(this.sF(a,b,7),
c=c&&this.uc(7));return c};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,f,e,g){if(-1!=b||-1!=e)("T"!=f&&"F"!=f&&-1!=b||"T"!=g&&"F"!=g&&-1!=e?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=b&&(f=new d.h,a.s(f),this.H[b]=0==f.fa()&&0==f.N()?0:
1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.mF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0;this.H[6]=c?1:0}this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?
5:-1,this.dd.charAt(5))};b.prototype.nF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=d.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.CP=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var c=this.dd.charAt(2),c="T"!=c&&"F"!=c?0!=a.Rb():!0;this.H[2]=c?1:0}this.ga[5]&&(c=d.Pi.Rq(a),this.H[5]=c?0:-1);this.ga[6]&&(c=this.dd.charAt(6),c="T"!=c&&"F"!=c?0!=b.Rb():!0,this.H[6]=c?1:0);this.ga[7]&&(c=d.Pi.Rq(b),this.H[7]=c?0:-1)};b.prototype.HA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.ga[5]&&(a=d.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.BP=function(a,b,d){var c=!0;this.ga[0]&&(this.zU(a,b),c=c&&this.uc(0));this.ga[1]&&(this.vU(a,b,d,this.Fh),c=c&&this.uc(1));this.ga[2]&&(this.wU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.KP(a,b,d,this.Fh),c=c&&this.uc(3));this.ga[4]&&(this.HP(a,b,d,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.IP(a,b,d),c=c&&this.uc(5));this.ga[6]&&(this.eS(a,b),c=c&&this.uc(6));this.ga[7]&&(this.dS(a,b,d,this.Fh),c=c&&this.uc(7));
return c};b.prototype.oV=function(a,b,d){var c=!0;this.ga[0]&&(this.CU(a,b,d,this.xi,this.Fh),c=c&&this.uc(0));this.ga[1]&&(this.HH(a,b,d,this.xi,this.Fh,1),c=c&&this.uc(1));this.ga[2]&&(this.IH(a,b,d,2),c=c&&this.uc(2));this.ga[3]&&(this.HH(a,d,b,this.Fh,this.xi,3),c=c&&this.uc(3));this.ga[4]&&(this.MP(a,b,d,this.xi,this.Fh),c=c&&this.uc(4));this.ga[5]&&(this.tF(a,d,this.xi,5),c=c&&this.uc(5));this.ga[6]&&(this.IH(a,d,b,6),c=c&&this.uc(6));this.ga[7]&&(this.tF(a,b,this.Fh,7),c=c&&this.uc(7));return c};
b.prototype.oF=function(a,b,d){var c=!0;this.ga[0]&&(this.AU(a,b),c=c&&this.uc(0));this.ga[2]&&(this.xU(a,b),c=c&&this.uc(2));this.ga[3]&&(this.LP(a,b,d),c=c&&this.uc(3));this.ga[5]&&(this.JP(a,b),c=c&&this.uc(5));this.ga[6]&&(this.fS(a,b),c=c&&this.uc(6));return c};b.prototype.eI=function(a,b,d){var c=!0;this.ga[0]&&(this.DU(a,b,d,this.xi),c=c&&this.uc(0));this.ga[2]&&(this.BU(a,d),c=c&&this.uc(2));this.ga[3]&&(this.OP(a,b,d,this.xi),c=c&&this.uc(3));this.ga[5]&&(this.NP(a,b,d,this.xi),c=c&&this.uc(5));
this.ga[6]&&(this.gS(a,b,d),c=c&&this.uc(6));return c};b.prototype.GW=function(a,b,d){var c=!0;this.ga[0]&&(this.EU(a,b,d),c=c&&this.uc(0));this.ga[2]&&(this.JH(a,b,d,2),c=c&&this.uc(2));this.ga[6]&&(this.JH(a,d,b,6),c=c&&this.uc(6));return c};b.prototype.yU=function(a,b,d){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&d)&&(this.H[0]=2))};b.prototype.FH=function(a,b,d){if(1!=this.H[d]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(c&b)&&(this.H[d]=1)}};b.prototype.GH=function(a,b,d,e){2!=
this.H[e]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=2))};b.prototype.GP=function(a,b,d){if(1!=this.H[4]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&d)&&(this.H[4]=0))}};b.prototype.sF=function(a,b,d){if(1!=this.H[d]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[d]=1)}};b.prototype.zU=function(a,b){if(1!=this.H[0]){var c=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(c&b)&&(this.H[0]=1)}};b.prototype.vU=function(a,b,d,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(c,e),0!=(f&d)&&0!=a%2&&(this.H[1]=0))}};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,d,e){if(1!=this.H[3]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(c=this.i.Xf(a),
a=this.i.Md(c),0!=(a&b)&&(b=this.i.Hg(c,e),0!=(a&d)&&0==b%2&&(this.H[3]=0)))}};b.prototype.HP=function(a,b,d,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a);a=this.i.Md(c);0!=(a&b)&&(b=this.i.Hg(c,e),0!=(a&d)&&0!=b%2&&(this.H[4]=0))}};b.prototype.IP=function(a,b,d){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&d)&&(this.H[5]=1))};b.prototype.eS=function(a,b){if(1!=this.H[6]){var c=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(c&b)&&(this.H[6]=1)}};b.prototype.dS=
function(a,b,d,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var c=this.i.Xf(a),f=this.i.Md(c);0==(f&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(c,e),0!=(f&d)&&0!=a%2&&(this.H[7]=0))}};b.prototype.CU=function(a,b,d,e,g){if(1!=this.H[0]){var c=this.i.Ah(a);0!=(c&b)&&0!=(c&d)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),c=this.i.Md(a),0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0==g%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,
b,d,e,g,h){if(0!=this.H[h]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0!=g%2&&(this.H[h]=0))}};b.prototype.IH=function(a,b,d,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=1))};b.prototype.MP=function(a,b,d,e,g){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0!=b%2&&0!=g%2&&(this.H[4]=
0))}};b.prototype.tF=function(a,b,d,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,d)%2&&(this.H[e]=0))};b.prototype.AU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Ik(this.i.Lz(a))&b)&&(this.H[0]=0)};b.prototype.xU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.LP=function(a,b,d){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&d)&&(this.H[3]=0))};b.prototype.JP=function(a,b){1!=this.H[5]&&
0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.fS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Ik(this.i.Lz(a))&b)&&(this.H[6]=0)};b.prototype.DU=function(a,b,d,e){if(0!=this.H[0]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&0==this.i.Hg(a,e)%2&&(this.H[0]=0)}};b.prototype.BU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.OP=function(a,b,d,e){if(0!=this.H[3]){var c=this.i.Md(a);0!=(c&b)&&0!=(c&d)&&0!=this.i.Hg(a,
e)%2&&(this.H[3]=0)}};b.prototype.NP=function(a,b,d,e){if(0!=this.H[5]){var c=this.i.Md(a);0!=(c&b)&&0==(c&d)&&0!=this.i.Hg(a,e)%2&&(this.H[5]=0)}};b.prototype.gS=function(a,b,d){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&d)&&(this.H[6]=0))};b.prototype.EU=function(a,b,d){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&d)&&(this.H[0]=0))};b.prototype.JH=function(a,b,d,e){0!=this.H[e]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&d)&&(this.H[e]=0))};b.prototype.tq=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.vj=this.i.xh();for(var e=this.i.rf;-1!=e;e=this.i.og(e)){var g=this.i.kf(e);if(-1==g){if(-1!=this.Fn)switch(this.Fn){case 3:c=this.oF(e,a,b);break;case 4:c=this.eI(e,a,b);break;default:throw d.g.X("internal error");}}else{var h=g;do{var l=h;if(1!=this.i.Kb(l,this.vj)){do{switch(this.jx){case 0:c=this.AP(l,a,b);break;case 1:c=this.BP(l,a,b);break;case 2:c=this.oV(l,a,b);break;default:throw d.g.X("internal error");}if(c)break;this.i.Ob(l,this.vj,1);l=this.i.qc(l)}while(l!=h&&!c)}if(c)break;h=this.i.qc(this.i.Aa(l))}while(h!=
g);if(c)break}}c||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var c=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var e=this.i.rf;-1!=e;e=this.i.og(e)){switch(this.Fn){case 3:c=this.oF(e,a,b);break;case 4:c=this.eI(e,a,b);break;case 5:c=this.GW(e,a,b);break;default:throw d.g.za();}if(c)break}c||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,d){this.WR(a,b,d);this.Yr(a,d)};b.prototype.WR=function(a,b,f){d.sk.V(a,b,f,!1);a.zq(0,!0,!0);for(b=a.sd;-1!=b;b=a.Ue(b))1736==
a.hc(b)&&d.lo.V(a,b,-1,!1,f)};b.cG=function(a,b){var c=a.G();if(d.T.Oc(c))return c=new d.Ua(a.description),c.dc(a,!0),c;if(197==c){c=new d.h;a.s(c);if(c.fa()<=b&&c.N()<=b)return c=new d.Wa(a.description),a.Wf(c),c;if(c.fa()<=b||c.N()<=b)return c=new d.Ua(a.description),b=new d.Wa,a.ig(0,b),c.Rf(b),a.ig(2,b),c.lineTo(b),c;c=new d.Ja(a.description);c.jd(a,!1);return c}return a};return b}();d.Nm=e})(t||(t={}));(function(d){var e=function(){function a(a){this.sn=new d.ia(0);this.Rw=new d.ia(0);this.mu=
new d.b;this.nu=new d.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.kA(a))};a.prototype.ow=function(a){var b=this.Sz(a);a=this.SG(a);if(this.a.Ra(b)==a){var c=b,b=a;a=c}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.kA=function(a){var b=this.Sz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Sz=function(a){return this.sn.get(a)};a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=
a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new d.ia(0),this.Rw=new d.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.dA=function(a){return this.a.ld(this.Sz(a))};return a}();d.LZ=e;var g=function(){function a(a){this.bf=a;this.Fe=new d.Hb;this.An=new d.Hb;this.SI=0;this.op=null;this.fB=-1}a.prototype.compare=function(a,b,d){d=a.ja(d);var c=this.bf.ib,
f;this.fB==b?f=this.SI:(this.op=c.ic(b),null==this.op?(a=c.a,a.pd(c.kA(b),this.Fe),this.op=this.Fe,f=this.Fe.pf(this.bf.Wh,0)):f=this.op.pf(this.bf.Wh,0),this.SI=f,this.fB=b);a=c.ic(d);var e;null==a?(a=c.a,a.pd(c.kA(d),this.An),a=this.An,e=this.An.pf(this.bf.Wh,0)):e=a.pf(this.bf.Wh,0);f==e&&(b=c.ow(b),d=c.ow(d),d=Math.min(b?this.op.oa:this.op.ra,d?a.oa:a.ra),b=.5*(d+this.bf.Wh),b==this.bf.Wh&&(b=d),f=this.op.pf(b,0),e=a.pf(b,0));return f<e?-1:f>e?1:0};a.prototype.reset=function(){this.fB=-1};return a}(),
b=function(){function a(){this.Kn=this.jm=null;this.hb=new d.uk;this.hb.PR();this.we=new g(this);this.hb.Ep(this.we)}a.prototype.zS=function(){var a=!1;this.Vw&&(a=this.AS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.hA(b);this.a.pC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new d.ia(0);this.Wh=NaN;var e=new d.b;this.Xt=
this.a.aa(this.Y);this.fp=this.a.Vd();this.Mt=this.a.Vd();for(var g=this.jm.xc(this.jm.Ge);-1!=g;g=this.jm.nb(g)){var h=this.jm.getData(g);this.a.Nc(h,e);e.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.we.reset(),b.clear(!1));b.add(h);this.Wh=e.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,this.hm)){this.a.pC(b,!0);e=b;for(b=this.a.Tj(b,this.kp);-1!=b;)g=this.a.Tj(b,this.kp),this.a.YV(this.Y,this.a.Sb(e),
b),e=b,b=g;b=this.a.Sb(e)}else this.a.pC(b,!1),b=this.a.Sb(b);this.a.cC(this.hm);this.a.cC(this.kp);return a};a.prototype.ju=function(a){return this.TW(a)};a.prototype.TW=function(a){var b=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Kn?(this.Kn=new d.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.SW(a);for(var c=0,g=a.size;c<g;c++){var h=a.get(c);-1!=h&&this.CH(h,-1)}for(c=0;c<this.Kn.size&&0<this.Xt;c++)if(a=this.Kn.get(c),h=this.ib.dA(this.hb.ja(a)),g=-1,0==this.a.Tj(h,this.hm)){for(var h=
this.hb.Ve(a),l=a,n;-1!=h;){var p=this.hb.ja(h),q=this.ib.dA(p),w=this.a.Tj(q,this.hm);if(0!=w){g=q;break}l=h;h=this.hb.Ve(h)}-1==h?(n=!0,h=l):(p=this.hb.ja(h),n=this.ib.ow(p),h=this.hb.nb(h),n=!n);do{p=this.hb.ja(h);q=this.ib.dA(p);w=this.a.Tj(q,this.hm);if(0==w&&(n!=this.ib.ow(p)&&(b=this.a.cb(q),this.a.fK(b),this.a.sh(q,this.a.Ra(b)),b=!0),this.a.$r(q,this.hm,n?3:2),n||(l=this.a.Tj(g,this.kp),this.a.$r(g,this.kp,q),this.a.$r(q,this.kp,l)),this.Xt--,0==this.Xt))return b;g=q;l=h;h=this.hb.nb(h);
n=!n}while(l!=a)}return b};a.prototype.SW=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.a.Sa(d,this.fp),g=this.a.Sa(d,this.Mt);if(-1!=e){var h=this.hb.ja(e);this.ib.CG(h);this.a.Va(d,this.fp,-1)}-1!=g&&(h=this.hb.ja(g),this.ib.CG(h),this.a.Va(d,this.Mt,-1));h=-1;-1!=e&&-1!=g?(this.hb.Kd(e,-1),this.hb.Kd(g,-1),a.set(b,-1)):h=-1!=e?e:g;-1!=h&&(this.CH(d,h)||this.hb.Kd(h,-1),a.set(b,-1))}};a.prototype.CH=function(a,b){var c=new d.b,f=new d.b;this.a.Nc(a,c);var e=this.a.U(a);this.a.Nc(e,
f);var g=!1;if(c.y<f.y){var g=!0,h=this.ib.wJ(a),l;-1==b?l=this.hb.addElement(h,-1):(l=b,this.hb.kk(l,h));h=this.a.Sa(e,this.fp);-1==h?this.a.Va(e,this.fp,l):this.a.Va(e,this.Mt,l);e=this.a.ld(a);0==this.a.Tj(e,this.hm)&&this.Kn.add(l)}e=this.a.Ra(a);this.a.Nc(e,f);c.y<f.y&&(g=!0,h=this.ib.wJ(e),-1==b?l=this.hb.addElement(h,-1):(l=b,this.hb.kk(l,h)),h=this.a.Sa(e,this.fp),-1==h?this.a.Va(e,this.fp,l):this.a.Va(e,this.Mt,l),e=this.a.ld(a),0==this.a.Tj(e,this.hm)&&this.Kn.add(l));return g};a.V=function(b,
d,e,g){var c=new a;c.a=b;c.Y=d;c.jm=e;c.Vw=g;return c.zS()};a.prototype.AS=function(){var a=new d.ia(0),b=new d.ia(0),e=-1,g=-1,h=new d.b;h.$c();for(var l=-1,n=-1,p=-1,q=new d.b,w=this.jm.xc(this.jm.Ge);-1!=w;w=this.jm.nb(w)){var t=this.jm.getData(w);this.a.Nc(t,q);var r=this.a.ld(t);h.ub(q)&&n==r?(-1==g&&(e=this.a.rz(),g=this.a.Vd()),-1==p&&(p=b.size,this.a.Va(l,g,p),b.add(1),-1==this.a.Tj(r,e)&&(this.a.$r(r,e,l),a.add(r))),this.a.Va(t,g,p),b.CK(b.Fc()+1)):(p=-1,h.L(q));l=t;n=r}if(0==a.size)return!1;
h=new d.ia(0);l=new d.ia(0);n=0;for(p=a.size;n<p;n++){var r=a.get(n),v=this.a.Tj(r,e),t=this.a.Sa(v,g);h.clear(!1);l.clear(!1);h.add(v);l.add(t);for(t=this.a.U(v);t!=v;t=this.a.U(t)){var x=t,q=this.a.Sa(x,g);if(-1!=q)if(0==l.size)l.add(q),h.add(x);else if(l.Fc()==q){var w=h.Fc(),z=this.a.U(w),v=this.a.U(x);this.a.Kc(w,v);this.a.Lc(v,w);this.a.Kc(x,z);this.a.Lc(z,x);x=[!1];z=this.a.BH(this.Y,z,this.a.cb(r),x);this.a.Va(t,g,-1);x[0]&&this.a.jg(r,v);t=this.a.La(r);v=this.a.La(z);t-=v;this.a.nk(r,t);
b.set(q,b.get(q)-1);1==b.get(q)&&(b.set(q,0),l.Pf(),h.Pf());t=v=w}else h.add(t),l.add(q)}}this.a.cC(e);this.a.le(g);return!0};return a}();d.TN=b})(t||(t={}));(function(d){var e=function(){function e(){}e.prototype.Cg=function(){this.vB=this.wb=null};e.prototype.get=function(){return this.vB};e.prototype.set=function(b){this.vB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),d.g.za();};e.prototype.create=function(b){if(322==b)this.Js();else throw d.g.X("Not Implemented");};e.prototype.Js=function(){null==
this.wb&&(this.wb=new d.Hb);this.vB=this.wb};return e}();d.Cg=e})(t||(t={}));(function(d){d=d.YN||(d.YN={});d[d.enumLineSeg=1]="enumLineSeg";d[d.enumBezierSeg=2]="enumBezierSeg";d[d.enumArcSeg=4]="enumArcSeg";d[d.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";d[d.enumSegmentMask=7]="enumSegmentMask";d[d.enumDensified=8]="enumDensified"})(t||(t={}));(function(d){var e=function(){return function(b){this.zj=b;this.TC=this.UC=1;this.UB=this.TB=this.VB=0}}(),g=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.dl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new d.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.sB=[]}b.prototype.XB=function(a){if(null!=a){for(var b=0,d=a.length;b<d;b++)this.rX(a[b]);a.length=0}};b.prototype.rX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.zj=a,--this.yr.length;return b};b.prototype.MT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};
b.prototype.HB=function(){this.sx>=this.sB.length&&this.sB.push(new d.Cg);var a=this.sB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.XB(this.$o);this.XB(this.Ut);this.XB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.MT(a,b).zj};b.prototype.Ma=function(a,b){if(2!=this.$o.length)throw d.g.za();this.ta=a;var c=d.Ub.Yx(.01*a),e=!1,g=this.$o[0],h=this.$o[1];
if(b||0!=(g.zj.ys(h.zj,a,!0)&5)){if(322==g.zj.G()&&(b=g.zj,322==h.zj.G())){var l=h.zj,n=d.Hb.Gy(b,l,null,this.vr,this.dl,a);if(0==n)throw d.Hb.Gy(b,l,null,this.vr,this.dl,a),d.g.za();a=Array(9);d.J.Nv(a,null);for(var p=0;p<n;p++){var q=this.vr[p],w=this.dl[p],t=g.UB,r=1;0==q?(t=g.VB,r=g.UC):1==q&&(t=g.TB,r=g.TC);var v=h.UB,x=1;0==w?(v=h.VB,x=h.UC):1==w&&(v=h.TB,x=h.TC);var z=new d.b;t==v?(t=new d.b,b.gc(q,t),q=new d.b,l.gc(w,q),w=r+x,x/=w,d.Ub.cI(t,q,x,z),d.b.sc(z,t)+d.b.sc(z,q)>c&&(e=!0)):t>v?(b.gc(q,
z),q=new d.b,l.gc(w,q),d.b.sc(z,q)>c&&(e=!0)):(l.gc(w,z),t=new d.b,b.gc(q,t),d.b.sc(z,t)>c&&(e=!0));a[p]=z}g=0;h=-1;for(p=0;p<=n;p++)x=p<n?this.vr[p]:1,x!=g&&(c=this.HB(),b.yh(g,x,c),-1!=h&&c.get().Mc(a[h]),p!=n&&c.get().Zc(a[p]),g=x,this.Ut.push(this.Ax(c.get()))),h=p;b=[0,0,0,0,0,0,0,0,0];for(p=0;p<n;p++)b[p]=p;1<n&&this.dl[0]>this.dl[1]&&(x=this.dl[0],this.dl[0]=this.dl[1],this.dl[1]=x,p=b[0],b[0]=b[1],b[1]=p);g=0;h=-1;for(p=0;p<=n;p++)x=p<n?this.dl[p]:1,x!=g&&(c=this.HB(),l.yh(g,x,c),-1!=h&&(g=
b[h],c.get().Mc(a[g])),p!=n&&(g=b[p],c.get().Zc(a[g])),g=x,this.mx.push(this.Ax(c.get()))),h=p;return e}throw d.g.za();}return!1};b.prototype.tA=function(a,b,f){b.copyTo(this.cg);if(1!=this.$o.length)throw d.g.za();this.ta=a;var c=this.$o[0];if(f||c.zj.av(b.w(),a,!0))if(322==c.zj.G()){a=c.zj;var e=a.pe(b.w(),!1);this.vr[0]=e;var g=c.UB;f=1;0==e?(g=c.VB,f=c.UC):1==e&&(g=c.TB,f=c.TC);c=new d.b;0==g?(g=new d.b,a.gc(e,g),b=b.w(),d.Ub.cI(g,b,1/(f+1),c)):0<g?(c=new d.b,a.gc(e,c)):c=b.w();f=0;e=-1;for(g=
0;1>=g;g++){b=1>g?this.vr[g]:1;if(b!=f){var h=this.HB();a.yh(f,b,h);-1!=e&&h.get().Mc(c);1!=g&&h.get().Zc(c);f=b;this.Ut.push(this.Ax(h.get()))}e=g}this.cg.rb(c)}else throw d.g.za();};return b}();d.eE=g})(t||(t={}));(function(d){var e=function(){function e(b){this.zt=this.Tk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Tk=null;this.gm=-1;this.Sl=!1;this.zt=new d.b}
e.$p=function(b,a){if(0>a||a>=b.D())throw d.g.wd();var c=new e(b),f=b.cw(a);c.cd=a-b.wa(f);c.Oh=f+1;c.Ta=f;c.vf=c.ws(c.Ta);c.gm=c.bb.wa(c.Ta);c.Sl=c.bb.Qb(c.Ta);return c};e.Zp=function(b,a,c){if(0>a||a>=b.aa()||0>c)throw d.g.wd();var f=b.Qb(a)?0:1;if(c>=b.La(a)-f)throw d.g.wd();b=new e(b);b.Ze=-1;b.cd=c;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};e.prototype.zX=function(b){if(this.bb!=b.bb)throw d.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=
b.vf;this.mn=b.mn;this.gm=b.gm;this.Tk=null;this.Sl=b.Sl};e.prototype.ba=function(){this.Ze!=this.cd&&this.RE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw d.g.wd();this.cd++}return this.Tk};e.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw d.g.wd();this.cd--}this.cd!=this.Ze&&this.RE();return this.Tk};e.prototype.AX=function(){this.Ze=-1;this.cd=0};e.prototype.BX=function(){this.cd=this.vf;this.Ze=-1};e.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var c=this.PO();if(b>=c&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-c;return}}c=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=c+1;this.Ta=c;this.Ze=-1;this.cd=b-this.bb.wa(c);this.vf=this.ws(c);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=
this.bb.Qb(this.Ta);this.Oh++;return!0};e.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};e.prototype.fC=function(b){if(0>b)throw d.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};e.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};e.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};e.prototype.kC=function(){this.mn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.Ze};e.prototype.PO=function(){return this.bb.wa(this.Ta)};e.prototype.Jk=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.jn=function(){return 0==this.Ze};e.prototype.Io=function(){return this.Ze==this.vf-1};e.prototype.Ea=function(){return this.cd<this.vf};e.prototype.pA=function(){return 0<this.cd};e.prototype.Vf=function(){var b=new e(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};e.prototype.RE=function(){if(0>
this.cd||this.cd>=this.vf)throw d.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,c=1;null!=a&&(c=a.read(b)&7);a=this.bb.description;switch(c){case 1:null==this.wb&&(this.wb=new d.Hb);this.Tk=this.wb;break;case 2:throw d.g.X("internal error");case 4:throw d.g.za();default:throw d.g.za();}this.Tk.Fg(a);c=this.Jk();this.bb.Nc(b,this.zt);this.Tk.Mc(this.zt);this.bb.Nc(c,this.zt);this.Tk.Zc(this.zt);for(var f=1,e=a.Ga;f<e;f++)for(var g=a.rd(f),h=d.ma.Xa(g),l=0;l<h;l++){var n=this.bb.Yc(g,
b,l);this.Tk.Tx(g,l,n);n=this.bb.Yc(g,c,l);this.Tk.Lx(g,l,n)}};e.prototype.UU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Go=function(){var b=this.bb.PT();return null!=b?1!=(b.read(this.Ze)&7):!1};return e}();d.ZN=e})(t||(t={}));(function(d){var e=function(){function e(b){b instanceof d.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.wV=b.slice(0),this.Ca=-1,this.dj=b.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?
this.JI:this.wV[this.Ca]):null};e.prototype.Re=function(){return!0};return e}();d.hd=e})(t||(t={}));(function(d){var e=function(){return function(){this.next=null}}(),g=function(){function b(){this.Mr=this.wx=this.xx=this.Qk=this.ai=0;this.vG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Qk=this.ai=-1}b.prototype.wY=function(a,b,f){this.ai=a;this.Qk=b;this.hi=this.Em=null;this.Mr=0;this.az=f;null==this.Xn&&(this.Xn=d.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};
b.prototype.fa=function(){return this.Qk};b.prototype.flush=function(){0<this.tm&&(this.az.qG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Qk;a++){for(var b=this.Em[a];null!=b;){var d=b,b=b.next;d.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Qk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.vG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.tP(),this.kP(a),this.ZR();this.$K()};b.prototype.Qy=function(a,b,f,g){if(b!=g){var c=1;b>g&&(c=a,a=f,f=c,c=
b,b=g,g=c,c=-1);if(!(0>g||b>=this.Qk)){0>a&&0>f?f=a=-1:a>=this.ai&&f>=this.ai&&(f=a=this.ai);var k=(f-a)/(g-b);g>this.Qk&&(g=this.Qk,f=k*(g-b)+a);0>b&&(a=k*(0-b)+a,b=0);var h=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/k+b,a=0):a>h&&(b=(this.ai-a)/k+b,a=this.ai);-8388607>f?g=(0-a)/k+b:f>h&&(g=(this.ai-a)/k+b);b=d.J.truncate(b);g=d.J.truncate(g);b!=g&&(f=new e,f.x=d.J.truncate(4294967296*a),f.y=b,f.B=g,f.TR=d.J.truncate(4294967296*k),f.dir=c,null==this.Em&&(this.Em=d.J.gf(this.Qk,null)),f.next=
this.Em[f.y],this.Em[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Mr++)}}};b.prototype.tP=function(){if(null!=this.hi){for(var a=!1,b=null,d=this.hi;null!=d;)if(d.y++,d.y==d.B){var e=d,d=d.next;null!=b?b.next=d:this.hi=d;e.next=null}else d.x+=d.TR,null!=b&&b.x>d.x&&(a=!0),b=d,d=d.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.kP=function(a){if(!(a>=this.Qk)){var b=this.Em[a];if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var d=!0,e=b,g=null;null!=a&&
null!=e;)a.x>e.x?(d&&(this.hi=e),d=e.next,e.next=a,null!=g&&(g.next=e),g=e,e=d):(d=a.next,a.next=e,null!=g&&(g.next=a),g=a,a=d),d=!1;null==this.hi&&(this.hi=b)}}};b.xG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.ZR=function(){if(null!=this.hi)for(var a=0,c=this.hi,f=d.J.truncate(d.J.gI(c.x)),e=c.next;null!=e;e=e.next)if(a=this.vG?a^1:a+e.dir,e.x>c.x){var g=d.J.truncate(d.J.gI(e.x));0!=a&&(c=b.xG(f,this.ai),f=b.xG(g,this.ai),f>c&&c<this.ai&&(this.Xn[this.tm++]=c,this.Xn[this.tm++]=f,this.Xn[this.tm++]=
e.y,this.tm==this.Xn.length&&(this.az.qG(this.Xn,this.tm),this.tm=0)));c=e;f=g}};b.prototype.WK=function(a){for(var c=0,f=a;null!=f;f=f.next)c++;this.XK=c;if(1==c)return a;null==this.kg?this.kg=d.J.gf(Math.max(c,16),null):this.kg.length<c&&(this.kg=d.J.gf(Math.max(c,2*this.kg.length),null));for(var e=0,f=a;null!=f;f=f.next)this.kg[e++]=f;2==c?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=this.kg[1],this.kg[1]=a):b.VM(this.kg,c,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];
this.kg[0]=null;f=a;for(e=1;e<c;e++)f.next=this.kg[e],f=this.kg[e],this.kg[e]=null;f.next=null;return a};b.VM=function(a,b,d){if(b==a.length)a.sort(d);else{var c=a.slice(0,0),f=a.slice(b);b=a.slice(0,b).sort(d);a.length=0;a.push.apply(a,c.concat(b).concat(f))}};b.py=0;b.L_=1;return b}();d.zy=g})(t||(t={}));(function(d){var e=function(){function e(){}e.prototype.Ri=function(b,a){var c=this.a.Sa(b,this.Gr);this.fm==c&&(this.fm=this.Me.nb(this.fm));this.Vo==c&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.xB,
c);this.zk(b);if(a&&(c=this.a.ld(b),-1!=c&&this.a.cb(c)==b)){a=this.a.U(b);if(a!=b){var d=this.a.ld(a);if(d==c){this.a.jg(c,a);return}a=this.a.Ra(b);if(a!=b&&(d=this.a.ld(a),d==c)){this.a.jg(c,a);return}}this.a.jg(c,-1);this.a.sh(c,-1)}};e.prototype.HE=function(){for(var b=!1,a=0,c=new d.b;;){a++;null==this.vi?(this.vi=new d.ia(0),this.vt=new d.ia(0),this.Xe=new d.ia(0)):(this.vi.clear(!1),this.vt.clear(!1),this.Xe.clear(!1));for(var f=this.Vo,e=0,g=!0;f!=this.fm;){var h=this.Me.getData(f),l=new d.b;
this.a.Nc(h,l);g&&(this.a.Nc(h,c),g=!1);var l=this.a.Ra(h),n=this.a.U(h);-559038737!=this.a.Sa(l,this.Ug)&&(this.vi.add(l),this.a.Va(l,this.Ug,-559038737),this.vt.add(h),this.Xe.add(e++));-559038737!=this.a.Sa(n,this.Ug)&&(this.vi.add(n),this.a.Va(n,this.Ug,-559038737),this.vt.add(h),this.Xe.add(e++));f=this.Me.nb(f)}if(2>this.vi.size)break;var p=this;this.Xe.Gd(0,this.Xe.size,function(a,b){return p.HO(a,b)});f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),g=this.vi.get(g),this.a.Va(g,this.Ug,f),
l=new d.b,this.a.Nc(g,l);l=this.TO(c);f=0;for(e=this.Xe.size;f<e;f++)g=this.Xe.get(f),-1!=g&&(g=this.vi.get(g),this.a.Va(g,this.Ug,-1));if(l)b=!0;else break}return b};e.prototype.TO=function(b){for(var a=!1,c=!0;c;){var c=!1,d=0;-1==this.Xe.get(d)&&(d=this.Pm(d));for(var e=this.Pm(d),g=0,h=this.Xe.size;g<h&&-1!=d&&-1!=e&&d!=e;g++){var l=this.Xe.get(d),e=this.Xe.get(e),l=this.vi.get(l),e=this.vi.get(e),n=this.a.U(l);this.a.qw(n,b)||(n=this.a.Ra(l));var p=this.a.U(e);this.a.qw(p,b)||(p=this.a.Ra(e));
var q=this.Zu(n,l),t=this.Zu(p,e),w=q?this.a.Ra(n):this.a.U(n),r=t?this.a.Ra(p):this.a.U(p),v=!1;this.mq(n)?v=!0:this.mq(p)?v=!0:this.mq(l)?v=!0:this.mq(e)?v=!0:this.mq(w)?v=!0:this.mq(r)&&(v=!0);!v&&this.a.Uq(l,e)&&(v=!0,this.KE(q,t,n,l,p,e));!v&&this.a.Uq(w,r)&&(v=!0,this.KE(!q,!t,n,w,p,r));v&&(a=!0);c=c||v;d=this.Pm(d);e=this.Pm(d)}}if(!a)for(d=0,-1==this.Xe.get(d)&&(d=this.Pm(d)),e=this.Pm(d),g=0,h=this.Xe.size;g<h&&-1!=d&&-1!=e&&d!=e;g++)l=this.Xe.get(d),e=this.Xe.get(e),l=this.vi.get(l),e=this.vi.get(e),
n=this.a.U(l),this.a.qw(n,b)||(n=this.a.Ra(l)),p=this.a.U(e),this.a.qw(p,b)||(p=this.a.Ra(e)),q=this.Zu(n,l),t=this.Zu(p,e),w=q?this.a.Ra(n):this.a.U(n),r=t?this.a.Ra(p):this.a.U(p),this.LO(q,t,l,n,w,e,p,r)&&(a=!0),d=this.Pm(d),e=this.Pm(d);return a};e.prototype.WO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new d.Dg).zW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=this.Gr=-1;var c=this.a.D(this.Y),f=new d.ia(0);f.yb(c);for(var e=this.a.Pb(this.Y);-1!=e;e=this.a.Sb(e))for(var g=
this.a.cb(e),h=0,l=this.a.La(e);h<l;h++)f.add(g),g=this.a.U(g);var n=this.a.Dd.f,p=this.a.Dd.ed;this.a.xb.wc();var q=this.a.xb.ya[0].f;f.Gd(0,c,function(a,b){var c=n[p*a],d=n[p*b],f=q[2*c],c=q[2*c+1],e=q[2*d],d=q[2*d+1],f=c<d?-1:c>d?1:f<e?-1:f>e?1:0;0==f&&(f=n[p*a+3],d=n[p*b+3],f=f<d?-1:f==d?0:1);return f});this.Gr=this.a.Vd();this.Me=new d.Xp;this.xB=this.Me.mi(0);this.Me.Vn(c);for(e=0;e<c;e++)g=f.get(e),h=this.Me.addElement(this.xB,g),this.a.Va(g,this.Gr,h);this.Ug=this.a.Vd();this.fm=-1;for(this.xE()&&
(b=!0);a;){a=!1;c=0;f=!1;do{f=!1;this.Vo=-1;for(var l=0,e=new d.b,h=new d.b,t=this.Me.xc(this.xB);-1!=t;)g=this.Me.getData(t),-1!=this.Vo?(this.a.Nc(g,h),e.ub(h))?l++:(e.L(h),this.fm=t,0<l&&(g=this.HE())&&(f=!0,-1!=this.fm&&(g=this.Me.getData(this.fm),this.a.Nc(g,e))),this.Vo=t=this.fm,l=0):(this.Vo=t,this.a.Nc(this.Me.getData(t),e),l=0),-1!=t&&(t=this.Me.nb(t));this.fm=-1;0<l&&(g=this.HE())&&(f=!0);if(10<c++)throw d.g.za();f&&this.OO();this.xE()&&(f=!0);a=a||f&&!1;b=b||f}while(f)}this.a.le(this.Gr);
this.a.le(this.Ug);return b=d.TN.V(this.a,this.Y,this.Me,this.Vw)||b};e.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};e.prototype.LO=function(b,a,c,d,e,g,h,l){if(d==h)return this.zk(c),this.zk(g),!1;var f=this.a.Sa(c,this.Ug),k=this.a.Sa(e,this.Ug),m=this.a.Sa(g,this.Ug),n=this.a.Sa(l,this.Ug);c=[0,0,0,0,0,0,0,0];var p=[0,0,0,0];c[0]=0;p[0]=f;c[1]=0;p[1]=k;c[2]=1;p[2]=m;c[3]=1;p[3]=n;for(f=1;4>f;f++){k=p[f];m=c[f];for(n=f-1;0<=n&&p[n]>k;)p[n+1]=p[n],c[n+1]=c[n],n--;p[n+1]=k;c[n+1]=m}p=0;
0!=c[0]&&(p|=1);0!=c[1]&&(p|=2);0!=c[2]&&(p|=4);0!=c[3]&&(p|=8);if(5!=p&&10!=p)return!1;b==a?b?(this.a.Kc(l,d),this.a.Lc(d,l),this.a.Kc(e,h),this.a.Lc(h,e)):(this.a.Lc(l,d),this.a.Kc(d,l),this.a.Lc(e,h),this.a.Kc(h,e)):b?(this.a.Lc(d,g),this.a.Kc(g,d),this.a.Lc(h,e),this.a.Kc(e,h)):(this.a.Kc(d,g),this.a.Lc(g,d),this.a.Kc(h,e),this.a.Lc(e,h));return!0};e.prototype.KE=function(b,a,c,d,e,g){this.C_?this.VO():this.UO(b,a,c,d,e,g)};e.prototype.VO=function(){throw d.g.X("not implemented.");};e.prototype.UO=
function(b,a,c,d,e,g){if(b!=a)b?(this.a.Kc(c,e),this.a.Lc(e,c),this.a.Kc(g,d),this.a.Lc(d,g),this.po(e,c),this.Ri(e,!0),this.a.Mi(e,!0),this.zk(c),this.po(g,d),this.Ri(g,!0),this.a.Mi(g,!1)):(this.a.Kc(e,c),this.a.Lc(c,e),this.a.Kc(d,g),this.a.Lc(g,d),this.po(e,c),this.Ri(e,!0),this.a.Mi(e,!1),this.zk(c),this.po(g,d),this.Ri(g,!0),this.a.Mi(g,!0)),this.zk(d);else{var f=b?c:d,k=a?e:g;b=b?d:c;a=a?g:e;e=!1;this.a.Kc(f,k);this.a.Kc(k,f);this.a.Lc(b,a);this.a.Lc(a,b);for(g=a;g!=k;)c=this.a.Ra(g),d=this.a.U(g),
this.a.Lc(g,d),this.a.Kc(g,c),e=e||g==f,g=d;e||(c=this.a.Ra(k),d=this.a.U(k),this.a.Lc(k,d),this.a.Kc(k,c));this.po(k,f);this.Ri(k,!0);this.a.Mi(k,!1);this.zk(f);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.zk(b)}};e.prototype.xE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var c=this.a.cb(a),d=0,e=this.a.La(a);d<e&&1<e;){var g=this.a.Ra(c),h=this.a.U(c);this.a.Uq(g,h)?(b=!0,this.Ri(c,!1),this.a.ud(c,!0),this.Ri(h,!1),this.a.ud(h,!0),c=g,d=0,e=this.a.La(a)):(c=h,d++)}if(2>this.a.La(a)){b=
this.a.cb(a);d=0;for(e=this.a.La(a);d<e;d++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};e.prototype.mq=function(b){for(var a=!1;;){var c=this.a.U(b),d=this.a.Ra(b);if(c==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(c,d))break;a=!0;this.zk(d);this.zk(c);this.Ri(b,!0);this.a.Mi(b,!1);this.po(c,d);this.Ri(c,!0);this.a.Mi(c,!0);if(c==d)break;b=d}return a};e.prototype.OO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var c=this.Me.getData(a);
this.a.Aj(c,-1)}for(var d=0,e=this.a.Pb(this.Y);-1!=e;)if(a=this.a.cb(e),-1==a||-1!=this.a.ld(a))c=e,e=this.a.Sb(e),this.a.Sr(c);else{this.a.Aj(a,e);for(var g=1,c=this.a.U(a);c!=a;c=this.a.U(c))this.a.Aj(c,e),g++;this.a.Np(e,!1);this.a.nk(e,g);this.a.sh(e,this.a.Ra(a));d+=g;b++;e=this.a.Sb(e)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))c=this.Me.getData(a),-1==this.a.ld(c)&&(e=this.a.BH(this.Y,c,c,null),d+=this.a.La(e),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,d);b=0;for(d=this.a.sd;-1!=d;d=
this.a.Ue(d))b+=this.a.D(d);this.a.AC(b)};e.prototype.Pm=function(b){for(var a=0,c=this.Xe.size-1;a<c;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};e.prototype.po=function(b,a){var c=this.a.Sa(a,this.Gr),d=this.a.Sa(a,this.Ug);this.a.KC(b,a);this.a.Va(a,this.Gr,c);this.a.Va(a,this.Ug,d)};e.prototype.zk=function(b){var a=this.a.Sa(b,this.Ug);-1!=a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};e.V=function(b,a,c,d,g){var f=new e;f.a=b;f.Y=a;f.eB=c;f.Vw=d;f.ke=g;return f.WO()};e.prototype.HO=
function(b,a){var c=this.vi.get(b),f=new d.b;this.a.Nc(c,f);var c=new d.b,e=this.vi.get(a);this.a.Nc(e,c);if(f.ub(c))return 0;b=this.vt.get(b);e=new d.b;this.a.Nc(b,e);a=this.vt.get(a);b=new d.b;this.a.Nc(a,b);a=new d.b;a.zc(f,e);f=new d.b;f.zc(c,b);return d.b.vs(a,f)};return e}();d.lo=e})(t||(t={}));(function(d){(function(d){d[d.Local=0]="Local";d[d.Geographic=1]="Geographic";d[d.Projected=2]="Projected";d[d.Image=3]="Image";d[d.Unknown=4]="Unknown"})(d.$N||(d.$N={}));(function(d){d[d.Integer32=
0]="Integer32";d[d.Integer64=1]="Integer64";d[d.FloatingPoint=2]="FloatingPoint"})(d.KN||(d.KN={}));var e=function(){function e(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}e.prototype.yc=function(){return this.yg};e.prototype.Rs=function(){return 0};e.prototype.Ss=function(){return 0};e.prototype.Ts=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Uz=function(){return 5.7295779513082306E10};e.prototype.Vz=function(){return 1E3};e.prototype.Tz=function(){return 1E3};
e.prototype.bt=function(){return 1};e.prototype.re=function(){var b=.001;0!=this.yg?b=d.us.vS(this.yg):null!=this.Uh&&(b=d.pE.wS(this.Uh));return b};e.prototype.mH=function(){return this.Uh};e.prototype.Nd=function(){if(0!=this.yg)return d.oc.ze(d.us.Cz(this.yg));if(null!=this.Uh)return d.pE.xS(this.Uh)};e.Fb=function(b){if(0!=b.yg){if(!0===d.us.TU(b.yg))return 1;if(!0===d.us.VU(b.yg))return 2}return 4};e.prototype.$s=function(){var b=this.yc();if(-1!=this.tp)return this.tp;this.tp=d.us.AL(b);return-1!=
this.tp?this.tp:b};e.create=function(b){if(0>=b)throw d.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.yg=b;return a};e.qR=function(b){if(null==b||0==b.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Uh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||0==this.yg&&this.Uh!==b.Uh?!1:!0};e.QS=function(b,a){var c=Math.PI/180,f=new d.ea;d.qM.TS(b.w().x*c,b.w().y*c,a.w().x*c,a.w().y*c,f);return f.j};
e.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.yc()+"; wkt: "+this.mH()+"]"};e.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;return this.jq="S"+a};e.prototype.Bo=function(){return this.re(0)};e.prototype.Ao=function(){return null!==
this.bv?this.bv:this.bv=d.Ou.wR(this)};e.q_=!0;e.sv=2147483645;e.tv=9007199254740990;return e}();d.Sd=e})(t||(t={}));(function(d){var e=function(e){function b(){e.apply(this,arguments);this.ij=null;this.lp=new d.fE;this.Xw=this.Fr=null}N(b,e);b.wR=function(a){var c=new b;c.yg=a.yg;c.tp=a.tp;c.lJ=a.lJ;c.Uh=a.Uh;if(""!==c.Uh&&null!==c.Uh){a=b.QY(c.Uh);var f=b.mX(c.Uh);c.lp.Ey(a,f,d.ts.Integer64);c.Ky(a);c.yg=a.$s()}else a=b.EX(c.yg),c.Ky(a),c.lp.Ey(a,null,d.ts.Integer64);return c};b.prototype.re=function(a){return this.lp.Bo(a)};
b.mX=function(a){if(0>=a.length)throw d.g.F();var c=null;try{c=d.RD.fromString(a)}catch(f){c=null}return null==c?null:b.tD(c,!0)};b.prototype.Ky=function(a){this.Pd=a;this.Fr=this.Pd.Nd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Pd.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Gk().Jc():this.Pd.Jc()};b.prototype.Kg=function(){return null!=this.Pd?this.Pd.uf:null};b.prototype.bn=function(){return this.Pd.bn()};b.prototype.ee=function(){return this.Pd.ee()};
b.prototype.Ch=function(){return null!=this.Pd?this.Pd.fx:NaN};b.prototype.dn=function(){return this.Pd.dn()};b.prototype.Ws=function(){return this.Pd.Ws()};b.prototype.Sj=function(){return this.Pd.Sj()};b.prototype.iU=function(a){return d.UD.zz(this.Pd,a.Pd)};b.prototype.Mk=function(){return this.Pd.Mk()};b.prototype.Vs=function(){return this.Pd.Vs()};b.prototype.pi=function(){return 3==this.Fb()?this.ij.Gk().pi():this.Pd.pi()};b.prototype.Bh=function(){if(!this.Jc())throw d.g.F("!isPannable()");
var a=new d.h;this.Pd.Bh(a);return a};b.prototype.qe=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.gp};b.prototype.BT=function(){if(!this.Jc())throw d.g.F("!isPannable()");var a=new d.h;this.Pd.AT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.bw()};b.prototype.aw=function(){if(!this.Jc())throw d.g.F("!isPannable()");return this.Pd.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Gk().Xs():this.Pd.Xs()};b.prototype.ES=
function(){return this.Pd.Uv()};b.prototype.jX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.gA=function(a){return this.lp.gA(a)};b.prototype.kc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Gk().kc();if(0==a)throw d.g.X("invalid call");if(4===a)throw d.g.X("invalid call");if(null!==this.Xw)return this.Xw;a=this.Kg().getGeogcs();if(null==a)throw d.g.za();return this.Xw=b.jG(a,this.lp.bt())};b.jG=function(a,c){if(null==
a)throw d.g.F("null pointer.");var f=new b;a=b.Pu(a,!0);f.lp.Ey(a,null,c);f.Ky(a);f.yg=a.$s();return f};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case d.Vc.PE_TYPE_GEOGCS:return 1;case d.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.eA=function(a){var b=new d.b;this.Pd.eA(a,b);return b};b.prototype.Uv=function(){return this.Pd.Uv()};b.Pu=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Tf.getCode(a),0<f)){var e=d.Tf.coordsys(f);if(null==e)throw d.g.F("Text to wkid mapping had failed: "+
f);return b.Pu(e,c)}if(c&&0<f&&(e=b.Mv[f]))return e;e=d.Ib.iw(a,f,!1);if(c=b.zH[e])return c;c=0>=f?a:d.Tf.coordsys(f);c=new d.UD(c);b.zH[e]=c;0<f&&(b.Mv[f]=c);return c};b.EX=function(a){if(0>=a)throw d.g.F("Invalid or unsupported wkid: "+a);var c=b.Mv[a];if(null!=c)return c;c=d.Tf.coordsys(a);if(null==c)throw d.g.F("Invalid or unsupported wkid: "+a);c=b.Pu(c,!1);c.$s()!=a&&(b.Mv[a]=c);return c};b.QY=function(a){if(null==a||void 0===a||0==a.length)throw d.g.F("Cannot create SpatialReference from null or empty text.");
var c=null;try{c=d.Tf.fromString(d.Vc.PE_TYPE_COORDSYS,a)}catch(f){throw d.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===c)throw d.g.F("Cannot create SpatialReference from text. ");return b.Pu(c,!0)};b.tD=function(a,c){var f=a.getCode();if(0>=f&&(f=d.Tf.getCode(a),0<f)){f=d.Tf.vertcs(f);if(null===f)throw d.g.F();return b.tD(f,c)}if(c&&0<f&&(c=b.xH[f]))return c;a=d.Ib.iw(a,f,!1);if(c=b.YH[a])return c;var e;0>=f||(e=d.Tf.vertcs(f));if(null===e)throw d.g.F();c=new d.GN(e);b.YH[a]=
c;0<f&&(b.xH[f]=c);return c};b.jK=function(a,b){var c;if(null===b||b.u())return null;var e=new d.h,g;null!==b&&1!=a.Fb()?(c=a.kc(),g=c.Kg(),c=d.rs.Is(a,c,null,null),c=d.os.local().V(b,c,null),c.s(e)):(g=a.Kg(),b.s(e));c=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new d.PD(e.o,e.A,e.v,e.B,c,g)};b.FE=function(a){var b={name:"",steps:[],_pt:null,_entry:null},d=0;for(a=a.getEntries();d<a.length;d++){var e=a[d],g={y_:!1,X_:"",W_:-1,geogtran:null};0===e.getDirection()?g.isInverse=
!1:g.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?g.wkid=h:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};b.RT=function(a,c,f,e){void 0===f&&(f=null);f=b.jK(e,f);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,1);c=null;a&&0<a.length&&(c=this.FE(a[0]),d.wy.destroy(a));null!==f&&f.destroy();return c};b.ST=function(a,c,f,e){var g;void 0===f&&(f=null);void 0===e&&(e=null);void 0===g&&(g=30);f=b.jK(e,f);a=d.fq.getGTlist(a.Kg(),c.Kg(),2,d.fq.PE_GTLIST_OPTS_COMMON,f,g);c=
[];if(a&&0<a.length){for(g=0;g<a.length;g++)c.push(this.FE(a[g]));d.wy.destroy(a)}null!==f&&f.destroy();return c};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(d.Sd);d.Ou=e})(t||(t={}));(function(d){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(d.ts||(d.ts={}));var e=d.ts,g=function(){function b(){this.kq()}b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.jl=a.jl;
this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Uz=function(){return this.uj};b.prototype.Vz=function(){return this.Jn};b.prototype.Tz=function(){return this.rx};b.prototype.bt=function(){return this.En};b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.jl=2.220446049250313E-14;
this.En=e.FloatingPoint};b.prototype.Ey=function(a,b,f){this.kq();this.En=f;if(f!=e.FloatingPoint){var c=new d.h;a.$S(c);this.Xl=c.o;this.Yl=c.A}else this.Yl=this.Xl=-1.7976931348623157E308;c=a.uf.getType();c==d.Vc.PE_TYPE_GEOGCS?(c=(f==e.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/c):c==d.Vc.PE_TYPE_PROJCS&&(c=(f==e.Integer64?1E-4:.001)*a.bn(),this.uj=1/c);null!=b?(c=(f==e.Integer32?.001:1E-4)*b.XI,this.Jn=1/c):this.Jn=1E4;this.rx=1E4;this.XO();this.jl=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};
b.prototype.XO=function(){if(this.En!=e.FloatingPoint){var a=this.En==e.Integer64?d.Sd.tv:d.Sd.sv,b=a/this.uj,f=this.Xl+b,g=d.J.truncate((f-this.Xl)*this.uj);g>a&&(this.uj=a/(f-this.Xl));b=this.Yl+b;g=d.J.truncate((b-this.Yl)*this.uj);g>a&&(this.uj=a/(b-this.Yl))}};b.prototype.zC=function(a,b){switch(a){case 0:this.jl=b;case 1:this.Cr=b;case 2:this.Br=b}};b.prototype.Bo=function(a){switch(a){case 0:return this.jl;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.XT=function(){var a=
new d.h;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.Integer64:b=d.Sd.tv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.YT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Vz();a.I(this.Ts(),
this.Ts()+b);break;case e.Integer64:b=d.Sd.tv/this.Vz();a.I(this.Ts(),this.Ts()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw d.g.X("internal error");}return a};b.prototype.tT=function(){var a=new d.Ac;switch(this.bt()){case e.Integer32:var b=d.Sd.sv/this.Tz();a.I(this.Qs(),this.Qs()+b);break;case e.Integer64:b=d.Sd.tv/this.Tz();a.I(this.Qs(),this.Qs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;
default:throw d.g.X("internal error");}return a};b.prototype.gA=function(a){if(this.En==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.jl.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+
this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();d.fE=g})(t||(t={}));(function(d){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,c){a=a/6378137*57.29577951308232;return c?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:
[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var c=a.Vf();if(33===a.G()){var f=b(c.Be(),c.nf());c.rb(f[0],f[1])}else if(197===a.G())f=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),c.I(f[0],f[1],a[0],a[1]);else for(f=new d.b,a=0;a<c.D();a++){c.w(a,f);var e=b(f.x,f.y,!0);f.ka(e[0],e[1]);c.rb(a,f)}return c}function a(a){return b(a,g)}function c(a){return b(a,e)}var f=Math.PI/180,k=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),
c=Math.sin(a.y*f);return d.b.pa(6378137*a.x*f,3167719.6636462314*(c/(1-.006694379990197414*c*c)-1/(2*b)*Math.log((1-b*c)/(1+b*c))))};a.EA=function(a,b,c,e){var g=1/298.257223563,k=Math.sin(c);c=Math.cos(c);var m=(1-g)*Math.tan(a);a=1/Math.sqrt(1+m*m);for(var h=m*a,l=Math.atan2(m,c),m=a*k,n=m*m,p=1-n,q=2.7233160610754688E11*p/4.040829998466145E13,t=1+q/16384*(4096+q*(-768+q*(320-175*q))),u=q/1024*(256+q*(-128+q*(74-47*q))),q=e/(6356752.31424518*t),w=2*Math.PI,r,v,x,z;1E-12<Math.abs(q-w);)x=Math.cos(2*
l+q),r=Math.sin(q),v=Math.cos(q),z=u*r*(x+u/4*(v*(-1+2*x*x)-u/6*x*(-3+4*r*r)*(-3+4*x*x))),w=q,q=e/(6356752.31424518*t)+z;e=h*r-a*v*c;p=g/16*p*(4+g*(4-3*p));return d.b.pa((b+(Math.atan2(r*k,a*v-h*r*c)-(1-p)*g*m*(q+p*r*(x+p*v*(-1+2*x*x)))))/f,Math.atan2(h*v+a*r*c,(1-g)*Math.sqrt(n+e*e))/f)};a.CM=function(a,b,c,d){var f=1/298.257223563,e=d-b,g=Math.atan((1-f)*Math.tan(a)),k=Math.atan((1-f)*Math.tan(c)),m=Math.sin(g),g=Math.cos(g),h=Math.sin(k),k=Math.cos(k),l=e,n,p=1E3,q,t,u,w,r,v,x;do{u=Math.sin(l);
w=Math.cos(l);t=Math.sqrt(k*u*k*u+(g*h-m*k*w)*(g*h-m*k*w));if(0===t)return 0;w=m*h+g*k*w;r=Math.atan2(t,w);v=g*k*u/t;q=1-v*v;u=w-2*m*h/q;isNaN(u)&&(u=0);x=f/16*q*(4+f*(4-3*q));n=l;l=e+(1-x)*f*v*(r+x*t*(u+x*w*(-1+2*u*u)))}while(1E-12<Math.abs(l-n)&&0<--p);if(0===p)return m=d-b,{azimuth:Math.atan2(Math.sin(m)*Math.cos(c),Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(m)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(d-b))};a=2.7233160610754688E11*
q/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(k*Math.sin(l),g*h-m*k*Math.cos(l)),PS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(r-b*t*(u+b/4*(w*(-1+2*u*u)-b/6*u*(-3+4*t*t)*(-3+4*u*u)))),P_:Math.atan2(g*Math.sin(l),g*h*Math.cos(l)-m*k)}};a.BR=function(a){var b=a.hasAttribute(1),c=a.hasAttribute(2),f=[],e=a.aa(),g=null,k=null;b&&(g=a.Pa(1));c&&(k=a.Pa(2));for(var m=new d.b,h=0;h<e;h++){for(var l=a.wa(h),n=a.La(h),p=0,q=0,t=NaN,u=NaN,w=NaN,r=NaN,
v=a.Qb(h),x=[],z=l;z<l+n;z++){a.w(z,m);var r=w=NaN,y=[m.x,m.y];b&&(w=g.get(z),y.push(w));c&&(e=k.get(z),y.push(r));z==l&&v&&(p=m.x,q=m.y,t=w,u=r);x.push(y)}!v||p==m.x&&q==m.y&&(!b||isNaN(t)&&isNaN(w)||t==w)&&(!c||isNaN(u)&&isNaN(r)||u==r)||x.push(x[0].slice(0));f.push(x)}return f};a.Fz=function(b,c){b=a.BR(b);637.100877141506>c&&(c=637.100877141506);for(var d=[],e,g=0;g<b.length;g++){var k=b[g];d.push(e=[]);e.push([k[0][0],k[0][1]]);var m,h,l,n,p,q;m=k[0][0]*f;h=k[0][1]*f;for(p=0;p<k.length-1;p++)if(l=
k[p+1][0]*f,n=k[p+1][1]*f,m!==l||h!==n){n=a.CM(h,m,n,l);l=n.azimuth;n=n.PS;var t=n/c;if(1<t){for(q=1;q<=t-1;q++){var u=a.EA(h,m,l,q*c);e.push([u.x,u.y])}q=a.EA(h,m,l,(n+Math.floor(t-1)*c)/2);e.push([q.x,q.y])}h=a.EA(h,m,l,n);e.push([h.x,h.y]);m=h.x*f;h=h.y*f}}return{gK:d}};a.OS=function(b){for(var c=[],f=0;f<b.length;f++){var e=b[f],e=a.Fz(e,1E4);c.push(e)}b=[];for(var g=0;g<c.length;g++){for(var e=c[g],k=0,f=0;f<e.gK.length;f++){var m=e.gK[f],h=a.Ru(d.b.pa(m[0][0],m[0][1])),l=a.Ru(d.b.pa(m[m.length-
1][0],m[m.length-1][1])),n=l.x*h.y-h.x*l.y,p;for(p=0;p<m.length-1;p++)h=a.Ru(d.b.pa(m[p+1][0],m[p+1][1])),l=a.Ru(d.b.pa(m[p][0],m[p][1])),n+=l.x*h.y-h.x*l.y;k+=n}k/=1;b.push(k/-2)}return b};return a}();d.rM=k;k=function(){function b(){}b.YB=function(a,c,d,f,e,g,k){b.vD[a.jc()]=c;0==isNaN(d)&&(b.xD[a.jc()]=d);0==isNaN(f)&&(b.YD[a.jc()]=f);0==isNaN(e)&&(b.pD[a.jc()]=e);b.zD[a.jc()]=g;null!==k&&(b.BD[a.jc()]=k)};b.Ix=function(a,c,d){b.SD[a.jc()+"-"+c.jc()]=d};b.kc=function(a){a=b.vD[a.jc()];if(void 0==
a)throw d.g.df();return a};b.ee=function(a){a=b.xD[a.jc()];if(void 0==a)throw d.g.df();return a};b.hw=function(a){a=b.YD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Sv=function(a){a=b.pD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Bh=function(a){a=b.BD[a.jc()];if(void 0==a)throw d.g.df();return d.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.zD[a.jc()];if(void 0==a)throw d.g.df();return a};b.Xg=function(a,c,f){if(c.Eb(f))return a;var e=b.SD[c.jc()+"-"+f.jc()];if(void 0!==e)return e(a,c,
f);throw d.g.df();};b.lu=function(){throw d.g.df();};b.US=function(){throw d.g.df();};b.VW=function(){throw d.g.df();};b.Mk=function(){throw d.g.df();};b.sX=function(){var b=d.Sd.create(102100),f=d.Sd.create(3857),e=d.Sd.create(4326);d.fb.YB(b,e,NaN,NaN,NaN,!1,null);d.fb.YB(e,e,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);d.fb.YB(f,e,NaN,NaN,NaN,!1,null);d.fb.Ix(b,e,a);d.fb.Ix(e,b,c);d.fb.Ix(f,e,a);d.fb.Ix(e,f,c)};b.vD=[];b.xD=[];b.YD=[];b.pD=[];b.zD=[];b.BD=[];b.SD=[];return b}();d.fb=k})(t||
(t={}));t.fb.sX();(function(d){var e=function(){function e(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,c=b*this.ed;c<a;c++)this.f[c]=-1;return b};e.prototype.nl=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,f=this.ed,e=0;e<f;e++)this.f[c+e]=b[e];return a};e.prototype.Vi=function(b){this.kh=-1;
this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.CA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};return e}();d.ad=e;e=function(){function e(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<
this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,c){this.f[b*this.ed+a]=c};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw d.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};e.prototype.nl=
function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?d.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw d.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var c=a*this.ed,f=0;f<b.length;f++)this.f[c+f]=b[f];return a};e.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,c){var d=this.f[this.ed*a+c];this.f[this.ed*
a+c]=this.f[this.ed*b+c];this.f[this.ed*b+c]=d};e.Im=function(){return-2};e.jo=function(){return-3};e.CA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return e}();d.aO=e;!0===d.Xh.Bm&&(d.ad=d.aO)})(t||(t={}));(function(d){var e;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=
5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var g=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new d.Cg;this.rI=new d.Cg;this.it=new d.Ac;this.jt=new d.Ac}a.prototype.compare=function(a,b,d){a=a.ja(d);this.bf.RB(b,this.qI);this.bf.RB(a,this.rI);b=this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;d=b.ra==b.oa;var c=a.ra==a.oa;if(d||
c){if(d&&c)return 0;if(b.ra==a.ra&&b.ua==a.ua)return d?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return d?-1:1}d=b.pf(this.Wh,this.it.ca);c=a.pf(this.Wh,this.jt.ca);d==c&&(d=Math.min(b.oa,a.oa),c=.5*(d+this.Wh),c==this.Wh&&(c=d),d=b.pf(c,this.it.ca),c=a.pf(c,this.jt.ca));return d<c?-1:d>c?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),b=function(){function a(a){this.bb=a;this.jJ=new d.Cg;this.cg=new d.b;this.dB=new d.Ac}a.prototype.fY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.RB(a.ja(b),
this.jJ);a=this.jJ.get();this.dB.I(a.ua,a.sa);if(this.cg.x<this.dB.ca)return-1;if(this.cg.x>this.dB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();e=function(){function a(){this.tI=this.cj=this.fj=this.UA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=!0;this.YA=!1;this.VA=NaN;this.mj=new d.$d;this.dQ=2147483647;this.cQ=d.J.truncate(-2147483648);this.xg=this.xe=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=
function(a){this.VA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new d.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.gW=function(){null==this.Rc&&(this.Rc=new d.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new d.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.RX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=
function(a,b){this.De.P(a,2,b)};a.prototype.QX=function(a,b){this.De.P(a,1,b)};a.prototype.gY=function(a,b){this.De.P(a,3,b)};a.prototype.dY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.XS=function(a){return this.De.S(a,5)};a.prototype.PX=function(a,b){this.De.P(a,6,b)};a.prototype.bP=function(a,b){this.PX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};
a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.WX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,
b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.NX(a,this.WS(b));this.MX(b,a)};a.prototype.MX=function(a,b){this.Ye.P(a,4,b)};a.prototype.NX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.UA.write(a,b)};a.prototype.iZ=function(a){var b=0,c=0,e=this.MG(a),g=new d.b,h=new d.b,l=new d.b;this.Ys(e,g);h.L(g);var n=e;do this.Zm(n,
l),c+=d.b.Cb(h,l),this.Ef(this.Aa(n))!=a&&(b+=(l.x-g.x-(h.x-g.x))*(l.y-g.y+(h.y-g.y))*.5),h.L(l),n=this.qc(n);while(n!=e);this.No.write(a,b);this.UA.write(a,c)};a.prototype.DW=function(a){var c=new g(this),e=new d.uk;e.Qe(d.J.truncate(this.qa/2));e.Ep(c);for(var m=new d.ia(0),h=this.xh(),l=null,n=0,p=new d.b,q=this.rf;-1!=q;q=this.og(q)){n++;var t=this.kf(q);if(-1!=t){m.yf(0);if(!this.bZ(e,h,m,t)){this.w(q,p);c.RK(p.y);var w=t;do{var r=this.Kb(w,h);-1!=r&&(e.Kd(r,-1),this.Ob(w,h,-2));w=this.qc(this.Aa(w))}while(t!=
w);w=t;do r=this.Kb(w,h),-1==r&&(r=e.addElement(w,-1),m.add(r)),w=this.qc(this.Aa(w));while(t!=w)}for(t=m.size-1;0<=t;t--)r=m.get(t),w=e.ja(r),this.Ob(this.Aa(w),h,r),this.BW(e,r,a)}else-1==this.Lz(q)&&(null==l&&(l=new b(this)),this.w(q,p),l.fY(p),w=e.IX(l),t=this.km,-1!=w&&(r=e.ja(w),this.Ef(r)==this.Ef(this.Aa(r))&&(r=this.YG(e,w)),-1!=r&&(t=this.Ef(r))),this.bP(t,q))}this.ni(h)};a.prototype.BW=function(a,b,d){var c=a.ja(b),f=this.Ef(c);if(-1==this.vo(f)){var e=this.YG(a,b),g=this.Aa(c),k=this.Ef(g);
this.Dq(f);this.Dq(k);var h=this.vo(f),l=this.vo(k);-1==e&&-1==h&&(k==f?(this.Zn(k,this.km),h=l=this.km):(-1==l&&(this.Zn(k,this.km),l=this.km),this.Zn(f,k),h=k));if(-1!=e){var n=this.Ef(e);-1==l&&(0>=this.Dq(n)?(l=this.vo(n),this.Zn(k,l)):(this.Zn(k,n),l=n),k==f&&(h=l))}-1==h&&this.cZ(f,k);0==d?this.aX(a,b,c,e,f,k):5==d?this.bX(a,b,c,g,f,k):4==d&&this.$W(c,e,f,k)}};a.prototype.aX=function(a,b,d,e,g,h){var c=this.Ik(g);if(-1!=e){var f=this.Ik(h),k=this.Ik(this.Ef(e));e=c&f&k;k^=k&this.Ah(d);k|=e;
0!=k&&(this.rh(h,f|k),this.rh(g,k|c),c=c||k)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ja(b);d=this.Ef(this.Aa(e));g=this.Ik(d);h=this.Ah(e);f=this.Ef(e);k=this.Ik(f);e=g&k&c;c^=c&h;c|=e;if(0==c)break;this.rh(d,g|c);this.rh(f,k|c)}};a.prototype.bX=function(a,b,e,g,h,l){if(h!=l){e=this.Kb(e,this.xg);e+=this.Kb(g,this.xg);g=0;var c=new d.ia(0),f=new d.ia(0);f.add(0);for(var k=a.xc(-1);k!=b;k=a.nb(k)){var m=a.ja(k),n=this.Aa(m),p=this.Ef(m),q=this.Ef(n);if(p!=q){m=this.Kb(m,this.xg);m+=this.Kb(n,this.xg);g+=
m;n=!1;0!=c.size&&c.Fc()==q&&(f.Pf(),c.Pf(),n=!0);if(-1==this.vo(q))throw d.g.za();n&&this.vo(q)==p||(f.add(g),c.add(p))}}g+=e;0!=c.size&&c.Fc()==l&&(f.Pf(),c.Pf());0!=g?0==f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(h,a)):0!=f.Fc()&&(a=this.a.sd,a=this.Ia(a),this.rh(h,a))}};a.prototype.$W=function(a,b,d,e){var c=this.Ia(this.a.sd);if(-1==b)this.rh(e,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(d,c):this.rh(d,this.sp);else{var f=this.Ik(e);0==f&&(f=this.Ik(this.Ef(b)),this.rh(e,f));a=this.Kb(a,this.Tg);
0!=(a&1)?this.rh(d,f==c?this.sp:c):this.rh(d,f)}};a.prototype.bZ=function(a,b,d,e){var c=e,f=-1,g=-1,k=0;do{if(2==k)return!1;var m=this.Kb(c,b);if(-1!=m){if(-1!=f)return!1;f=m}else{if(-1!=g)return!1;g=c}k++;c=this.qc(this.Aa(c))}while(e!=c);if(-1==g||-1==f)return!1;this.Ob(a.ja(f),b,-2);a.kk(f,g);d.add(f);return!0};a.prototype.cZ=function(a,b){var c=this.Dq(a);if(0!=c){var d=this.Dq(b);0<c&&0>d?this.Zn(a,b):0>c&&0<d?this.Zn(a,b):(c=this.vo(b),-1!=c&&this.Zn(a,c))}};a.prototype.uR=function(a,b){this.rr=
this.a.Vd();for(var c=0,f=b.size;c<f;c++){var e=b.get(c),g=this.a.Sa(e,this.qn),h=this.a.ng(this.a.ld(e)),l=this.a.hc(h);if(d.T.Ic(l)){var n=this.a.U(e);if(-1!=n){var p=this.a.Sa(n,this.qn);if(g!=p){var q=this.gW(),t=this.Aa(q),w=this.Eh.Pe();this.Eh.P(w,0,e);this.Eh.P(w,1,-1);this.uu(q,w);this.yK(q,g);w=this.kf(g);-1==w?(this.bo(g,q),this.ym(q,t),this.xm(t,q)):(g=this.Te(w),this.ym(w,t),this.xm(t,w),this.xm(g,q),this.ym(q,g));this.yK(t,p);g=this.kf(p);-1==g?(this.bo(p,t),this.xm(q,t),this.ym(t,q)):
(p=this.Te(g),this.ym(g,q),this.xm(q,g),this.xm(p,t),this.ym(t,p));h=this.Ia(h);0==a?(this.Ob(t,this.xe,0),this.Ob(q,this.xe,1736==l?h:0)):5==a?(p=new d.b,this.a.w(e,p),e=new d.b,this.a.w(n,e),g=n=0,0>p.compare(e)?n=1:g=-1,this.Ob(t,this.xe,0),this.Ob(q,this.xe,0),this.Ob(q,this.xg,n),this.Ob(t,this.xg,g)):7==a?(this.Ob(t,this.xe,this.sp),this.Ob(q,this.xe,1736==l?h:0)):4==a&&(this.Ob(t,this.xe,0),this.Ob(q,this.xe,0),this.Ob(q,this.Tg,1),this.Ob(t,this.Tg,1));l=1736==l?this.cQ:0;this.Nx(q,h|l);this.Nx(t,
h|l)}}}}};a.prototype.VV=function(a,b){var c=this.$m(b);if(-1!=c){var d=this.$m(a);this.Eh.P(c,1,d);this.uu(a,c);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);c=this.$m(b);-1!=c&&(d=this.$m(a),this.Eh.P(c,1,d),this.uu(a,c),this.uu(b,-1))};a.prototype.DY=function(a){function b(a,b){return e.LQ(a,b)}var c=new d.ia(0);c.yb(10);for(var e=this,g=this.rf;-1!=g;g=this.og(g)){c.clear(!1);var h=this.kf(g);if(-1!=h){var l=h;do c.add(l),l=this.qc(this.Aa(l));while(l!=h);if(1<c.size){l=!0;if(2<c.size)c.Gd(0,c.size,
b),c.add(c.get(0));else if(0<this.KQ(c.get(0),c.get(1))){var n=c.get(0);c.set(0,c.get(1));c.set(1,n)}else l=!1;for(var p=n=c.get(0),q=this.Xf(p),t=this.Aa(p),w=-1,r=1,v=c.size;r<v;r++){var x=c.get(r),z=this.Aa(x),y=this.Kk(z);if(y==q&&x!=p){if(0==a)w=this.WG(p)|this.WG(x),this.Nx(p,w),this.Nx(t,w),this.Ob(p,this.xe,this.Kb(p,this.xe)|this.Kb(x,this.xe)),this.Ob(t,this.xe,this.Kb(t,this.xe)|this.Kb(z,this.xe));else if(-1!=this.xg)w=this.Kb(p,this.xg)+this.Kb(x,this.xg),z=this.Kb(t,this.xg)+this.Kb(z,
this.xg),this.Ob(p,this.xg,w),this.Ob(t,this.xg,z);else{if(7==a){this.mj=new d.$d(5,g,-1);return}-1!=this.Tg&&(w=this.Kb(p,this.Tg)+this.Kb(x,this.Tg),z=this.Kb(t,this.Tg)+this.Kb(z,this.Tg),this.Ob(p,this.Tg,w),this.Ob(t,this.Tg,z))}this.VV(p,x);this.sz(x);w=p;c.set(r,-1);x==n&&(c.set(0,-1),n=-1)}else this.ey(w,!1),w=-1,p=x,q=y,t=z}this.ey(w,!1);w=-1;if(l){n=-1;r=0;for(v=c.size;r<v;r++)if(x=c.get(r),-1!=x)if(-1==n)p=n=x,q=this.Xf(p),t=this.Aa(p);else if(x!=p&&(z=this.Aa(x),y=this.Kk(z),this.xm(t,
x),this.ym(x,t),p=x,q=y,t=z,7==a&&(this.Kb(x,this.xe)|this.Kb(this.Te(x),this.xe))==(this.sp|1))){this.mj=new d.$d(5,g,-1);return}this.bo(g,n)}else{n=-1;r=0;for(v=c.size;r<v;r++)if(x=c.get(r),-1!=x){n=x;break}h!=n&&this.bo(g,n)}}}}};a.prototype.$P=function(){for(var a=-1,b=this.xh(),e=this.rf;-1!=e;e=this.og(e)){var g=this.kf(e);if(-1!=g){var h=g;do{if(1!=this.Kb(h,b)){var l=this.vJ();this.su(l,h);this.rK(l,a);-1!=a&&this.tK(a,l);var a=l,n=0,p=h;do n|=this.Kb(p,this.xe),this.WX(p,l),this.Ob(p,b,1),
p=this.qc(p);while(p!=h);this.rh(l,n)}h=this.qc(this.Aa(h))}while(h!=g)}}l=this.vJ();this.su(l,-1);this.rK(l,a);-1!=a&&this.tK(a,l);this.km=l;this.No=d.Rd.zd(this.Ye.size,NaN);this.UA=d.Rd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};a.prototype.jT=function(a,b,d){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,d))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.wX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var d=
-1;;){var e=this.jT(b,d,a);if(-1==e)break;for(var d=this.qc(this.Aa(e)),g=e;;){var h=this.qc(g),l=this.Te(g),n=this.Aa(g);if(l==n){this.FR(g);if(d==g||d==n)d=-1;if(g==e||l==e){e=h;if(g==e||l==e)break;g=h;continue}}else this.Ob(g,a,1);g=h;if(g==e)break}}};a.prototype.nC=function(a,b,e,g){this.qh();this.sI=g;this.a=a;this.qr=this.a.iG();a=new d.ia(0);a.yb(null!=e?this.a.D(e.get(0)):this.a.vd);var c=0,f=1,k=null!=e?e.get(0):this.a.sd;for(g=1;-1!=k;){this.a.xK(k,this.qr,f);for(var f=f<<1,m=this.a.Pb(k);-1!=
m;m=this.a.Sb(m))for(var h=this.a.cb(m),l=0,n=this.a.La(m);l<n;l++)a.add(h),h=this.a.U(h);d.T.Jo(this.a.hc(k))||(c+=this.a.aa(k));null!=e?(k=g<e.size?e.get(g):-1,g++):k=this.a.Ue(k)}this.sp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new d.ad(2),this.De=new d.ad(8),this.Rc=new d.ad(8),this.Ye=new d.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,c));this.qn=this.a.Vd();e=new d.b;g=0;c=new d.b;e.$c();for(f=0;f<=this.qa;f++)if(f<this.qa?
(h=a.get(f),this.a.w(h,c)):c.$c(),!e.ub(c)){if(g<f){h=this.Mn();for(n=l=-1;g<f;g++)n=a.get(g),this.a.Va(n,this.qn,h),k=this.Eh.Pe(),this.Eh.P(k,0,n),this.Eh.P(k,1,l),l=k,m=this.a.ld(n),k=this.a.ng(m),k=this.Ia(k),this.QX(h,this.Md(h)|k);this.RX(h,l);this.Vr(h,this.a.Za(n));-1!=this.Jt&&this.dY(this.Jt,h);this.gY(h,this.Jt);this.Jt=h;-1==this.rf&&(this.rf=h)}g=f;e.L(c)}this.xe=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.uR(b,a);0==this.mj.Ii&&(this.DY(b),0==this.mj.Ii&&(isNaN(this.VA)||
this.BQ()?(this.$P(),0==this.mj.Ii&&(this.ni(this.xe),this.xe=-1,this.sI&&this.DW(b))):this.YA=!0))};a.prototype.sz=function(a){var b=this.qc(a),c=this.Te(a),d=this.Aa(a),e=this.qc(d),g=this.Te(d);b!=d&&(this.xm(g,b),this.ym(b,g));c!=d&&(this.xm(c,e),this.ym(e,c));c=this.Kk(a);this.kf(c)==a&&(e!=a?this.bo(c,e):this.bo(c,-1));e=this.Kk(d);this.kf(e)==d&&(b!=d?this.bo(e,b):this.bo(e,-1));this.Rc.kd(a);this.Rc.kd(d)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var c=a.ja(b);if(this.Ef(c)!=
this.Ef(this.Aa(c)))return c}else return-1};a.prototype.Wr=function(a,b,d){void 0===d&&(d=!0);this.nC(a,0,null,d)};a.prototype.mK=function(a,b){var c=new d.ia(0);c.add(b);this.nC(a,4,c,1736==a.hc(b))};a.prototype.nK=function(a,b){var c=new d.ia(0);c.add(b);this.nC(a,5,c,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.vX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.xe&&(this.ni(this.xe),this.xe=-1),-1!=this.xg&&
(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.XS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,
4)};a.prototype.Lz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,d){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,d)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=d.ia.zd(this.De.yd,-1),b=0,e=this.cj.length;b<e;b++)if(null==this.cj[b])return this.cj[b]=
a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Kk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Kk(this.Aa(a))};a.prototype.Aa=function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Ik(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};
a.prototype.Ys=function(a,b){this.w(this.Kk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.dQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=a?-1:b.read(a)};a.prototype.Ob=function(a,b,d){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,d)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=d.ia.zd(this.Rc.yd,-1),b=0,e=this.fj.length;b<e;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);
return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.FR=function(a){var b=this.Ef(a),c=this.qc(a);c==this.Aa(a)&&(c=this.qc(c),c==a&&(c=-1));this.MG(b)==a&&this.su(b,c);c=this.No.read(b);isNaN(c)||(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.GR=function(a){for(var b=0,c=a.size;b<c;b++){var d=a.get(b),e=this.Ef(this.Aa(d));this.su(this.Ef(d),-1);this.su(e,-1);this.ey(d,!0);this.sz(d)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Ik=
function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.WS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.iZ(a),b=this.No.read(a));return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.mT=function(a){return this.a.Sa(a,this.rr)};a.prototype.lT=function(a,b){var c=this.kf(a);if(-1==c)return-1;var d=c,e=-1,f=-1;do{if(this.Xf(d)==
b)return d;if(-1==e){e=this.kf(b);if(-1==e)break;f=e}if(this.Xf(f)==a)return d=this.Aa(f);d=this.qc(this.Aa(d));f=this.qc(this.Aa(f))}while(d!=c&&f!=e);return-1};a.prototype.RB=function(a,b){b.Js();b=b.get();var c=new d.b;this.Ys(a,c);b.Mc(c);this.Zm(a,c);b.Zc(c)};a.prototype.LQ=function(a,b){if(a==b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return d.b.vs(a,c)};a.prototype.KQ=function(a,b){if(a==
b)return 0;var c=new d.b;this.Zm(a,c);var e=new d.b;this.Zm(b,e);if(c.ub(e))return 0;b=new d.b;this.Ys(a,b);a=new d.b;a.zc(c,b);c=new d.b;c.zc(e,b);return 0<=c.y&&0<a.y?d.b.vs(a,c):0};a.prototype.BQ=function(){for(var a=d.Ub.Yx(this.VA),b=new d.b,e=new d.b,g=new d.b,h=new d.b,l=new d.b,n=this.rf;-1!=n;n=this.og(n)){var p=this.kf(n);if(-1!=p){var q=p;this.Ys(q,b);this.Zm(q,e);l.zc(e,b);var t=l.qk();do{var w=q,q=this.qc(this.Aa(q));if(q!=w){this.Zm(q,g);h.zc(g,b);var w=h.qk(),r=h.Ui(l);if(r*r/(w*t)*
Math.min(w,t)<=a)return!1;l.L(h);t=w;e.L(g)}}while(q!=p)}}return!0};return a}();d.Qu=e})(t||(t={}));(function(d){var e=function(){function e(){this.i=null;this.AI=new d.b;this.BI=new d.b;this.Mh=null;this.pt=!1;this.Wo=-1}e.prototype.Gf=function(b){return b<this.Mh.length?this.Mh[b]:!1};e.prototype.Hl=function(b,a,c,e){var f=d.T.lf(this.i.a.hc(c));if(2==d.T.lf(this.i.a.hc(a))&&1==f)this.AR(b,a,c,e);else throw d.g.za();};e.prototype.Wr=function(b,a){null==this.i&&(this.i=new d.Qu);this.i.Wr(b,a)};
e.prototype.Xr=function(b,a,c){d.sk.V(b,a,c,!0);for(a=b.sd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&d.lo.V(b,a,-1,this.pt,c);this.Wr(b,c)};e.prototype.TF=function(b,a,c,d,e){var f=this.i.a;if(1736==f.hc(b))for(b=f.Pb(b);-1!=b;b=f.Sb(b)){var g=f.cb(b);this.i.jf(g);this.i.jf(f.U(g));var k=this.i.mT(g);if(-1!=k){var h=this.i.Kb(k,c);if(1!=h&&2!=h)if(this.Gf(this.i.Ff(k))){this.i.Ob(k,c,1);var h=f.Yf(a,-1),l=k,n=this.i.jf(g),p=1;do{var q=this.gn(g,e);f.Kj(h,q);-1!=d&&this.i.co(n,d,1);this.i.Ob(l,c,1);var l=this.i.qc(l),
t;do q=1==p?f.U(g):f.Ra(g),t=-1!=q?this.i.jf(q):-1;while(t==n);var w=this.i.Kk(l);if(w!=t){do q=1==p?f.Ra(g):f.U(g),t=-1!=q?this.i.jf(q):-1;while(t==n);w!=t?(t=w,q=this.i.Uj(this.i.Ym(t))):p=-p}n=t;g=q}while(l!=k);f.$n(h,!0)}else this.i.Ob(k,c,2)}}};e.prototype.oG=function(){for(var b=this.i.xh(),a=new d.ia(0),c=this.i.rf;-1!=c;c=this.i.og(c)){var e=this.i.kf(c),g=e;if(-1!=e){do{if(1!=this.i.Kb(g,b)){var m=this.i.Aa(g);this.i.Ob(m,b,1);this.i.Ob(g,b,1);this.Gf(this.i.Ff(g))&&this.Gf(this.i.Ff(m))&&
a.add(g)}g=this.i.qc(this.i.Aa(g))}while(g!=e)}}this.i.ni(b);this.i.GR(a)};e.prototype.gn=function(b,a){return-1==a?b:this.WT(b,a)};e.prototype.WT=function(b,a){var c=this.i.a,d,e,g=this.i.Ym(this.i.jf(b));do{d=this.i.Uj(g);e=c.ng(c.ld(d));if(e==a)return d;g=this.i.gt(g)}while(-1!=g);return b};e.prototype.es=function(b,a,c){this.oG();var e=this.i.a,g=e.bh(1736),m=this.i.xh();this.hL(b,a,g,c,m,-1);this.i.ni(m);d.lo.V(e,g,1,this.pt,null);return g};e.prototype.hL=function(b,a,c,d,e,g){this.TF(b,c,e,
g,d);-1!=a&&this.TF(a,c,e,g,d);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var f=this.i.kf(a);if(-1!=f){var k=f;do{var m=this.i.Kb(k,e);if(1!=m&&2!=m)if(this.Gf(this.i.Ff(k))){var m=b.Yf(c,-1),h=k;do{var l=this.i.$m(h);-1!=l?l=this.i.Uj(l):(l=this.i.Uj(this.i.$m(this.i.Aa(h))),l=this.i.a.U(l));l=this.gn(l,d);b.Kj(m,l);this.i.Ob(h,e,1);-1!=g&&(l=this.i.jf(l),this.i.co(l,g,1));h=this.i.qc(h)}while(h!=k);b.$n(m,!0)}else this.i.Ob(k,e,2);k=this.i.qc(this.i.Aa(k))}while(k!=f)}}};e.prototype.VY=function(b,
a,c){var e=this.i.a,g=e.bh(1736),m=e.bh(1607),h=e.bh(550);this.oG();var l=-1,n=this.i.xh(),p=this.i.wq();this.hL(b,a,g,c,n,p);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var q=a;do{var t=this.i.Kb(q,n),w=this.i.Kb(this.i.Aa(q),n),t=t|w;if(2==t)if(t=this.i.Ah(q),this.Gf(t)){var r=e.Yf(m,-1),v=q,t=this.Jx(b,e),t=this.gn(t,c);e.Kj(r,t);this.i.co(b,p,1);do{t=this.i.Xf(v);w=this.Jx(t,e);w=this.gn(w,c);e.Kj(r,w);this.i.Ob(v,n,1);this.i.Ob(this.i.Aa(v),n,1);this.i.co(t,p,1);v=this.i.qc(v);
t=this.i.Kb(v,n);w=this.i.Kb(this.i.Aa(v),n);t|=w;if(2!=t)break;t=this.i.Ah(v);if(!this.Gf(t)){this.i.Ob(v,n,1);this.i.Ob(this.i.Aa(v),n,1);break}}while(v!=q)}else this.i.Ob(q,n,1),this.i.Ob(this.i.Aa(q),n,1);q=this.i.qc(this.i.Aa(q))}while(q!=a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))t=this.i.Hg(b,p),1!=t&&(t=this.i.Md(b),this.Gf(t)&&(-1==l&&(l=e.Yf(h,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),t=this.gn(a,c),e.Kj(l,t))));this.i.xq(p);this.i.ni(n);d.lo.V(e,g,1,this.pt,null);c=[];c[0]=h;c[1]=m;c[2]=
g;return c};e.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var d=this.i.Uj(b);-1==c&&(c=d);var e=this.i.Ia(a.ng(a.ld(d)));if(this.Gf(e)){c=d;break}}return c};e.prototype.OB=function(b,a){for(var c=this.i.Kk(a),e=this.i.Xf(a),g=0,m=0,h=this.i.Ym(c);-1!=h;h=this.i.gt(h)){var l=this.i.Uj(h),n=b.ld(l),p=this.i.Ia(b.ng(n)),q=b.U(l),t=b.Ra(l),n=b.cb(n);n==l&&(this.Wo=a);-1!=q&&this.i.jf(q)==e?(g++,this.Gf(p)&&(n==q&&(this.Wo=this.i.qc(a)),m++)):-1!=t&&this.i.jf(t)==e&&(g--,
this.Gf(p)&&(n==t&&(this.Wo=this.i.qc(a)),m--))}this.i.w(c,this.AI);this.i.w(e,this.BI);c=d.b.Cb(this.AI,this.BI);return(0!=m?m:g)*c};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};e.prototype.mL=function(b){for(var a=this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;
c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.cK=function(b,a,c,e,g){var f=this.i.a,k=b,h=this.i.Aa(k);this.i.Ob(k,c,1);this.i.Ob(h,c,1);var l=this.OB(f,k);this.Wo=-1;for(var n=k,p=-1,q=!1,t=1;;){var w=this.i.Te(k);if(w==h)break;h=this.i.qc(h);if(this.i.Aa(w)!=h)if(k=this.mL(k),-1==k)break;else q=!0,h=this.i.Aa(k);else k=w;if(k==b){p=b;break}w=this.Fq(k);if(!this.Gf(w))break;this.i.Ob(k,c,1);this.i.Ob(h,c,1);n=k;l+=this.OB(f,k);t++}if(-1==p)for(k=b,h=this.i.Aa(k),p=k;;){b=
this.i.qc(k);if(b==h)break;h=this.i.Te(h);if(this.i.Aa(b)!=h)if(k=this.nL(k),-1==k){q=!0;break}else h=this.i.Aa(k);else k=b;w=this.Fq(k);if(!this.Gf(w))break;this.i.Ob(k,c,1);this.i.Ob(h,c,1);p=k;l+=this.OB(f,k);t++}else if(-1!=this.Wo&&(n=this.Wo,p=this.i.Te(this.Wo),this.i.Aa(p)!=this.i.qc(this.i.Aa(n))&&(p=this.mL(n),-1==p)))throw d.g.za();0<=l||(k=p,p=this.i.Aa(n),n=this.i.Aa(k));c=f.Yf(a,-1);k=n;n=this.i.Kk(n);q=this.i.Xf(p)==n&&q;l=this.Jx(n,f);l=this.gn(l,g);f.Kj(c,l);-1!=e&&this.i.co(n,e,
1);n=0;for(t=q?d.J.truncate((t+1)/2):-1;;){b=this.i.Xf(k);l=this.Jx(b,f);l=this.gn(l,g);f.Kj(c,l);n++;-1!=e&&this.i.co(b,e,1);q&&n==t&&(c=f.Yf(a,-1),f.Kj(c,l));if(k==p)break;b=this.i.qc(k);if(this.i.Te(this.i.Aa(k))!=this.i.Aa(b)){if(k=this.nL(k),-1==k)throw d.g.za();}else k=b}};e.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),d=this.i.rf;-1!=d;d=this.i.og(d)){var e=this.i.kf(d),g=e;do 1!=this.i.Kb(g,c)&&this.Gf(this.Fq(g))&&this.cK(g,a,c,-1,b),g=this.i.qc(this.i.Aa(g));while(g!=
e)}this.i.ni(c);return a};e.prototype.WY=function(b){for(var a=this.i.a,c=a.bh(1607),d=a.bh(550),e=this.i.xh(),g=this.i.wq(),h=-1,l=this.i.rf;-1!=l;l=this.i.og(l)){var n=this.i.kf(l),p=n;do{var q=this.i.Kb(p,e);1!=q&&(q=this.Fq(p),this.Gf(q)&&this.cK(p,c,e,g,b));p=this.i.qc(this.i.Aa(p))}while(p!=n)}for(l=this.i.rf;-1!=l;l=this.i.og(l))q=this.i.Hg(l,g),1!=q&&(q=this.i.Md(l),this.Gf(q)&&(-1==h&&(h=a.Yf(d,-1)),n=this.i.Ym(l),-1!=n&&(n=this.i.Uj(n),n=this.gn(n,b),a.Kj(h,n))));this.i.ni(e);this.i.xq(g);
b=[];b[0]=d;b[1]=c;return b};e.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),d=this.i.rf;-1!=d;d=this.i.og(d))if(this.Gf(this.i.Md(d))){for(var e=-1,g=this.i.Ym(d);-1!=g;g=this.i.gt(g)){var h=this.i.Uj(g);-1==e&&(e=h);var l=this.i.Ia(b.ng(b.ld(h)));if(this.Gf(l)){e=h;break}}b.Kj(c,e)}return a};e.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};e.wD=function(b,a,c,e){var f=b.Ka(),g=Array(1E3);d.J.Nv(g,null);var h=d.J.gf(1E3,0),l=b.D(),n=!0,p=2==a.tb();if(1!=
a.tb()&&2!=a.tb())throw d.g.za();for(var q=0;q<l;){var t=d.J.truncate(b.fX(g,q)-q);p?d.gd.fL(a,g,t,c,h):d.gd.gL(a,g,t,c,h);for(var w=0,r=0;r<t;r++){var v=0==h[r];e||(v=!v);v&&(n&&(n=!1,f.Id(b,0,q)),w!=r&&f.Id(b,q+w,q+r),w=r+1)}n||w==t||f.Id(b,q+w,q+t);q+=t}return n?b:f};e.MH=function(b,a,c){return b instanceof d.Ed?e.wD(b,a,c,!0):a instanceof d.Wa?b.u()||a.u()?b.Ka():d.sk.yJ(c,b,a)?d.sk.GQ(b,a):b.Ka():e.yD(b,a,c,!0)};e.nw=function(b,a,c,f){var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);
l.Nb(h);c=d.na.be(c,l,!0);l=new d.h;l.I(h);h=d.na.Cs(c);l.O(h,h);if(!g.Yb(l)){if(b.tb()<=a.tb())return e.bd(e.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return e.bd(e.Bb(a.Ka()),b,"\x26")}h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.nw(l,a);b=e.bd(g.Se(f),b,"\x26");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.yD=function(b,a,c,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],g=[0],h=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw d.g.za();f[0]=b.w();h?d.gd.fL(a,
f,1,c,g):d.gd.gL(a,f,1,c,g);a=0==g[0];e||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,c){return b instanceof d.Ed?e.wD(b,a,c,!1):a instanceof d.Wa?b.u()?b.Ka():a.u()?b:d.sk.yJ(c,b,a)?b.Ka():b:e.yD(b,a,c,!1)};e.prototype.DJ=function(b,a,c,e,g){if(b.u())return b;var f=new d.fd;b=f.Jb(b);return this.ol(f,b,a,c,e,g)};e.prototype.AW=function(b,a,c,e,g,h){if(g&&550!=b.hc(a)){var f=new d.XD;f.NY(b,c);f.ih?(d.sk.V(b,c,h,!0),g=!1):this.i.ez(c)}else d.sk.V(b,c,h,!0),g=!1;e&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,
a);if(this.i.YA)return this.i.qh(),this.i=null,this.ol(b,a,c,e,!1,h);this.i.ez(NaN);h=this.i.Ia(a);this.Do(h+1);this.Mh[h]=!0;if(1736==b.hc(a)||e&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),g?b.Zg(1,0):(b.Zg(2,c),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),g||b.Zg(2,c),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),g||b.Zg(2,c),b;throw d.g.za();};e.prototype.ol=function(b,a,c,e,g,h){this.i=new d.Qu;try{return this.AW(b,a,c,e,g,h)}finally{this.i.qh()}};e.ol=function(b,
a,c,d,g){return(new e).DJ(b,a,c,d,g)};e.prototype.zW=function(b,a,c){this.pt=b;this.i=new d.Qu;b=a.xo(c);var e=a.hc(c);1!=b||550==e?this.i.mK(a,c):this.i.nK(a,c);if(!this.i.YA)if(this.i.ez(NaN),e=this.i.Ia(c),this.Do(e+1),this.Mh[e]=!0,1736==a.hc(c)||1==b&&550!=a.hc(c))a.Hp(c,0),b=this.es(c,-1,-1),a.FC(b,c),a.bC(b);else if(1607==a.hc(c))b=this.fs(-1),a.FC(b,c),a.bC(b);else if(550==a.hc(c))b=this.Qp(),a.FC(b,c),a.bC(b);else throw d.g.X("internal error");};e.EC=function(b,a,c,d){var f=new e;f.pt=!0;
return f.DJ(b,a,!1,c,d)};e.prototype.Vm=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&2==e||1==c&&1==e)return this.fs(-1);if(0==c)return this.Qp();throw d.g.za();};e.prototype.nG=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a));if(c>e)return b;if(c<e)return a;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=
!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};e.prototype.nw=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.es(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.fs(g);if(0==c||0==e)return this.Qp();throw d.g.za();
};e.prototype.wA=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==c&&2==e)return this.VY(b,a,g);if(1==c&&0<e||1==e&&0<c)return this.WY(g);if(0==c||0==e)return c=[],c[0]=this.Qp(),c;throw d.g.za();};e.prototype.Pp=function(b,a){var c=d.T.lf(this.i.a.hc(b)),e=d.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=
!0;if(2==c&&2==e)return this.es(b,a,-1);if(1==c&&1==e)return this.fs(-1);if(0==c&&0==e)return this.Qp();throw d.g.za();};e.Bb=function(b){var a=b.G();return 197==a?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new d.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):b};e.bd=function(b,a,c){var e=b.G();return 197==e?(a=new d.Ja(b.description),b.u()||a.jd(b,!1),a):33!=e||"|"!=c&&"^"!=c?322==e?(a=new d.Ua(b.description),b.u()||a.dc(b,!0),a):33==e&&
"-"==c&&33==a.G()||550==e&&"\x26"==c&&33==a.G()?(a=new d.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new d.Ed(b.description),b.u()||a.add(b),a)};e.Vm=function(b,a,c,f){if(b.u()||a.u()||b.tb()>a.tb())return e.bd(e.Bb(b),b,"-");var g=new d.h;b.s(g);var h=new d.h;a.s(h);if(!g.Yb(h))return e.bd(e.Bb(b),b,"-");var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.Vm(l,a);f=g.Se(f);b=e.bd(f,b,"-");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());
return b};e.nG=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"|");if(a.u())return e.bd(e.Bb(b),b,"|");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);if(!g.Yb(h.oT(c,c)))switch(b=e.Bb(b),a=e.Bb(a),b.G()){case 550:return b=d.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=d.T.oe(b),b.add(a,!1),b;case 1736:return b=d.T.oe(b),b.add(a,!1),b;default:throw d.g.za();}h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));
h.Xr(g,c,f);a=h.nG(l,a);b=e.bd(g.Se(a),b,"|");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.SR=function(b,a,c){if(2>b.length)throw d.g.F("not enough geometries to dissolve");for(var f=0,g=0,h=b.length;g<h;g++)f=Math.max(b[g].tb(),f);var l=new d.h;l.Oa();for(var n=new d.fd,p=-1,q=0,t=-1,g=0,h=b.length;g<h;g++)if(b[g].tb()==f)if(b[g].u())-1==t&&(t=g);else{t=g;-1==p?p=n.Jb(e.Bb(b[g])):n.xP(p,e.Bb(b[g]));var w=new d.h;b[g].ac(w);l.Nb(w);q++}if(2>q)return e.Bb(b[t]);b=2==f;a=d.na.be(0==f?
a:null,l,!0);return(new e).ol(n,p,a,b,!0,c)};e.wA=function(b,a,c,f){var g=[null,null,null],h=new d.h;b.s(h);var l=new d.h;a.s(l);var n=new d.h;n.I(h);n.Nb(l);c=d.na.be(c,n,!0);n=new d.h;n.I(l);l=d.na.Cs(c);n.O(l,l);if(!h.Yb(n)){if(b.tb()<=a.tb())return b=e.bd(e.Bb(b.Ka()),b,"\x26"),g[b.tb()]=b,g;if(b.tb()>a.tb())return b=e.bd(e.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}l=new e;h=new d.fd;n=h.Jb(e.Bb(b));a=h.Jb(e.Bb(a));l.Xr(h,c,f);f=l.wA(n,a);for(a=0;a<f.length;a++)l=e.bd(h.Se(f[a]),b,"\x26"),d.T.Ic(l.G())&&
(l.Zg(2,c),1736==l.G()&&l.Al()),g[l.tb()]=l;return g};e.Pp=function(b,a,c,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"^");if(a.u())return e.bd(e.Bb(b),b,"^");var g=new d.h;b.s(g);var h=new d.h;a.s(h);var l=new d.h;l.I(g);l.Nb(h);c=d.na.be(c,l,!0);h=new e;g=new d.fd;l=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,c,f);f=h.Pp(l,a);b=e.bd(g.Se(f),b,"^");d.T.Ic(b.G())&&(b.Zg(2,c),1736==b.G()&&b.Al());return b};e.M_=function(b,a,c){a=a.G();c=c.G();return 550==b.G()&&
(33==a||33==c)&&1>=b.D()?(c=new d.Wa(b.description),b.u()||b.Ae(0,c),c):b};e.prototype.BS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var d=a.size,e=0;e<d;e++){var g=a.get(e);c.Kj(b,g)}c.$n(b,!0)};e.prototype.XX=function(b,a){for(var c=this.i.a,d=c.sd;-1!=d;d=c.Ue(d))if(d==a)for(var e=c.Pb(d);-1!=e;e=c.Sb(e)){var g=c.cb(e);if(-1!=g)for(var h=c.U(g);-1!=h;){var g=this.i.jf(g),l=this.i.jf(h),g=this.i.lT(g,l);-1!=g&&(l=this.i.Aa(g),this.i.Ob(g,b,1),this.i.Ob(l,b,2));g=h;h=c.U(g)}}};e.prototype.UW=
function(b,a,c,e){c=this.i.Ia(c);e=this.i.Ia(e);var f=new d.ia(0);f.yb(256);for(var g=this.i.a,h=this.i.xh(),l=this.i.rf;-1!=l;l=this.i.og(l)){var n=this.i.kf(l);if(-1!=n){var p=n;do{if(1!=this.i.Kb(p,h)){var q=p,t=p,w=!1,r=0;do{this.i.Ob(q,h,1);if(!w){var v=this.i.Ah(q);0!=(v&e)&&0!=(this.i.Ff(q)&c)&&(t=q,w=!0)}w&&(f.add(this.i.Uj(this.i.Ym(this.i.Kk(q)))),-1!=b&&(v=this.i.Ah(q),0!=(v&e)&&(v=this.i.Kb(q,b),r|=v)));q=this.i.qc(q)}while(q!=t);w&&0<this.i.Dq(this.i.Ef(t))&&(q=g.bh(1736),this.BS(q,f),
-1!=a&&g.xK(q,a,r));f.clear(!1)}p=this.i.qc(this.i.Aa(p))}while(p!=n)}}this.i.ni(h)};e.prototype.AR=function(b,a,c,d){this.i.wX();var e=-1;-1!=b&&(e=this.i.xh(),this.XX(e,c));this.UW(e,b,a,c);var f=this.i.a;b=0;for(e=f.sd;-1!=e;e=f.Ue(e))e!=a&&e!=c&&(d.add(e),b++);d.Gd(0,b,function(a,b){a=f.hA(f.Pb(a));b=f.hA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return e}();d.Dg=e})(t||(t={}));(function(d){var e=function(){function e(b){void 0!==b?this.Op(b):
this.qC()}e.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.jc=function(){d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();d.J.Zi();return d.J.Zi()};e.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};e.prototype.YY=function(b,a,c,d,e){var f=2*a;d*=2;for(a=2*(a+e);f<
a;f+=2,d+=2){e=b[f];var g=b[f+1];c[d]=this.lb*e+this.sb*g+this.Wb;c[d+1]=this.zb*e+this.gb*g+this.bc}};e.prototype.$Y=function(b,a,c){for(var e=0;e<a;e++){var g=b[e].x,h=b[e].y,l=this.lb*g+this.sb*h+this.Wb,g=this.zb*g+this.gb*h+this.bc;null!=c[e]?c[e].ka(l,g):c[e]=d.b.pa(l,g)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,l;d=b.lb*a.lb+b.zb*a.sb;e=b.sb*a.lb+b.gb*a.sb;g=b.Wb*a.lb+b.bc*a.sb+a.Wb;h=b.lb*a.zb+b.zb*a.gb;l=b.sb*a.zb+b.gb*a.gb;b=b.Wb*
a.zb+b.bc*a.gb+a.bc;c.lb=d;c.sb=e;c.Wb=g;c.zb=h;c.gb=l;c.bc=b};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.LC=function(b){if(!b.u()){for(var a=[],c=0;4>c;c++)a[c]=new d.b;b.QB(a);this.aZ(a,a);b.Mx(a,4)}};e.prototype.aZ=function(b,a){for(var c=0;c<b.length;c++){var e=new d.b,g=b[c];e.x=this.lb*g.x+this.sb*g.y+this.Wb;e.y=this.zb*g.x+this.gb*g.y+this.bc;a[c]=e}};e.prototype.lU=function(b,a){b.u()||a.u()||0==
b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.ZY=function(b){var a=new d.b,c=new d.b;a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);c.ka(this.sb,this.gb);a.add(c);a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};e.prototype.qC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.Ho=function(b){if(void 0!==b){var a=d.b.pa(0,
1);this.$h(a,a);a.sub(d.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(d.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};e.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};e.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};e.prototype.Op=function(b,a){void 0!==
a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};e.prototype.yC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};e.prototype.kY=function(b){this.lY(Math.cos(b),Math.sin(b))};e.prototype.lY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=
new e;a.kY(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();d.Hd=e})(t||(t={}));(function(d){var e=function(){function e(){}e.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=
0};e.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};e.prototype.LC=function(b){if(b.u())return b;for(var a=new d.qd[8],c=0;8>c;c++)a[c]=new d.qd;b.QB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,c){for(var e=0;e<a;e++){var g=new d.qd,h=b[e];g.x=this.lb*h.x+this.sb*h.y+this.zf*h.z+this.Wb;g.y=this.zb*h.x+this.gb*h.y+this.Af*h.z+this.bc;g.z=this.Sf*h.x+this.Cf*h.y+this.Df*h.z+
this.bi;c[e]=g}};e.prototype.Rp=function(b){var a=new d.qd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};e.prototype.Vg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,l,n,p,q,t,w,r;d=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;e=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;g=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;h=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;l=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;n=b.sb*a.Sf+b.gb*a.Cf+b.Cf*
a.Df;p=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;q=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;t=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;w=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;r=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=d;c.zb=e;c.Sf=g;c.sb=h;c.gb=l;c.Cf=n;c.zf=p;c.Af=q;c.Df=t;c.Wb=w;c.bc=r;c.bi=b};e.inverse=function(b,a){var c=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=c){var e,g,h,l,n,p,q,t,w,r;t=1/c;c=(b.gb*b.Df-b.Cf*b.Af)*t;h=-(b.sb*b.Df-b.Cf*b.zf)*t;p=
(b.sb*b.Af-b.gb*b.zf)*t;e=-(b.zb*b.Df-b.Af*b.Sf)*t;l=(b.lb*b.Df-b.Sf*b.zf)*t;q=-(b.lb*b.Af-b.zb*b.zf)*t;g=(b.zb*b.Cf-b.Sf*b.gb)*t;n=-(b.lb*b.Cf-b.Sf*b.sb)*t;t*=b.lb*b.gb-b.zb*b.sb;w=-(b.Wb*c+b.bc*h+b.bi*p);r=-(b.Wb*e+b.bc*l+b.bi*q);b=-(b.Wb*g+b.bc*n+b.bi*t);a.lb=c;a.zb=e;a.Sf=g;a.sb=h;a.gb=l;a.Cf=n;a.zf=p;a.Af=q;a.Df=t;a.Wb=w;a.bc=r;a.bi=b}else throw d.g.X("math singularity");};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=
this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return e}();d.fO=e})(t||(t={}));(function(d){var e=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=!0}N(a,b);a.prototype.Ud=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.DE())};a.prototype.removeAttribute=function(a){if(0==a)throw d.g.F("Position attribue cannot be removed");
this.hasAttribute(a)&&(this.Sh[a]=-1,this.DE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Pz=function(){return g.zo().add(this)};a.Ig=function(){return g.zo().UT()};a.eq=function(){return g.zo().VT()};a.prototype.KO=function(){var a=this.jc();return new d.ma(a,this)};a.prototype.DE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=
function(){this.Zq&&(this.bm=this.Ak(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.mg(a.rd(d));return c};a.vT=
function(b,d){b=new a(b);b.Ud(d);return b.Pz()};a.wT=function(b,d){for(var c=null,e=0;10>e;e++)!b.hasAttribute(e)&&d.hasAttribute(e)&&(null==c&&(c=new a(b)),c.Ud(e));return null!=c?c.Pz():b};a.ss=function(b,d){b=new a(b);b.removeAttribute(d);return b.Pz()};return a}(d.ma);d.ye=e;var g=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Ud(1);this.add(a)}b.zo=function(){return b.jV};b.prototype.UT=function(){return b.aq};b.prototype.VT=function(){return b.bq};b.prototype.add=function(a){var c=
a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var d=null;void 0!==this.map[c]&&(d=this.map[c]);null==d&&(d=a.KO(),1==d.Ga?b.aq=d:2==d.Ga&&1==d.rd(1)?b.bq=d:this.map[c]=d);return d};b.jV=new b;return b}()})(t||(t={}));var O=0==y.version.indexOf("4."),Z;(function(d){d[d.Linear=0]="Linear";d[d.Angular=1]="Angular";d[d.Area=2]="Area";d[d.LinearOrAngular=3]="LinearOrAngular"})(Z||(Z={}));var T={feet:9002,kilometers:9036,meters:9001,miles:9035,
"nautical-miles":9030,yards:9096},aa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},S={degrees:9102,radians:9101};void 0===r.prototype.getCacheValue&&I.extend(r,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});var ba=t.Sd.create(4326),
X=t.Sd.create(102100);F=function(){function d(){}d.extendedSpatialReferenceInfo=function(d){if(null===d)return null;d=q(d);var e=d.Nd();return{tolerance:d.Bo(),unitType:null==e?-1:e.nd,unitID:null==e?-1:e.yc(),unitBaseFactor:null==e?0:e.Ai,unitSquareDerivative:null==e?0:t.oc.lH(e).yc()}};d.clip=function(d,e){if(null===d)return null;e=t.cc.clip(p(d),p(e),J(d));return l(e,d.spatialReference)};d.cut=function(d,e){e=p(e);e=t.cc.Hl(p(d),e,J(d));for(var b=[],a=0;a<e.length;a++)b.push(l(e[a],d.spatialReference));
return b};d.contains=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.contains(p(d),p(e),J(d))};d.crosses=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.zR(p(d),p(e),J(d))};d.distance=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.Cb(p(d),p(e),J(d),t.oc.ze(z(b,3)))};d.equals=function(d,e){return null===d&&null!==e||null===e&&null!==d?!1:t.cc.Eb(p(d),p(e),J(d))};d.intersects=
function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.OU(p(d),p(e),J(d))};d.touches=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.touches(p(d),p(e),J(d))};d.within=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.sZ(p(d),p(e),J(d))};d.disjoint=function(d,e){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.RR(p(d),p(e),J(d))};d.overlaps=function(d,e){if(null===
d||null===e)throw Error("Illegal Argument Exception");return t.cc.pW(p(d),p(e),J(d))};d.relate=function(d,e,b){if(null===d||null===e)throw Error("Illegal Argument Exception");return t.cc.ZB(p(d),p(e),J(d),b)};d.isSimple=function(d){if(null===d)throw Error("Illegal Argument Exception");return t.cc.ZU(p(d),J(d))};d.simplify=function(d){if(null===d)throw Error("Illegal Argument Exception");var e=t.cc.DC(p(d),J(d));return l(e,d.spatialReference)};d.convexHull=function(e,g){void 0===g&&(g=!1);if(null===
e)throw Error("Illegal Argument Exception");return!1===P(e)?(g=t.cc.iR(p(e),J(e)),l(g,e.spatialReference)):d.lZ(e,g)};d.lZ=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(p(d[a]));b=t.cc.jR(b,e);for(a=0;a<b.length;a++)b[a]=l(b[a],d[0].spatialReference);return b};d.difference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===P(e)?(g=t.cc.Vm(p(e),p(g),J(e)),l(g,e.spatialReference)):d.iM(e,g)};d.iM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(p(d[a]));
b=t.cc.OR(b,p(e),J(e));for(a=0;a<b.length;a++)b[a]=l(b[a],e.spatialReference);return b};d.symmetricDifference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===P(e)?(g=t.cc.Pp(p(e),p(g),J(e)),l(g,e.spatialReference)):d.LM(e,g)};d.LM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(p(d[a]));b=t.cc.PY(b,p(e),J(e));for(a=0;a<b.length;a++)b[a]=l(b[a],e.spatialReference);return b};d.intersect=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");
return!1===P(e)?(g=t.cc.Ma(p(e),p(g),J(e)),l(g,e.spatialReference)):d.xM(e,g)};d.xM=function(d,e){for(var b=[],a=0;a<d.length;a++)b.push(p(d[a]));b=t.cc.MU(b,p(e),J(e));for(a=0;a<b.length;a++)b[a]=l(b[a],e.spatialReference);return b};d.union=function(d,e){void 0===e&&(e=null);if(null===d)return null;!1===P(d)&&(d=[d],null!==e&&d.push(e));if(0===d.length)return null;e=[];for(var b=0;b<d.length;b++)e.push(p(d[b]));return l(t.cc.hZ(e,J(d[0])),d[0].spatialReference)};d.offset=function(e,g,b,a,c,f){var k=
0;if(null!=a&&void 0!=a)switch(a){case "round":k=0;break;case "bevel":k=1;break;case "miter":k=2;break;case "square":k=3}return!1===P(e)?(g=t.cc.offset(p(e),J(e),g,k,c,f,t.oc.ze(z(b,3))),l(g,e.spatialReference)):d.HM(e,g,b,k,c,f)};d.HM=function(d,e,b,a,c,f){if(null===d)return null;if(0===d.length)return[];for(var g=[],h=0;h<d.length;h++)g.push(p(d[h]));e=t.cc.nW(g,J(d[0]),e,a,c,f,t.oc.ze(z(b,3)));for(h=0;h<e.length;h++)e[h]=l(e[h],d[0].spatialReference);return e};d.buffer=function(e,g,b,a){void 0===
a&&(a=!1);if(!1===P(e))return g=t.cc.buffer(p(e),J(e),g,t.oc.ze(z(b,3)),!1,0,NaN),l(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var c=[],f=0;f<e.length;f++)c.push(g);g=c}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var c=[],k=0,f=0;f<e.length;f++)void 0===g[f]?c.push(k):(c.push(g[f]),k=g[f]);g=c}return d.rD(e,g,b,!1,a,"geodesic",NaN)};d.geodesicBuffer=function(e,g,b,a,c,f){if(!1===P(e))return void 0===c&&(c=NaN),g=t.cc.buffer(p(e),
J(e),g,t.oc.ze(z(b,0)),!0,E(a),c),l(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var k=[],h=0;h<e.length;h++)k.push(g);g=k}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var k=[],n=0,h=0;h<e.length;h++)void 0===g[h]?k.push(n):(k.push(g[h]),n=g[h]);g=k}return d.rD(e,g,b,!0,a,c,f)};d.rD=function(d,e,b,a,c,f,g){if(null===d)return null;if(0===d.length)return[];void 0===g&&(g=NaN);for(var k=[],h=0;h<d.length;h++)k.push(p(d[h]));
e=t.cc.RP(k,J(d[0]),e,t.oc.ze(z(b,0)),a,c,E(f),g);for(h=0;h<e.length;h++)e[h]=l(e[h],d[0].spatialReference);return e};d.nearestCoordinate=function(d,e,b){void 0===b&&(b=!0);e=t.cc.$z(p(d),p(e),b);return{coordinate:l(e.Oz(),d.spatialReference),distance:e.Rz(),isRightSide:e.AA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertex=function(d,e){e=t.cc.aA(p(d),p(e));return{coordinate:l(e.Oz(),d.spatialReference),distance:e.Rz(),isRightSide:e.AA(),vertexIndex:e.Za(),isEmpty:e.u()}};d.nearestVertices=function(d,
e,b,a){e=p(e);b=t.cc.bA(p(d),e,b,a);a=[];for(e=0;e<b.length;e++)!1===b[e].u()&&a.push({coordinate:l(b[e].Oz(),d.spatialReference),distance:b[e].Rz(),isRightSide:b[e].AA(),vertexIndex:b[e].Za(),isEmpty:b[e].u()});return a};d.generalize=function(d,e,b,a){e=t.cc.HS(p(d),J(d),e,b,t.oc.ze(z(a,3)));return l(e,d.spatialReference)};d.densify=function(d,e,b){e=t.cc.Ls(p(d),J(d),e,t.oc.ze(z(b,3)));return l(e,d.spatialReference)};d.geodesicDensify=function(d,e,b,a){void 0===a&&(a=0);e=t.cc.Fz(p(d),J(d),e,t.oc.ze(z(b,
3)),a);return l(e,d.spatialReference)};d.rotate=function(d,e,b){if(void 0===b||null===b)void 0!==d.x?b=d:void 0!==d.xmin?(!1===d instanceof r&&(d=O?D(d):B(d)),b=O?d.get("center"):d.getCenter()):(!1===d instanceof r&&(d=O?D(d):B(d)),b=O?d.get("extent").get("center"):d.getExtent().getCenter());e=O?t.Wp.rotate(d.toJSON?d.toJSON():d,e,b.toJSON?b.toJSON():b):t.Wp.rotate(d.toJson?d.toJson():d,e,b.toJson?b.toJson():b);O?(e=D(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));
return e};d.flipHorizontal=function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof r&&(d=O?D(d):B(d)),e=O?d.get("center"):d.getCenter()):(!1===d instanceof r&&(d=O?D(d):B(d)),e=O?d.get("extent").get("center"):d.getExtent().getCenter());e=O?t.Wp.zG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):t.Wp.zG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);O?(e=D(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));return e};d.flipVertical=
function(d,e){if(void 0===e||null===e)void 0!==d.x?e=d:void 0!==d.xmin?(!1===d instanceof r&&(d=O?D(d):B(d)),e=O?d.get("center"):d.getCenter()):(!1===d instanceof r&&(d=O?D(d):B(d)),e=O?d.get("extent").get("center"):d.getExtent().getCenter());e=O?t.Wp.AG(d.toJSON?d.toJSON():d,e.toJSON?e.toJSON():e):t.Wp.AG(d.toJson?d.toJson():d,e.toJson?e.toJson():e);O?(e=D(e),e.set("spatialReference",d.spatialReference)):(e=B(e),e.setSpatialReference(d.spatialReference));return e};d.planarArea=function(d,e){if(null===
d)throw Error("Illegal Argument Exception");return t.cc.xW(p(d),J(d),t.oc.ze(z(e,2)))};d.planarLength=function(d,e){if(null===d)throw Error("Illegal Argument Exception");return t.cc.yW(p(d),J(d),t.oc.ze(z(e,3)))};d.geodesicArea=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return t.cc.NS(p(d),J(d),t.oc.ze(z(e,2)),E(b))};d.geodesicLength=function(d,e,b){if(null===d)throw Error("Illegal Argument Exception");return t.cc.RS(p(d),J(d),t.oc.ze(z(e,0)),E(b))};d._enableProjection=
function(e){d.GE=!0;t.BN.bind(e)};d.Mg=function(d){return q(d).Ao()};d._getTransformation=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw t.g.F("AOI missing Spatial Reference");a=p(b);c=q(b.spatialReference).Ao()}d=t.Ou.RT(q(d).Ao(),q(e).Ao(),a,c);return null!==d?d:null};d._getTransformationBySuitability=function(d,e,b){void 0===b&&(b=null);var a=null,c=null;if(b){if(!b.spatialReference)throw t.g.F("AOI missing Spatial Reference");a=p(b);c=q(b.spatialReference).Ao()}return t.Ou.ST(q(d).Ao(),
q(e).Ao(),a,c)};d.dZ=function(e,g,b){var a=null;if(b){var c=b.getGTListEntry();if(null!==c){for(var a=new t.ny(null),f=0,k=c.steps;f<k.length;f++){var c=k[f],h=new t.io(c.geogtran);c.isInverse&&h.kt();a.add(h)}a=t.rs.Is(d.Mg(e),d.Mg(g),a);b.assignCachedGe(e,g,a);return a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new t.ny(null);f=0;for(k=b.steps;f<k.length;f++)c=k[f],-1!=c.wkid&&null!==c.wkid&&void 0!==c.wkid?a.add(t.io.create(c.wkid,c.isInverse)):a.add(t.io.gG(c.wkt,c.isInverse));a=t.rs.Is(d.Mg(e),
d.Mg(g),a);b.assignCachedGe(e,g,a);return a}return t.rs.Is(d.Mg(e),d.Mg(g),a)};d._project=function(e,g,b,a,c){void 0===a&&(a=null);void 0===c&&(c=!1);if(!1===this.GE)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(a){var f=a.getCachedGeTransformation(g,b);f||(f=d.dZ(g,b,a));g=[];var k=0}else f=t.rs.Is(d.Mg(g),d.Mg(b),null),g=[],k=0;for(;k<e.length;k++)a=e[k],g.push(d.nD(a,b,f,c));return g};d.nD=function(d,e,b,a){d=t.cc.Xg(p(d),b);return a?K(d):l(d,
e)};d.GE=!1;return d}();void 0===r.prototype.getCacheValue&&I.extend(r,{cache:null,getCacheValue:function(d){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[d]},setCacheValue:function(d,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[d]=g}});return F})},"esri/views/draw/support/layerUtils":function(){define(["require","exports"],function(F,v){Object.defineProperty(v,"__esModule",{value:!0});v.addUniqueLayer=function(v,r){r&&v&&v.map&&(v=v.map,v.layers.find(function(v){return v===
r})||v.add(r))}})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),function(F,v,y,r,x,d,n){Object.defineProperty(v,"__esModule",{value:!0});F=function(d){function h(){var h=null!==d&&d.apply(this,arguments)||this;h.cancelled=!1;h.history={undo:[],redo:[]};h.type=null;return h}y(h,
d);Object.defineProperty(h.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":break;default:x.neverReached(this.activeComponent)}return null},enumerable:!0,configurable:!0});h.prototype.addToHistory=function(d){this.history.redo=[];this.history.undo.push(d)};h.prototype.resetHistory=function(){this.history.redo=
[];this.history.undo=[]};h.prototype.canUndo=function(){return 0<this.history.undo.length};h.prototype.canRedo=function(){return 0<this.history.redo.length};h.prototype.complete=function(){this.reset();this.onEnd();this.emit("complete")};h.prototype.cancel=function(){this._set("cancelled",!0);this.reset();this.onEnd();this.emit("cancel")};h.prototype.reset=function(){this.activeComponent.reset()};h.prototype.refreshComponent=function(){var d=this.activeComponent;d&&("box"!==d.type&&"reshape"!==d.type||
d.refresh())};Object.defineProperty(h.prototype,"undo",{set:function(d){var h=this;this._set("undo",function(){h.canUndo()&&d()})},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"redo",{set:function(d){var h=this;this._set("redo",function(){h.canRedo()&&d()})},enumerable:!0,configurable:!0});r([n.property()],h.prototype,"activeComponent",void 0);r([n.property()],h.prototype,"cancelled",void 0);r([n.property()],h.prototype,"history",void 0);r([n.property({dependsOn:["activeComponent"]})],
h.prototype,"tool",null);r([n.property()],h.prototype,"type",void 0);r([n.property()],h.prototype,"canUndo",null);r([n.property()],h.prototype,"canRedo",null);r([n.property()],h.prototype,"onEnd",void 0);r([n.property()],h.prototype,"undo",null);r([n.property()],h.prototype,"redo",null);r([n.property()],h.prototype,"toggleTool",void 0);r([n.property()],h.prototype,"addToSelection",void 0);r([n.property()],h.prototype,"removeFromSelection",void 0);return h=r([n.subclass("esri.widgets.Sketch.support.OperationHandle")],
h)}(n.declared(d.EventedAccessor));v.OperationHandle=F})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(F,v,y,r,x,d,n,h,H,I,B,D){function z(d,g){return y.doc.createElementNS?y.doc.createElementNS(d,g):y.doc.createElement(g)}function E(d,g,h,l){return d.setAttributeNS?d.setAttributeNS(g,h,l):d.setAttribute(h,l)}function l(d){return g.useSvgWeb?
y.doc.createTextNode(d,!0):y.doc.createTextNode(d)}var g=I.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var q=navigator.userAgent,p=v("ios"),J=v("chrome")?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(d){return d&&"none"!=d?d.match(/^url\(#.+\)$/)?r.byId(d.slice(5,-1)):d.match(/^#dojoUnique\d+$/)?r.byId(d.slice(1)):null:null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,
1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var P=0;g.Shape=x("dojox.gfx.svg.Shape",B.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var d=this.rawNode.getAttribute("fill");(d=g.getRef(d))&&d.parentNode.removeChild(d)}this.clip&&(d=this.rawNode.getAttribute("clip-path"))&&(d=r.byId(d.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);B.Shape.prototype.destroy.apply(this,arguments)},setFill:function(g){if(!g)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var h,l=function(d){this.setAttribute(d,h[d].toFixed(8))};if("object"==typeof g&&"type"in g){switch(g.type){case "linear":h=I.makeParameters(I.defaultLinearGradient,g);g=this._setFillObject(h,"linearGradient");d.forEach(["x1","y1","x2","y2"],l,g);break;case "radial":h=I.makeParameters(I.defaultRadialGradient,g);g=this._setFillObject(h,"radialGradient");d.forEach(["cx","cy","r"],l,g);break;case "pattern":h=
I.makeParameters(I.defaultPattern,g),g=this._setFillObject(h,"pattern"),d.forEach(["x","y","width","height"],l,g)}this.fillStyle=h;return this}this.fillStyle=h=I.normalizeColor(g);this.rawNode.setAttribute("fill",h.toCss());this.rawNode.setAttribute("fill-opacity",h.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(d){var h=this.rawNode;if(!d)return this.strokeStyle=null,h.setAttribute("stroke","none"),h.setAttribute("stroke-opacity",0),this;if("string"==typeof d||
F.isArray(d)||d instanceof H)d={color:d};d=this.strokeStyle=I.makeParameters(I.defaultStroke,d);d.color=I.normalizeColor(d.color);if(d){var l=0>d.width?0:d.width;h.setAttribute("stroke",d.color.toCss());h.setAttribute("stroke-opacity",d.color.a);h.setAttribute("stroke-width",l);h.setAttribute("stroke-linecap",d.cap);"number"==typeof d.join?(h.setAttribute("stroke-linejoin","miter"),h.setAttribute("stroke-miterlimit",d.join)):h.setAttribute("stroke-linejoin",d.join);var n=d.style.toLowerCase();n in
g.dasharray&&(n=g.dasharray[n]);if(n instanceof Array){var n=F._toArray(n),p;for(p=0;p<n.length;++p)n[p]*=l;if("butt"!=d.cap){for(p=0;p<n.length;p+=2)n[p]-=l,1>n[p]&&(n[p]=1);for(p=1;p<n.length;p+=2)n[p]+=l}n=n.join(",")}h.setAttribute("stroke-dasharray",n);h.setAttribute("dojoGfxStrokeStyle",d.style)}return this},_getParentSurface:function(){for(var d=this.parent;d&&!(d instanceof I.Surface);d=d.parent);return d},_setFillObject:function(d,h){var l=g.xmlns.svg;this.fillStyle=d;var n=this._getParentSurface().defNode,
p=this.rawNode.getAttribute("fill");if(p=g.getRef(p))if(p.tagName.toLowerCase()!=h.toLowerCase()){var q=p.id;p.parentNode.removeChild(p);p=z(l,h);p.setAttribute("id",q);n.appendChild(p)}else for(;p.childNodes.length;)p.removeChild(p.lastChild);else p=z(l,h),p.setAttribute("id",I._base._getUniqueId()),n.appendChild(p);if("pattern"==h)p.setAttribute("patternUnits","userSpaceOnUse"),l=z(l,"image"),l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",(0>d.width?0:d.width).toFixed(8)),l.setAttribute("height",
(0>d.height?0:d.height).toFixed(8)),E(l,g.xmlns.xlink,"xlink:href",d.src),p.appendChild(l);else for(p.setAttribute("gradientUnits","userSpaceOnUse"),h=0;h<d.colors.length;++h){var n=d.colors[h],q=z(l,"stop"),t=n.color=I.normalizeColor(n.color);q.setAttribute("offset",n.offset.toFixed(8));q.setAttribute("stop-color",t.toCss());q.setAttribute("stop-opacity",t.a);p.appendChild(q)}this.rawNode.setAttribute("fill","url(#"+p.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return p},_applyTransform:function(){if(this.matrix){var d=this.matrix;this.rawNode.setAttribute("transform","matrix("+d.xx.toFixed(8)+","+d.yx.toFixed(8)+","+d.xy.toFixed(8)+","+d.yy.toFixed(8)+","+d.dx.toFixed(8)+","+d.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(d){d=this.rawNode=d;"image"!=this.shape.type&&d.setAttribute("fill","none");d.setAttribute("fill-opacity",0);d.setAttribute("stroke","none");d.setAttribute("stroke-opacity",
0);d.setAttribute("stroke-width",1);d.setAttribute("stroke-linecap","butt");d.setAttribute("stroke-linejoin","miter");d.setAttribute("stroke-miterlimit",4);d.__gfxObject__=this},setShape:function(d){this.shape=I.makeParameters(this.shape,d);for(var g in this.shape)if("type"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(d){this.inherited(arguments);var l=d?"width"in d?"rect":"cx"in d?"ellipse":"points"in d?"polyline":"d"in d?"path":null:null;if(d&&!l)return this;"polyline"===l&&(d=F.clone(d),d.points=d.points.join(","));var n,p=h.get(this.rawNode,"clip-path");p&&(n=r.byId(p.match(/gfx_clip[\d]+/)[0]))&&n.removeChild(n.childNodes[0]);d?(n?(l=z(g.xmlns.svg,l),n.appendChild(l)):(p="gfx_clip"+ ++P,this.rawNode.setAttribute("clip-path","url(#"+p+")"),n=
z(g.xmlns.svg,"clipPath"),l=z(g.xmlns.svg,l),n.appendChild(l),this.rawNode.parentNode.insertBefore(n,this.rawNode),h.set(n,"id",p)),h.set(l,d)):(this.rawNode.removeAttribute("clip-path"),n&&n.parentNode.removeChild(n));return this},_removeClipNode:function(){var d,g=h.get(this.rawNode,"clip-path");g&&(d=r.byId(g.match(/gfx_clip[\d]+/)[0]))&&d.parentNode.removeChild(d);return d}});g.Group=x("dojox.gfx.svg.Group",g.Shape,{constructor:function(){B.Container._init.call(this)},setRawNode:function(d){this.rawNode=
d;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=x("dojox.gfx.svg.Rect",[g.Shape,B.Rect],{setShape:function(d){this.shape=I.makeParameters(this.shape,d);this.bbox=null;for(var g in this.shape)if("type"!=g&&"r"!=g){d=this.shape[g];if("width"===g||"height"===g)d=0>d?0:d;this.rawNode.setAttribute(g,d)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});g.Rect.nodeType="rect";g.Ellipse=x("dojox.gfx.svg.Ellipse",[g.Shape,B.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=x("dojox.gfx.svg.Circle",[g.Shape,B.Circle],{});g.Circle.nodeType="circle";g.Line=x("dojox.gfx.svg.Line",[g.Shape,B.Line],{});g.Line.nodeType="line";g.Polyline=x("dojox.gfx.svg.Polyline",[g.Shape,B.Polyline],{setShape:function(d,g){d&&d instanceof Array?(this.shape=I.makeParameters(this.shape,{points:d}),g&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=I.makeParameters(this.shape,d);this.bbox=null;this._normalizePoints();d=[];g=this.shape.points;for(var h=0;h<g.length;++h)d.push(g[h].x.toFixed(8),g[h].y.toFixed(8));this.rawNode.setAttribute("points",d.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=x("dojox.gfx.svg.Image",[g.Shape,B.Image],{setShape:function(d){this.shape=I.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;for(var h in this.shape)if("type"!=h&&"src"!=h){var l=this.shape[h];if("width"===h||"height"===
h)l=0>l?0:l;d.setAttribute(h,l)}d.setAttribute("preserveAspectRatio","none");E(d,g.xmlns.xlink,"xlink:href",this.shape.src);d.__gfxObject__=this;return this}});g.Image.nodeType="image";g.Text=x("dojox.gfx.svg.Text",[g.Shape,B.Text],{setShape:function(d){this.shape=I.makeParameters(this.shape,d);this.bbox=null;d=this.rawNode;var g=this.shape;d.setAttribute("x",g.x);d.setAttribute("y",g.y);d.setAttribute("text-anchor",g.align);d.setAttribute("text-decoration",g.decoration);d.setAttribute("rotate",g.rotated?
90:0);d.setAttribute("kerning",g.kerning?"auto":0);d.setAttribute("text-rendering",J);d.firstChild?d.firstChild.nodeValue=g.text:d.appendChild(l(g.text));return this},getTextWidth:function(){var d=this.rawNode,g=d.parentNode,d=d.cloneNode(!0);d.style.visibility="hidden";var h=0,l=d.firstChild.nodeValue;g.appendChild(d);if(""!=l)for(;!h;)h=d.getBBox?parseInt(d.getBBox().width):68;g.removeChild(d);return h},getBoundingBox:function(){var d=null;if(this.getShape().text)try{d=this.rawNode.getBBox()}catch(M){d=
{x:0,y:0,width:0,height:0}}return d}});g.Text.nodeType="text";g.Path=x("dojox.gfx.svg.Path",[g.Shape,D.Path],{_updateWithSegment:function(d){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(d){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=x("dojox.gfx.svg.TextPath",[g.Shape,D.TextPath],{_updateWithSegment:function(d){this.inherited(arguments);
this._setTextPath()},setShape:function(d){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var d=this.rawNode;if(!d.firstChild){var h=z(g.xmlns.svg,"textPath"),n=l("");h.appendChild(n);d.appendChild(h)}h=(h=d.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(h);if(!h&&(n=this._getParentSurface())){var n=n.defNode,h=z(g.xmlns.svg,"path"),p=I._base._getUniqueId();h.setAttribute("id",p);n.appendChild(h);E(d.firstChild,g.xmlns.xlink,
"xlink:href","#"+p)}h&&h.setAttribute("d",this.shape.path)}},_setText:function(){var d=this.rawNode;if(!d.firstChild){var h=z(g.xmlns.svg,"textPath"),n=l("");h.appendChild(n);d.appendChild(h)}d=d.firstChild;h=this.text;d.setAttribute("alignment-baseline","middle");switch(h.align){case "middle":d.setAttribute("text-anchor","middle");d.setAttribute("startOffset","50%");break;case "end":d.setAttribute("text-anchor","end");d.setAttribute("startOffset","100%");break;default:d.setAttribute("text-anchor",
"start"),d.setAttribute("startOffset","0%")}d.setAttribute("baseline-shift","0.5ex");d.setAttribute("text-decoration",h.decoration);d.setAttribute("rotate",h.rotated?90:0);d.setAttribute("kerning",h.kerning?"auto":0);d.firstChild.data=h.text}});g.TextPath.nodeType="text";var K=534<function(){var d=/WebKit\/(\d*)/.exec(q);return d?d[1]:0}();g.Surface=x("dojox.gfx.svg.Surface",B.Surface,{constructor:function(){B.Container._init.call(this)},destroy:function(){B.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(d,g){if(!this.rawNode)return this;d=0>d?0:d;g=0>g?0:g;this.rawNode.setAttribute("width",d);this.rawNode.setAttribute("height",g);K&&(this.rawNode.style.width=d,this.rawNode.style.height=g);return this},getDimensions:function(){return this.rawNode?{width:I.normalizedLength(this.rawNode.getAttribute("width")),height:I.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(d,h,l){var n=new g.Surface;n.rawNode=z(g.xmlns.svg,
"svg");n.rawNode.setAttribute("overflow","hidden");h&&n.rawNode.setAttribute("width",0>h?0:h);l&&n.rawNode.setAttribute("height",0>l?0:l);h=z(g.xmlns.svg,"defs");n.rawNode.appendChild(h);n.defNode=h;n._parent=r.byId(d);n._parent.appendChild(n.rawNode);I._base._fixMsTouchAction(n);return n};v={_setFont:function(){var d=this.fontStyle;this.rawNode.setAttribute("font-style",d.style);this.rawNode.setAttribute("font-variant",d.variant);this.rawNode.setAttribute("font-weight",d.weight);this.rawNode.setAttribute("font-size",
d.size);this.rawNode.setAttribute("font-family",d.family)}};var N=B.Container;x=g.Container={openBatch:function(){if(!this._batch){var d;d=g.useSvgWeb?y.doc.createDocumentFragment(!0):y.doc.createDocumentFragment();this.fragment=d}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(d){this!=d.getParent()&&(this.fragment?this.fragment.appendChild(d.rawNode):
this.rawNode.appendChild(d.rawNode),N.add.apply(this,arguments),d.setClip(d.clip));return this},remove:function(d,g){this==d.getParent()&&(this.rawNode==d.rawNode.parentNode&&this.rawNode.removeChild(d.rawNode),this.fragment&&this.fragment==d.rawNode.parentNode&&this.fragment.removeChild(d.rawNode),d._removeClipNode(),N.remove.apply(this,arguments));return this},clear:function(){for(var d=this.rawNode;d.lastChild;)d.removeChild(d.lastChild);var g=this.defNode;if(g){for(;g.lastChild;)g.removeChild(g.lastChild);
d.appendChild(g)}return N.clear.apply(this,arguments)},getBoundingBox:N.getBoundingBox,_moveChildToFront:N._moveChildToFront,_moveChildToBack:N._moveChildToBack};D=g.Creator={createObject:function(d,h){if(!this.rawNode)return null;var l=new d;d=z(g.xmlns.svg,d.nodeType);l.setRawNode(d);l.setShape(h);this.add(l);return l}};F.extend(g.Text,v);F.extend(g.TextPath,v);F.extend(g.Group,x);F.extend(g.Group,B.Creator);F.extend(g.Group,D);F.extend(g.Surface,x);F.extend(g.Surface,B.Creator);F.extend(g.Surface,
D);g.fixTarget=function(d,g){d.gfxTarget||(d.gfxTarget=p&&d.target.wholeText?d.target.parentElement.__gfxObject__:d.target.__gfxObject__);return!0};g.useSvgWeb&&(g.createSurface=function(d,h,l){var p=new g.Surface;h=0>h?0:h;l=0>l?0:l;if(!h||!l){var q=n.position(d);h=h||q.w;l=l||q.h}d=r.byId(d);var q=d.id?d.id+"_svgweb":I._base._getUniqueId(),t=z(g.xmlns.svg,"svg");t.id=q;t.setAttribute("width",h);t.setAttribute("height",l);svgweb.appendChild(t,d);t.addEventListener("SVGLoad",function(){p.rawNode=
this;p.isLoaded=!0;var d=z(g.xmlns.svg,"defs");p.rawNode.appendChild(d);p.defNode=d;if(p.onLoad)p.onLoad(p)},!1);p.isLoaded=!1;return p},g.Surface.extend({destroy:function(){var d=this.rawNode;svgweb.removeChild(d,d.parentNode)}}),v={connect:function(d,g,h){"on"===d.substring(0,2)&&(d=d.substring(2));h=2==arguments.length?g:F.hitch(g,h);this.getEventSource().addEventListener(d,h,!1);return[this,d,h]},disconnect:function(d){this.getEventSource().removeEventListener(d[1],d[2],!1);delete d[0]}},F.extend(g.Shape,
v),F.extend(g.Surface,v));return g})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(F,v,y,r,x,d,n,h,H){var I=v.getObject("dojox.gfx",!0),B=I._base={};I._hasClass=function(d,g){return(d=d.getAttribute("className"))&&0<=(" "+d+" ").indexOf(" "+g+" ")};I._addClass=function(d,g){var h=d.getAttribute("className")||"";(!h||0>(" "+h+" ").indexOf(" "+
g+" "))&&d.setAttribute("className",h+(h?" ":"")+g)};I._removeClass=function(d,g){var h=d.getAttribute("className");h&&d.setAttribute("className",h.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)"),"$1$2"))};B._getFontMeasurements=function(){var d={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},g,l;r("ie")&&(l=x.doc.documentElement.style.fontSize||"",l||(x.doc.documentElement.style.fontSize="100%"));var n=h.create("div",{style:{position:"absolute",
left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},x.body());for(g in d)n.style.fontSize=g,d[g]=16*Math.round(12*n.offsetHeight/16)/12/1E3;r("ie")&&(x.doc.documentElement.style.fontSize=l);x.body().removeChild(n);return d};var D=null;B._getCachedFontMeasurements=function(d){if(d||!D)D=B._getFontMeasurements();return D};var z=null,E={};B._getTextBox=function(d,g,l){var n,p,q=arguments.length,t;z||(z=h.create("div",
{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},x.body()));n=z;n.className="";p=n.style;p.borderWidth="0";p.margin="0";p.padding="0";p.outline="0";if(1<q&&g)for(t in g)t in E||(p[t]=g[t]);2<q&&l&&(n.className=l);n.innerHTML=d;n.getBoundingClientRect?(p=n.getBoundingClientRect(),p={l:p.left,t:p.top,w:p.width||p.right-p.left,h:p.height||p.bottom-p.top}):p=H.getMarginBox(n);n.innerHTML="";return p};B._computeTextLocation=function(d,g,h,l){var n={};switch(d.align){case "end":n.x=
d.x-g;break;case "middle":n.x=d.x-g/2;break;default:n.x=d.x}n.y=d.y-h*(l?.75:1);return n};B._computeTextBoundingBox=function(d){if(!I._base._isRendered(d))return{x:0,y:0,width:0,height:0};var g;g=d.getShape();var h=d.getFont()||I.defaultFont;d=d.getTextWidth();h=I.normalizedLength(h.size);g=B._computeTextLocation(g,d,h,!0);return{x:g.x,y:g.y,width:d,height:h}};B._isRendered=function(d){for(d=d.parent;d&&d.getParent;)d=d.parent;return null!==d};var l=0;B._getUniqueId=function(){var d;do d=F._scopeName+
"xUnique"+ ++l;while(n.byId(d));return d};var g=r("pointer-events")?"touchAction":null;B._fixMsTouchAction=g?function(d){d.rawNode.style[g]="none"}:function(){};v.mixin(I,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,
height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var d={};return function(g){var h=d[g];if(h)return new h;h=d[g]=new Function;h.prototype=I["default"+g];return new h}}(),normalizeColor:function(d){return d instanceof y?d:new y(d)},normalizeParameters:function(d,g){var h;if(g){var l={};for(h in d)h in g&&!(h in l)&&(d[h]=g[h])}return d},makeParameters:function(d,
g){var h=null;if(!g)return v.delegate(d);var l={};for(h in d)h in l||(l[h]=v.clone(h in g?g[h]:d[h]));return l},formatNumber:function(d,g){var h=d.toString();if(0<=h.indexOf("e"))h=d.toFixed(4);else{var l=h.indexOf(".");0<=l&&5<h.length-l&&(h=d.toFixed(4))}return 0>d?h:g?" "+h:h},makeFontString:function(d){return d.style+" "+d.variant+" "+d.weight+" "+d.size+" "+d.family},splitFontString:function(d){var g=I.getDefault("Font");d=d.split(/\s+/);if(!(5>d.length)){g.style=d[0];g.variant=d[1];g.weight=
d[2];var h=d[3].indexOf("/");g.size=0>h?d[3]:d[3].substring(0,h);var l=4;0>h&&("/"==d[4]?l=6:"/"==d[4].charAt(0)&&(l=5));l<d.length&&(g.family=d.slice(l).join(" "))}return g},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return I._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(d){return d*I.px_in_pt()},px2pt:function(d){return d/I.px_in_pt()},normalizedLength:function(d){if(0===d.length)return 0;if(2<d.length){var g=I.px_in_pt(),h=parseFloat(d);switch(d.slice(-2)){case "px":return h;
case "pt":return h*g;case "in":return 72*h*g;case "pc":return 12*h*g;case "mm":return h*I.mm_in_pt*g;case "cm":return h*I.cm_in_pt*g}}return parseFloat(d)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(d,g){return d&&g&&d===g},switchTo:function(g){var h="string"==typeof g?I[g]:g;h&&(d.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(d){I[d]=h[d]}),"string"==typeof g?I.renderer=g:d.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(d){return I.renderer=I[d]&&I[d].Surface===I.Surface?d:null}))}});return I})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(F,v,y,r,x,d,n,h,H,I){function B(d,h){for(var l=d.length-1;h<l;)d[h]=d[++h];d.length=l}var D=
F.shape={};D.Shape=y("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(x("gfxRegistry")){var d=D.register(this);this.getUID=function(){return d}}},destroy:function(){x("gfxRegistry")&&D.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},
getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var d=this.getBoundingBox();if(!d)return null;var h=this._getRealMatrix();return[I.multiplyPoint(h,d.x,d.y),I.multiplyPoint(h,d.x+d.width,d.y),I.multiplyPoint(h,d.x+d.width,d.y+d.height),I.multiplyPoint(h,d.x,d.y+d.height)]},getEventSource:function(){return this.rawNode},setClip:function(d){this.clip=
d},getClip:function(){return this.clip},setShape:function(d){this.shape=F.makeParameters(this.shape,d);this.bbox=null;return this},setFill:function(d){if(!d)return this.fillStyle=null,this;var h=null;if("object"==typeof d&&"type"in d)switch(d.type){case "linear":h=F.makeParameters(F.defaultLinearGradient,d);break;case "radial":h=F.makeParameters(F.defaultRadialGradient,d);break;case "pattern":h=F.makeParameters(F.defaultPattern,d)}else h=F.normalizeColor(d);this.fillStyle=h;return this},setStroke:function(d){if(!d)return this.strokeStyle=
null,this;if("string"==typeof d||v.isArray(d)||d instanceof H)d={color:d};d=this.strokeStyle=F.makeParameters(F.defaultStroke,d);d.color=F.normalizeColor(d.color);return this},setTransform:function(d){this.matrix=I.clone(d?I.normalize(d):I.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var d=this.getParent();d&&(d._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var d=this.getParent();d&&(d._moveChildToBack(this),
this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(d){return d?this.setTransform([this.matrix,d]):this},applyLeftTransform:function(d){return d?this.setTransform([d,this.matrix]):this},applyTransform:function(d){return d?this.setTransform([this.matrix,d]):this},removeShape:function(d){this.parent&&this.parent.remove(this,d);return this},_setParent:function(d,h){this.parent=d;return this._updateParentMatrix(h)},_updateParentMatrix:function(d){this.parentMatrix=
d?I.clone(d):null;return this._applyTransform()},_getRealMatrix:function(){for(var d=this.matrix,h=this.parent;h;)h.matrix&&(d=I.multiply(h.matrix,d)),h=h.parent;return d}});D._eventsProcessing={on:function(h,n){return d(this.getEventSource(),h,D.fixCallback(this,F.fixTarget,n))},connect:function(d,h,l){"on"==d.substring(0,2)&&(d=d.substring(2));return this.on(d,l?v.hitch(h,l):h)},disconnect:function(d){return d.remove()}};D.fixCallback=function(d,h,l,g){g||(g=l,l=null);if(v.isString(g)){l=l||r.global;
if(!l[g])throw['dojox.gfx.shape.fixCallback: scope["',g,'"] is null (scope\x3d"',l,'")'].join("");return function(n){return h(n,d)?l[g].apply(l,arguments||[]):void 0}}return l?function(n){return h(n,d)?g.apply(l,arguments||[]):void 0}:function(n){return h(n,d)?g.apply(l,arguments):void 0}};v.extend(D.Shape,D._eventsProcessing);D.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(d){var h=d.getParent();h&&h.remove(d,
!0);this.children.push(d);return d._setParent(this,this._getRealMatrix())},remove:function(d,h){for(var l=0;l<this.children.length;++l)if(this.children[l]==d){h||(d.parent=null,d.parentMatrix=null);B(this.children,l);break}return this},clear:function(d){for(var h,l=0;l<this.children.length;++l)h=this.children[l],h.parent=null,h.parentMatrix=null,d&&h.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var d=null;n.forEach(this.children,function(h){var l=h.getBoundingBox();
l&&((h=h.getTransform())&&(l=I.multiplyRectangle(h,l)),d?(d.x=Math.min(d.x,l.x),d.y=Math.min(d.y,l.y),d.endX=Math.max(d.endX,l.x+l.width),d.endY=Math.max(d.endY,l.y+l.height)):d={x:l.x,y:l.y,endX:l.x+l.width,endY:l.y+l.height})});d&&(d.width=d.endX-d.x,d.height=d.endY-d.y);return d}return null},_moveChildToFront:function(d){for(var h=0;h<this.children.length;++h)if(this.children[h]==d){B(this.children,h);this.children.push(d);break}return this},_moveChildToBack:function(d){for(var h=0;h<this.children.length;++h)if(this.children[h]==
d){B(this.children,h);this.children.unshift(d);break}return this}};D.Surface=y("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){n.forEach(this._nodes,h.destroy);this._nodes=[];n.forEach(this._events,function(d){d&&d.remove()});this._events=[];this.rawNode=null;if(x("ie"))for(;this._parent.lastChild;)h.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(d){},whenLoaded:function(h,n){var l=v.hitch(h,n);if(this.isLoaded)l(this);else d.once(this,"load",function(d){l(d)})}});v.extend(D.Surface,D._eventsProcessing);D.Rect=y("dojox.gfx.shape.Rect",D.Shape,{constructor:function(d){this.shape=F.getDefault("Rect");this.rawNode=d},getBoundingBox:function(){return this.shape}});D.Ellipse=y("dojox.gfx.shape.Ellipse",D.Shape,{constructor:function(d){this.shape=F.getDefault("Ellipse");this.rawNode=
d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:d.cx-d.rx,y:d.cy-d.ry,width:2*d.rx,height:2*d.ry}}return this.bbox}});D.Circle=y("dojox.gfx.shape.Circle",D.Shape,{constructor:function(d){this.shape=F.getDefault("Circle");this.rawNode=d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:d.cx-d.r,y:d.cy-d.r,width:2*d.r,height:2*d.r}}return this.bbox}});D.Line=y("dojox.gfx.shape.Line",D.Shape,{constructor:function(d){this.shape=F.getDefault("Line");this.rawNode=
d},getBoundingBox:function(){if(!this.bbox){var d=this.shape;this.bbox={x:Math.min(d.x1,d.x2),y:Math.min(d.y1,d.y2),width:Math.abs(d.x2-d.x1),height:Math.abs(d.y2-d.y1)}}return this.bbox}});D.Polyline=y("dojox.gfx.shape.Polyline",D.Shape,{constructor:function(d){this.shape=F.getDefault("Polyline");this.rawNode=d},setShape:function(d,h){d&&d instanceof Array?(this.inherited(arguments,[{points:d}]),h&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[d]);
return this},_normalizePoints:function(){var d=this.shape.points,h=d&&d.length;if(h&&"number"==typeof d[0]){for(var l=[],g=0;g<h;g+=2)l.push({x:d[g],y:d[g+1]});this.shape.points=l}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var d=this.shape.points,h=d.length,l=d[0],g=l.x,n=l.y,p=l.x,r=l.y,v=1;v<h;++v)l=d[v],g>l.x&&(g=l.x),p<l.x&&(p=l.x),n>l.y&&(n=l.y),r<l.y&&(r=l.y);this.bbox={x:g,y:n,width:p-g,height:r-n}}return this.bbox}});D.Image=y("dojox.gfx.shape.Image",D.Shape,
{constructor:function(d){this.shape=F.getDefault("Image");this.rawNode=d},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});D.Text=y(D.Shape,{constructor:function(d){this.fontStyle=null;this.shape=F.getDefault("Text");this.rawNode=d},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this},getBoundingBox:function(){var d=
null;this.getShape().text&&(d=F._base._computeTextBoundingBox(this));return d}});D.Creator={createShape:function(d){switch(d.type){case F.defaultPath.type:return this.createPath(d);case F.defaultRect.type:return this.createRect(d);case F.defaultCircle.type:return this.createCircle(d);case F.defaultEllipse.type:return this.createEllipse(d);case F.defaultLine.type:return this.createLine(d);case F.defaultPolyline.type:return this.createPolyline(d);case F.defaultImage.type:return this.createImage(d);
case F.defaultText.type:return this.createText(d);case F.defaultTextPath.type:return this.createTextPath(d)}return null},createGroup:function(){return this.createObject(F.Group)},createRect:function(d){return this.createObject(F.Rect,d)},createEllipse:function(d){return this.createObject(F.Ellipse,d)},createCircle:function(d){return this.createObject(F.Circle,d)},createLine:function(d){return this.createObject(F.Line,d)},createPolyline:function(d){return this.createObject(F.Polyline,d)},createImage:function(d){return this.createObject(F.Image,
d)},createText:function(d){return this.createObject(F.Text,d)},createPath:function(d){return this.createObject(F.Path,d)},createTextPath:function(d){return this.createObject(F.TextPath,{}).setText(d)},createObject:function(d,h){return null}};return D})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(F,v){var y=F.matrix={},r={};y._degToRad=function(v){return r[v]||(r[v]=Math.PI*v/180)};y._radToDeg=function(r){return r/Math.PI*180};y.Matrix2D=function(r){if(r)if("number"==
typeof r)this.xx=this.yy=r;else if(r instanceof Array){if(0<r.length){for(var d=y.normalize(r[0]),n=1;n<r.length;++n){var h=d,x=y.normalize(r[n]),d=new y.Matrix2D;d.xx=h.xx*x.xx+h.xy*x.yx;d.xy=h.xx*x.xy+h.xy*x.yy;d.yx=h.yx*x.xx+h.yy*x.yx;d.yy=h.yx*x.xy+h.yy*x.yy;d.dx=h.xx*x.dx+h.xy*x.dy+h.dx;d.dy=h.yx*x.dx+h.yy*x.dy+h.dy}v.mixin(this,d)}}else v.mixin(this,r)};v.extend(y.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});v.mixin(y,{identity:new y.Matrix2D,flipX:new y.Matrix2D({xx:-1}),flipY:new y.Matrix2D({yy:-1}),
flipXY:new y.Matrix2D({xx:-1,yy:-1}),translate:function(r,d){return 1<arguments.length?new y.Matrix2D({dx:r,dy:d}):new y.Matrix2D({dx:r.x,dy:r.y})},scale:function(r,d){return 1<arguments.length?new y.Matrix2D({xx:r,yy:d}):"number"==typeof r?new y.Matrix2D({xx:r,yy:r}):new y.Matrix2D({xx:r.x,yy:r.y})},rotate:function(r){var d=Math.cos(r);r=Math.sin(r);return new y.Matrix2D({xx:d,xy:-r,yx:r,yy:d})},rotateg:function(r){return y.rotate(y._degToRad(r))},skewX:function(r){return new y.Matrix2D({xy:Math.tan(r)})},
skewXg:function(r){return y.skewX(y._degToRad(r))},skewY:function(r){return new y.Matrix2D({yx:Math.tan(r)})},skewYg:function(r){return y.skewY(y._degToRad(r))},reflect:function(r,d){1==arguments.length&&(d=r.y,r=r.x);var n=r*r,h=d*d,v=n+h,x=2*r*d/v;return new y.Matrix2D({xx:2*n/v-1,xy:x,yx:x,yy:2*h/v-1})},project:function(r,d){1==arguments.length&&(d=r.y,r=r.x);var n=r*r,h=d*d,v=n+h,x=r*d/v;return new y.Matrix2D({xx:n/v,xy:x,yx:x,yy:h/v})},normalize:function(r){return r instanceof y.Matrix2D?r:new y.Matrix2D(r)},
isIdentity:function(r){return 1==r.xx&&0==r.xy&&0==r.yx&&1==r.yy&&0==r.dx&&0==r.dy},clone:function(r){var d=new y.Matrix2D,n;for(n in r)"number"==typeof r[n]&&"number"==typeof d[n]&&d[n]!=r[n]&&(d[n]=r[n]);return d},invert:function(r){r=y.normalize(r);var d=r.xx*r.yy-r.xy*r.yx;return r=new y.Matrix2D({xx:r.yy/d,xy:-r.xy/d,yx:-r.yx/d,yy:r.xx/d,dx:(r.xy*r.dy-r.yy*r.dx)/d,dy:(r.yx*r.dx-r.xx*r.dy)/d})},_multiplyPoint:function(r,d,n){return{x:r.xx*d+r.xy*n+r.dx,y:r.yx*d+r.yy*n+r.dy}},multiplyPoint:function(r,
d,n){r=y.normalize(r);return"number"==typeof d&&"number"==typeof n?y._multiplyPoint(r,d,n):y._multiplyPoint(r,d.x,d.y)},multiplyRectangle:function(r,d){var n=y.normalize(r);d=d||{x:0,y:0,width:0,height:0};if(y.isIdentity(n))return{x:d.x,y:d.y,width:d.width,height:d.height};r=y.multiplyPoint(n,d.x,d.y);var h=y.multiplyPoint(n,d.x,d.y+d.height),v=y.multiplyPoint(n,d.x+d.width,d.y);d=y.multiplyPoint(n,d.x+d.width,d.y+d.height);var n=Math.min(r.x,h.x,v.x,d.x),x=Math.min(r.y,h.y,v.y,d.y);return{x:n,y:x,
width:Math.max(r.x,h.x,v.x,d.x)-n,height:Math.max(r.y,h.y,v.y,d.y)-x}},multiply:function(r){for(var d=y.normalize(r),n=1;n<arguments.length;++n){var h=d,v=y.normalize(arguments[n]),d=new y.Matrix2D;d.xx=h.xx*v.xx+h.xy*v.yx;d.xy=h.xx*v.xy+h.xy*v.yy;d.yx=h.yx*v.xx+h.yy*v.yx;d.yy=h.yx*v.xy+h.yy*v.yy;d.dx=h.xx*v.dx+h.xy*v.dy+h.dx;d.dy=h.yx*v.dx+h.yy*v.dy+h.dy}return d},_sandwich:function(r,d,n){return y.multiply(y.translate(d,n),r,y.translate(-d,-n))},scaleAt:function(r,d,n,h){switch(arguments.length){case 4:return y._sandwich(y.scale(r,
d),n,h);case 3:return"number"==typeof n?y._sandwich(y.scale(r),d,n):y._sandwich(y.scale(r,d),n.x,n.y)}return y._sandwich(y.scale(r),d.x,d.y)},rotateAt:function(r,d,n){return 2<arguments.length?y._sandwich(y.rotate(r),d,n):y._sandwich(y.rotate(r),d.x,d.y)},rotategAt:function(r,d,n){return 2<arguments.length?y._sandwich(y.rotateg(r),d,n):y._sandwich(y.rotateg(r),d.x,d.y)},skewXAt:function(r,d,n){return 2<arguments.length?y._sandwich(y.skewX(r),d,n):y._sandwich(y.skewX(r),d.x,d.y)},skewXgAt:function(r,
d,n){return 2<arguments.length?y._sandwich(y.skewXg(r),d,n):y._sandwich(y.skewXg(r),d.x,d.y)},skewYAt:function(r,d,n){return 2<arguments.length?y._sandwich(y.skewY(r),d,n):y._sandwich(y.skewY(r),d.x,d.y)},skewYgAt:function(r,d,n){return 2<arguments.length?y._sandwich(y.skewYg(r),d,n):y._sandwich(y.skewYg(r),d.x,d.y)}});F.Matrix2D=y.Matrix2D;return y})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(F,v,y,r,x){x=y("dojox.gfx.path.Path",
x.Shape,{constructor:function(d){this.shape=v.clone(F.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=d;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();this.absolute="string"==typeof d?"absolute"==d:d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,n=this._getRealMatrix();this.bbox=null;for(var h=0,r=this.segments.length;h<r;++h)this._updateWithSegment(this.segments[h],n);n=this.bbox;this.bbox=d;return this.tbbox=n?[{x:n.l,y:n.t},{x:n.r,y:n.t},{x:n.r,y:n.b},{x:n.l,y:n.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(d,n,h){h&&(n=r.multiplyPoint(h,d,n),d=n.x,n=n.y);this.bbox&&"l"in this.bbox?(this.bbox.l>d&&(this.bbox.l=d),this.bbox.r<d&&(this.bbox.r=d),this.bbox.t>n&&(this.bbox.t=n),this.bbox.b<n&&(this.bbox.b=n)):this.bbox={l:d,b:n,r:d,t:n}},_updateWithSegment:function(d,n){var h=d.args,r=h.length,v;switch(d.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(v=0;v<r;v+=2)this._updateBBox(h[v],h[v+1],n);this.last.x=h[r-2];this.last.y=h[r-1];this.absolute=!0;break;case "H":for(v=
0;v<r;++v)this._updateBBox(h[v],this.last.y,n);this.last.x=h[r-1];this.absolute=!0;break;case "V":for(v=0;v<r;++v)this._updateBBox(this.last.x,h[v],n);this.last.y=h[r-1];this.absolute=!0;break;case "m":v=0;"x"in this.last||(this._updateBBox(this.last.x=h[0],this.last.y=h[1],n),v=2);for(;v<r;v+=2)this._updateBBox(this.last.x+=h[v],this.last.y+=h[v+1],n);this.absolute=!1;break;case "l":case "t":for(v=0;v<r;v+=2)this._updateBBox(this.last.x+=h[v],this.last.y+=h[v+1],n);this.absolute=!1;break;case "h":for(v=
0;v<r;++v)this._updateBBox(this.last.x+=h[v],this.last.y,n);this.absolute=!1;break;case "v":for(v=0;v<r;++v)this._updateBBox(this.last.x,this.last.y+=h[v],n);this.absolute=!1;break;case "c":for(v=0;v<r;v+=6)this._updateBBox(this.last.x+h[v],this.last.y+h[v+1],n),this._updateBBox(this.last.x+h[v+2],this.last.y+h[v+3],n),this._updateBBox(this.last.x+=h[v+4],this.last.y+=h[v+5],n);this.absolute=!1;break;case "s":case "q":for(v=0;v<r;v+=4)this._updateBBox(this.last.x+h[v],this.last.y+h[v+1],n),this._updateBBox(this.last.x+=
h[v+2],this.last.y+=h[v+3],n);this.absolute=!1;break;case "A":for(v=0;v<r;v+=7)this._updateBBox(h[v+5],h[v+6],n);this.last.x=h[r-2];this.last.y=h[r-1];this.absolute=!0;break;case "a":for(v=0;v<r;v+=7)this._updateBBox(this.last.x+=h[v+5],this.last.y+=h[v+6],n);this.absolute=!1}d=[d.action];for(v=0;v<r;++v)d.push(F.formatNumber(h[v],!0));if("string"==typeof this.shape.path)this.shape.path+=d.join("");else for(v=0,r=d.length;v<r;++v)this.shape.path.push(d[v])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,
q:4,t:2,a:7,z:0},_pushSegment:function(d,n){this.tbbox=null;var h=this._validSegments[d.toLowerCase()];"number"==typeof h&&(h?n.length>=h&&(d={action:d,args:n.slice(0,n.length-n.length%h)},this.segments.push(d),this._updateWithSegment(d)):(d={action:d,args:[]},this.segments.push(d),this._updateWithSegment(d)))},_collectArgs:function(d,n){for(var h=0;h<n.length;++h){var r=n[h];"boolean"==typeof r?d.push(r?1:0):"number"==typeof r?d.push(r):r instanceof Array?this._collectArgs(d,r):"x"in r&&"y"in r&&
d.push(r.x,r.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,
arguments);this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(d){d=
v.isArray(d)?d:d.match(F.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(d){for(var n="",h=[],r=d.length,x=0;x<r;++x){var y=d[x],D=parseFloat(y);isNaN(D)?(n&&this._pushSegment(n,h),h=[],n=y):h.push(D)}this._pushSegment(n,h)}},setShape:function(d){this.inherited(arguments,["string"==typeof d?{path:d}:d]);this.segmented=!1;this.segments=[];F.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});y=y("dojox.gfx.path.TextPath",x,{constructor:function(d){"text"in
this||(this.text=v.clone(F.defaultTextPath));"fontStyle"in this||(this.fontStyle=v.clone(F.defaultFont))},getText:function(){return this.text},setText:function(d){this.text=F.makeParameters(this.text,"string"==typeof d?{text:d}:d);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?F.splitFontString(d):F.makeParameters(F.defaultFont,d);this._setFont();return this}});return F.path={Path:x,TextPath:y}})},"*now":function(F){F(['dojo/i18n!*preload*esri/widgets/nls/Editor*["ar","bs","ca","cs","da","de","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper @dojo/framework/shim/Map dojo/i18n!../nls/common dojo/i18n!./Editor/nls/Editor dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../intl ../core/events ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./FeatureForm ./FeatureTemplates ./Spinner ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(F,v,y,
r,x,d,n,h,H,I,B,D,z,E,l,g,q,p,J,P,K){function N(d){d.focus()}return function(p){function t(d){var n=p.call(this,d)||this;n._candidateCommitted=!1;n._featureForm=new l;n._featureTemplates=new g;n._filterText="";n._prompt=null;n._spinner=new q;n.activeWorkflow=null;n.allowedWorkflows=null;n.iconClass="esri-icon-edit";n.label=h.widgetLabel;n.layerInfos=null;n.supportingWidgetDefaults=null;n.view=null;n.viewModel=new J;n._setCandidateFeature=function(d,g){void 0===g&&(g=!1);if(!n._candidateCommitted){var h=
n.viewModel.activeWorkflow;h.data.edits.feature=d;g&&(h.next(),n._candidateCommitted=!0)}};n._handleSave=n._handleSave.bind(n);n._handleBack=n._handleBack.bind(n);n._handleDone=n._handleDone.bind(n);n._handleDelete=n._handleDelete.bind(n);n._handleAdd=n._handleAdd.bind(n);n._handleEdit=n._handleEdit.bind(n);return n}y(t,p);t.prototype.postInitialize=function(){var d=this;this.own([z.init(this,"viewModel",function(g){d._featureForm.viewModel=g?g.featureFormViewModel:null;d._featureTemplates.viewModel=
g?g.featureTemplatesViewModel:null;d._spinner.viewModel=g?g.spinnerViewModel:null}),z.init(this,"view",function(g,h){var l="editor-"+d.id+"-spinner";h&&h.ui.remove(d._spinner,l);g&&g.ui.add(d._spinner,{key:l,position:"manual"})}),z.on(this,"viewModel.sketchViewModel","create",function(){d.scheduleRender()}),z.on(this,"viewModel.activeWorkflow","cancel-request",function(g){var l=g.controller;d._prompt={title:h.cancelRequestTitle,message:h.cancelRequestWarningMessage,options:[{label:n.form.no,type:"neutral",
action:function(){l.deny();return d._prompt=null}},{label:n.form.yes,type:"negative",action:function(){l.allow();d._prompt=null}}]};d.scheduleRender()}),z.init(this,"supportingWidgetDefaults",function(g){g&&(d._featureForm.set(g.featureForm),d._featureTemplates.set(g.featureTemplates),d.viewModel.sketchViewModel.set(g.sketch))}),z.watch(this,"viewModel.failures",function(g){if(g){g=g[0];var l=g.retry,n=g.cancel;d._prompt={title:h.errorWarningTitle,message:I.substitute(h.errorWarningMessageTemplate,
{errorMessage:g.error.message}),options:[{label:h.retry,type:"positive",action:function(){l();d._prompt=null}},{label:h.ignore,type:"neutral",action:function(){n();return d._prompt=null}}]}}}),z.watch(this,"viewModel.state",function(g){"awaiting-update-feature-candidate"===g&&(d._candidateCommitted=!1)}),z.whenNot(this,"viewModel.activeWorkflow",function(){return d._featureTemplates.filterText=""})])};t.prototype.destroy=function(){this._featureForm.destroy();this._featureTemplates.destroy()};t.prototype.startCreateWorkflowAtFeatureTypeSelection=
function(){return this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};t.prototype.startCreateWorkflowAtFeatureCreation=function(d){return this.viewModel.startCreateWorkflowAtFeatureCreation(d)};t.prototype.startCreateWorkflowAtFeatureEdit=function(d){return this.viewModel.startCreateWorkflowAtFeatureEdit(d)};t.prototype.startUpdateWorkflowAtFeatureSelection=function(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()};t.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(d){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(d)};
t.prototype.startUpdateWorkflowAtFeatureEdit=function(d){return this.viewModel.startUpdateWorkflowAtFeatureEdit(d)};t.prototype.deleteFeatureFromWorkflow=function(){return this.viewModel.deleteFeatureFromWorkflow()};t.prototype.cancelWorkflow=function(d){return this.viewModel.cancelWorkflow(d)};t.prototype.render=function(){var d=this.viewModel;if(!d)return K.tsx("div",{class:"esri-editor esri-widget"});var d=d.state,g=this._prompt?K.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,
title:this._prompt.title,options:this._prompt.options})):null;return K.tsx("div",{class:"esri-editor esri-widget"},this.viewModel.syncing?this.renderProgressBar():null,"disabled"===d?null:"ready"===d?this.renderLanding():"awaiting-feature-creation-info"===d?this.renderTemplates():"editing-new-feature"===d||"editing-existing-feature"===d?this.renderAttributeEditing():"awaiting-feature-to-update"===d?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===d?this.renderFeatureList():"awaiting-feature-to-create"===
d?this.renderFeatureCreation():null,g)};t.prototype.renderTemplates=function(){return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.selectTemplate,!0),K.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()))};t.prototype.renderAttributeEditing=function(){var d=this.viewModel,g=d.activeWorkflow,d=d.featureFormViewModel,l=g.data.edits.feature,p="create"===g.type?n.add:n.update,q=[{label:p,type:"primary",disabled:"update"===g.type&&
!g.data.edits.modified||0<d.inputFields.length&&!d.valid,clickHandler:this._handleSave}];"update"===g.type&&-1<g.data.editableItem.supports.indexOf("delete")&&q.push({label:n.delete,type:"tertiary",clickHandler:this._handleDelete});g=this._getLabel(l);return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(g,!0),K.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},0<d.inputFields.length?this._featureForm.render():this.renderMessage(I.substitute(h.clickToFinishTemplate,
{button:p}))),this.renderControls(q))};t.prototype.renderFeatureUpdating=function(){return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.selectFeature,!0),K.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(h.selectFeatureToEdit)))};t.prototype.renderMessage=function(d){return K.tsx("div",{class:"esri-editor__message"},d)};t.prototype.renderFeatureCreation=function(){var d=this.viewModel,g=d.sketchViewModel,
d=d.activeWorkflow.data.creationInfo.layer,g=g.canUndo()&&g.createGraphic?g.createGraphic:null,g=this._getSketchingTip(d.geometryType,g);return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.placeFeature,!0),K.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(g)))};t.prototype.renderControls=function(d){var g=this;return K.tsx("div",{class:"esri-editor__controls",key:"controls"},d.map(function(d,h){var l=
d.disabled,l=void 0===l?!1:l,n=d.type,p=d.clickHandler;return g.renderButton({label:d.label,class:g.classes("esri-editor__control-button","esri-button","secondary"===n?"esri-button--secondary":"tertiary"===n?"esri-button--tertiary":null,l?"esri-button--disabled":null),disabled:l,clickHandler:p,key:h})}))};t.prototype.renderPrompt=function(d){var g=this,h=d.title,l=d.message;d=d.options;d=void 0===d?[]:d;return K.tsx("div",{class:"esri-editor__warning-card",role:"alert"},K.tsx("div",{class:"esri-editor__warning-header"},
K.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),K.tsx("h4",{class:this.classes("esri-heading","esri-editor__warning-heading")},h)),K.tsx("div",{class:"esri-editor__warning-message"},l),K.tsx("div",{class:"esri-editor__warning-divider"}),d.map(function(d,h){var l=d.label,n=d.action;d=d.type;var p=0===h;return K.tsx("div",{afterCreate:p?N:null,class:g.classes("esri-editor__warning-option",p?"esri-editor__warning-option--primary":null,"positive"===d?"esri-editor__warning-option--positive":
"negative"===d?"esri-editor__warning-option--negative":null),key:h,onclick:n,onkeydown:function(d){var g=B.eventKey(d);if("Enter"===g||" "===g)d.preventDefault(),n.call(null)},tabIndex:0,role:"button"},l)}))};t.prototype.renderProgressBar=function(){return K.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};t.prototype.renderButton=function(d){return K.tsx("button",{class:d.class,disabled:d.disabled,key:d.key,onclick:d.clickHandler},d.label)};t.prototype.renderHeader=
function(d,g){void 0===g&&(g=!1);return K.tsx("header",{class:"esri-editor__header",key:"header"},g?K.tsx("div",{"aria-label":n.back,class:this.classes("esri-editor__back-button","esri-interactive"),key:"back-button",onclick:this._handleBack,onkeydown:this._handleBack,tabIndex:0,title:n.back},K.tsx("span",{"aria-hidden":"true",class:K.isRTL()?"esri-icon-right":"esri-icon-left"})):null,K.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},d))};t.prototype.renderLanding=function(){var d=
this.viewModel,g=d.allowedWorkflows,l=d.canCreate,d=d.canUpdate,n=K.isRTL()?"esri-icon-left":"esri-icon-right";return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.widgetLabel),K.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},K.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<g.indexOf("update")?K.tsx("div",{"aria-disabled":d?"false":"true",class:this.classes("esri-editor__feature-list-item",d?null:"esri-editor__feature-list-item--disabled"),
key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",tabIndex:d?0:-1},K.tsx("span",{class:"esri-editor__feature-list-name"},h.editFeature),K.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",n)})):null,-1<g.indexOf("create")?K.tsx("div",{class:this.classes("esri-editor__feature-list-item",l?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:l?0:-1},K.tsx("span",
{class:"esri-editor__feature-list-name"},h.addFeature),K.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",n)})):null)))};t.prototype.renderFeatureList=function(){var g=this,l=this.viewModel,n=l.editableItems,p=l.activeWorkflow.data.candidates,l=I.substitute(h.multipleFeaturesTemplate,{total:p.length}),q=new d.default;p.map(function(d){return{label:g._getLabel(d),id:d.attributes[d.layer.objectIdField],data:d}}).filter(function(d){var h=d.label,l=d.data;d=g._filterText.toLowerCase();
var n=l.layer.title;return-1<g.viewModel.editableItems.find(function(d){return d.layer===l.layer}).supports.indexOf("update")&&(!d||-1<h.toLowerCase().indexOf(d)||-1<n.toLowerCase().indexOf(d))}).forEach(function(d){var g=d.data.layer;q.has(g)?q.get(g).items.push(d):q.set(g,{id:g.id,label:g.title,items:[d]})});n=n.filter(function(d){return q.has(d.layer)}).map(function(d){return q.get(d.layer)}).toArray();return K.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(l,!0),
K.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},P.ItemList({id:this.id,filterText:this._filterText,items:n,messages:{filterPlaceholder:H.filterPlaceholder,noItems:H.noItems,noMatches:H.noMatches},onItemMouseEnter:function(d){return g._setCandidateFeature(d.data)},onItemMouseLeave:function(){return g._setCandidateFeature(null)},onItemSelect:function(d){return g._setCandidateFeature(d.data,!0)},onFilterChange:function(d){return g._filterText=d}})))};t.prototype._getSketchingTip=
function(d,g){if("point"===d)return h.tips.clickToAddPoint;if("polygon"===d||"polyline"===d){if(!g)return h.tips.clickToStart;g=g.geometry["polygon"===d?"rings":"paths"][0];return"polygon"===d&&4>g?h.tips.clickToContinue:h.tips.clickToContinueThenDoubleClickToEnd}return h.tips.clickToAddFeature};t.prototype._getLabel=function(d){var g=d.layer,l=g.displayField,g=g.objectIdField;d=d.attributes;return l&&d[l]||I.substitute(h.untitledFeatureTemplate,{id:d[g]})};t.prototype._handleDelete=function(){var d=
this;this._prompt={title:h.deleteWarningTitle,message:h.deleteWarningMessage,options:[{label:h.keepFeature,type:"neutral",action:function(){return d._prompt=null}},{label:n.delete,type:"positive",action:function(){d.viewModel.deleteFeatureFromWorkflow();d._prompt=null}}]}};t.prototype._handleSave=function(){this.viewModel.activeWorkflow.commit()};t.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};t.prototype._handleEdit=function(){this.viewModel.canUpdate&&
this.viewModel.startUpdateWorkflowAtFeatureSelection()};t.prototype._handleDone=function(){this.viewModel.cancelWorkflow({force:!0})};t.prototype._handleBack=function(){var d=this,g=this.viewModel.activeWorkflow,l=g.stepId,n=g.data,p=g.type,q=function(){g.hasPreviousStep?g.previous():d.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===l||"editing-existing-feature"===l&&n.edits.modified?this._prompt={title:"create"===p?h.cancelAddTitle:h.cancelEditTitle,message:"create"===p?h.cancelAddWarningMessage:
h.cancelEditWarningMessage,options:[{label:"create"===p?h.continueAdding:h.continueEditing,type:"neutral",action:function(){return d._prompt=null}},{label:"create"===p?h.discardFeature:h.discardEdits,type:"negative",action:function(){q();d._prompt=null}}]}:q()};r([E.aliasOf("viewModel.activeWorkflow")],t.prototype,"activeWorkflow",void 0);r([E.aliasOf("viewModel.allowedWorkflows")],t.prototype,"allowedWorkflows",void 0);r([E.property()],t.prototype,"iconClass",void 0);r([E.property()],t.prototype,
"label",void 0);r([E.aliasOf("viewModel.layerInfos")],t.prototype,"layerInfos",void 0);r([E.property()],t.prototype,"supportingWidgetDefaults",void 0);r([E.aliasOf("viewModel.view")],t.prototype,"view",void 0);r([E.property(),K.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" "))],t.prototype,"viewModel",void 0);r([K.accessibleHandler()],t.prototype,"_handleDelete",null);r([K.accessibleHandler()],
t.prototype,"_handleAdd",null);r([K.accessibleHandler()],t.prototype,"_handleEdit",null);r([K.accessibleHandler()],t.prototype,"_handleDone",null);r([K.accessibleHandler()],t.prototype,"_handleBack",null);return t=r([E.subclass("esri.widgets.Editor")],t)}(E.declared(D.HandleOwnerMixin(p)))});